/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "__barrel_optimize__?names=AlertTriangle,ArrowLeft,Home,Mail,Phone,RefreshCw!=!./node_modules/lucide-react/dist/esm/lucide-react.js":
/*!******************************************************************************************************************************************!*\
  !*** __barrel_optimize__?names=AlertTriangle,ArrowLeft,Home,Mail,Phone,RefreshCw!=!./node_modules/lucide-react/dist/esm/lucide-react.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AlertTriangle: () => (/* reexport safe */ _icons_alert_triangle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   ArrowLeft: () => (/* reexport safe */ _icons_arrow_left_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   Home: () => (/* reexport safe */ _icons_home_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   Mail: () => (/* reexport safe */ _icons_mail_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   Phone: () => (/* reexport safe */ _icons_phone_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   RefreshCw: () => (/* reexport safe */ _icons_refresh_cw_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _icons_alert_triangle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./icons/alert-triangle.js */ \"./node_modules/lucide-react/dist/esm/icons/alert-triangle.js\");\n/* harmony import */ var _icons_arrow_left_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./icons/arrow-left.js */ \"./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _icons_home_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icons/home.js */ \"./node_modules/lucide-react/dist/esm/icons/home.js\");\n/* harmony import */ var _icons_mail_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./icons/mail.js */ \"./node_modules/lucide-react/dist/esm/icons/mail.js\");\n/* harmony import */ var _icons_phone_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./icons/phone.js */ \"./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _icons_refresh_cw_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./icons/refresh-cw.js */ \"./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX19iYXJyZWxfb3B0aW1pemVfXz9uYW1lcz1BbGVydFRyaWFuZ2xlLEFycm93TGVmdCxIb21lLE1haWwsUGhvbmUsUmVmcmVzaEN3IT0hLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2x1Y2lkZS1yZWFjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ29FO0FBQ1I7QUFDWDtBQUNBO0FBQ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXJzdHJlYW0tbGVhcm5pbmctcGxhdGZvcm0vLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2x1Y2lkZS1yZWFjdC5qcz8xMDI0Il0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGVydFRyaWFuZ2xlIH0gZnJvbSBcIi4vaWNvbnMvYWxlcnQtdHJpYW5nbGUuanNcIlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0xlZnQgfSBmcm9tIFwiLi9pY29ucy9hcnJvdy1sZWZ0LmpzXCJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSG9tZSB9IGZyb20gXCIuL2ljb25zL2hvbWUuanNcIlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYWlsIH0gZnJvbSBcIi4vaWNvbnMvbWFpbC5qc1wiXG5leHBvcnQgeyBkZWZhdWx0IGFzIFBob25lIH0gZnJvbSBcIi4vaWNvbnMvcGhvbmUuanNcIlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBSZWZyZXNoQ3cgfSBmcm9tIFwiLi9pY29ucy9yZWZyZXNoLWN3LmpzXCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///__barrel_optimize__?names=AlertTriangle,ArrowLeft,Home,Mail,Phone,RefreshCw!=!./node_modules/lucide-react/dist/esm/lucide-react.js\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _src_contexts_FirebaseAuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/contexts/FirebaseAuthContext */ \"./src/contexts/FirebaseAuthContext.tsx\");\n/* harmony import */ var _src_contexts_PermissionContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/contexts/PermissionContext */ \"./src/contexts/PermissionContext.tsx\");\n/* harmony import */ var _src_components_ui_TokenStatusIndicator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../src/components/ui/TokenStatusIndicator */ \"./src/components/ui/TokenStatusIndicator.tsx\");\n/* harmony import */ var _src_components_ui_GlobalErrorBoundary__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../src/components/ui/GlobalErrorBoundary */ \"./src/components/ui/GlobalErrorBoundary.tsx\");\n/* harmony import */ var _src_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/index.css */ \"./src/index.css\");\n/* harmony import */ var _src_index_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_src_index_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _src_utils_consoleStorage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../src/utils/consoleStorage */ \"./src/utils/consoleStorage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_contexts_FirebaseAuthContext__WEBPACK_IMPORTED_MODULE_2__]);\n_src_contexts_FirebaseAuthContext__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n// Import console storage utilities for global access\n\n// Firebase Auth Initializer Component\nconst FirebaseAuthInitializer = ()=>{\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    // Firebase Auth handles token management automatically\n    // No need for manual token refresh setup\n    return null;\n};\n// Client-side only components to prevent hydration issues\nconst ClientOnlyComponents = ()=>{\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    if (!isClient) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children:  true && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"fixed bottom-4 right-4 z-50\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_TokenStatusIndicator__WEBPACK_IMPORTED_MODULE_4__.TokenStatusIndicator, {\n                showDetails: true,\n                showRefreshButton: true,\n                className: \"\"\n            }, void 0, false, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n                lineNumber: 42,\n                columnNumber: 11\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n            lineNumber: 41,\n            columnNumber: 9\n        }, undefined)\n    }, void 0, false);\n};\nfunction App({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_GlobalErrorBoundary__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_FirebaseAuthContext__WEBPACK_IMPORTED_MODULE_2__.FirebaseAuthProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_PermissionContext__WEBPACK_IMPORTED_MODULE_3__.PermissionProvider, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FirebaseAuthInitializer, {}, void 0, false, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                        ...pageProps\n                    }, void 0, false, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ClientOnlyComponents, {}, void 0, false, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n                lineNumber: 57,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n            lineNumber: 56,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\pages\\\\_app.tsx\",\n        lineNumber: 55,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQzJDO0FBQytCO0FBQ0o7QUFDVTtBQUNOO0FBQ2pEO0FBQ3pCLHFEQUFxRDtBQUNqQjtBQUVwQyxzQ0FBc0M7QUFDdEMsTUFBTU0sMEJBQTBCO0lBQzlCLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHUCwrQ0FBUUEsQ0FBQztJQUV6Q0QsZ0RBQVNBLENBQUM7UUFDUlEsWUFBWTtJQUNkLEdBQUcsRUFBRTtJQUVMLHVEQUF1RDtJQUN2RCx5Q0FBeUM7SUFFekMsT0FBTztBQUNUO0FBRUEsMERBQTBEO0FBQzFELE1BQU1DLHVCQUF1QjtJQUMzQixNQUFNLENBQUNGLFVBQVVDLFlBQVksR0FBR1AsK0NBQVFBLENBQUM7SUFFekNELGdEQUFTQSxDQUFDO1FBQ1JRLFlBQVk7SUFDZCxHQUFHLEVBQUU7SUFFTCxJQUFJLENBQUNELFVBQVU7UUFDYixPQUFPO0lBQ1Q7SUFFQSxxQkFDRTtrQkFFR0csS0FBeUIsa0JBQ3hCLDhEQUFDQztZQUFJQyxXQUFVO3NCQUNiLDRFQUFDUix5RkFBb0JBO2dCQUNuQlMsYUFBYTtnQkFDYkMsbUJBQW1CO2dCQUNuQkYsV0FBVTs7Ozs7Ozs7Ozs7O0FBTXRCO0FBRWUsU0FBU0csSUFBSSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBWTtJQUM1RCxxQkFDRSw4REFBQ1osOEVBQW1CQTtrQkFDbEIsNEVBQUNILG1GQUFvQkE7c0JBQ25CLDRFQUFDQywrRUFBa0JBOztrQ0FDakIsOERBQUNHOzs7OztrQ0FDRCw4REFBQ1U7d0JBQVcsR0FBR0MsU0FBUzs7Ozs7O2tDQUN4Qiw4REFBQ1I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFzdGVyc3RyZWFtLWxlYXJuaW5nLXBsYXRmb3JtLy4vcGFnZXMvX2FwcC50c3g/MmZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEFwcFByb3BzIH0gZnJvbSAnbmV4dC9hcHAnXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgRmlyZWJhc2VBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi9zcmMvY29udGV4dHMvRmlyZWJhc2VBdXRoQ29udGV4dCdcclxuaW1wb3J0IHsgUGVybWlzc2lvblByb3ZpZGVyIH0gZnJvbSAnLi4vc3JjL2NvbnRleHRzL1Blcm1pc3Npb25Db250ZXh0J1xyXG5pbXBvcnQgeyBUb2tlblN0YXR1c0luZGljYXRvciB9IGZyb20gJy4uL3NyYy9jb21wb25lbnRzL3VpL1Rva2VuU3RhdHVzSW5kaWNhdG9yJ1xyXG5pbXBvcnQgR2xvYmFsRXJyb3JCb3VuZGFyeSBmcm9tICcuLi9zcmMvY29tcG9uZW50cy91aS9HbG9iYWxFcnJvckJvdW5kYXJ5J1xyXG5pbXBvcnQgJy4uL3NyYy9pbmRleC5jc3MnXHJcbi8vIEltcG9ydCBjb25zb2xlIHN0b3JhZ2UgdXRpbGl0aWVzIGZvciBnbG9iYWwgYWNjZXNzXHJcbmltcG9ydCAnLi4vc3JjL3V0aWxzL2NvbnNvbGVTdG9yYWdlJ1xyXG5cclxuLy8gRmlyZWJhc2UgQXV0aCBJbml0aWFsaXplciBDb21wb25lbnRcclxuY29uc3QgRmlyZWJhc2VBdXRoSW5pdGlhbGl6ZXIgPSAoKSA9PiB7XHJcbiAgY29uc3QgW2lzQ2xpZW50LCBzZXRJc0NsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRJc0NsaWVudCh0cnVlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIEZpcmViYXNlIEF1dGggaGFuZGxlcyB0b2tlbiBtYW5hZ2VtZW50IGF1dG9tYXRpY2FsbHlcclxuICAvLyBObyBuZWVkIGZvciBtYW51YWwgdG9rZW4gcmVmcmVzaCBzZXR1cFxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufTtcclxuXHJcbi8vIENsaWVudC1zaWRlIG9ubHkgY29tcG9uZW50cyB0byBwcmV2ZW50IGh5ZHJhdGlvbiBpc3N1ZXNcclxuY29uc3QgQ2xpZW50T25seUNvbXBvbmVudHMgPSAoKSA9PiB7XHJcbiAgY29uc3QgW2lzQ2xpZW50LCBzZXRJc0NsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRJc0NsaWVudCh0cnVlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGlmICghaXNDbGllbnQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIHsvKiBUb2tlbiBTdGF0dXMgSW5kaWNhdG9yIC0gT25seSBzaG93IGluIGRldmVsb3BtZW50ICovfVxyXG4gICAgICB7cHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgcmlnaHQtNCB6LTUwXCI+XHJcbiAgICAgICAgICA8VG9rZW5TdGF0dXNJbmRpY2F0b3JcclxuICAgICAgICAgICAgc2hvd0RldGFpbHM9e3RydWV9XHJcbiAgICAgICAgICAgIHNob3dSZWZyZXNoQnV0dG9uPXt0cnVlfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xyXG4gIHJldHVybiAoXHJcbiAgICA8R2xvYmFsRXJyb3JCb3VuZGFyeT5cclxuICAgICAgPEZpcmViYXNlQXV0aFByb3ZpZGVyPlxyXG4gICAgICAgIDxQZXJtaXNzaW9uUHJvdmlkZXI+XHJcbiAgICAgICAgICA8RmlyZWJhc2VBdXRoSW5pdGlhbGl6ZXIgLz5cclxuICAgICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cclxuICAgICAgICAgIDxDbGllbnRPbmx5Q29tcG9uZW50cyAvPlxyXG4gICAgICAgIDwvUGVybWlzc2lvblByb3ZpZGVyPlxyXG4gICAgICA8L0ZpcmViYXNlQXV0aFByb3ZpZGVyPlxyXG4gICAgPC9HbG9iYWxFcnJvckJvdW5kYXJ5PlxyXG4gIClcclxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkZpcmViYXNlQXV0aFByb3ZpZGVyIiwiUGVybWlzc2lvblByb3ZpZGVyIiwiVG9rZW5TdGF0dXNJbmRpY2F0b3IiLCJHbG9iYWxFcnJvckJvdW5kYXJ5IiwiRmlyZWJhc2VBdXRoSW5pdGlhbGl6ZXIiLCJpc0NsaWVudCIsInNldElzQ2xpZW50IiwiQ2xpZW50T25seUNvbXBvbmVudHMiLCJwcm9jZXNzIiwiZGl2IiwiY2xhc3NOYW1lIiwic2hvd0RldGFpbHMiLCJzaG93UmVmcmVzaEJ1dHRvbiIsIkFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./src/components/ui/Button.tsx":
/*!**************************************!*\
  !*** ./src/components/ui/Button.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * Button Component\n * \n * A reusable button component with multiple variants and sizes.\n * Supports all standard button HTML attributes plus custom styling options.\n * \n * @component\n * @example\n * ```tsx\n * <Button variant=\"primary\" size=\"md\" onClick={() => console.log('clicked')}>\n *   Click Me\n * </Button>\n * ```\n */ \n\nconst Button = ({ variant = \"primary\", size = \"md\", children, fullWidth = false, className = \"\", ...props })=>{\n    const baseStyles = \"inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50\";\n    const variantStyles = {\n        primary: \"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500\",\n        secondary: \"bg-gray-800 text-white hover:bg-gray-700 focus-visible:ring-gray-500\",\n        outline: \"border border-gray-300 bg-transparent hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-gray-800 dark:text-white\",\n        ghost: \"bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 dark:text-white\"\n    };\n    const sizeStyles = {\n        sm: \"h-8 px-3 text-xs\",\n        md: \"h-10 px-4 py-2\",\n        lg: \"h-12 px-6 text-lg\"\n    };\n    const widthStyles = fullWidth ? \"w-full\" : \"\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: `${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${widthStyles} ${className}`,\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\Button.tsx\",\n        lineNumber: 55,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Button);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy91aS9CdXR0b24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQztBQUV5QjtBQWExQixNQUFNQyxTQUFnQyxDQUFDLEVBQ3JDQyxVQUFVLFNBQVMsRUFDbkJDLE9BQU8sSUFBSSxFQUNYQyxRQUFRLEVBQ1JDLFlBQVksS0FBSyxFQUNqQkMsWUFBWSxFQUFFLEVBQ2QsR0FBR0MsT0FDSjtJQUNDLE1BQU1DLGFBQWE7SUFFbkIsTUFBTUMsZ0JBQWdCO1FBQ3BCQyxTQUFTO1FBQ1RDLFdBQVc7UUFDWEMsU0FBUztRQUNUQyxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxhQUFhO1FBQ2pCQyxJQUFJO1FBQ0pDLElBQUk7UUFDSkMsSUFBSTtJQUNOO0lBRUEsTUFBTUMsY0FBY2IsWUFBWSxXQUFXO0lBRTNDLHFCQUNFLDhEQUFDYztRQUNDYixXQUFXLENBQUMsRUFBRUUsV0FBVyxDQUFDLEVBQUVDLGFBQWEsQ0FBQ1AsUUFBUSxDQUFDLENBQUMsRUFBRVksVUFBVSxDQUFDWCxLQUFLLENBQUMsQ0FBQyxFQUFFZSxZQUFZLENBQUMsRUFBRVosVUFBVSxDQUFDO1FBQ25HLEdBQUdDLEtBQUs7a0JBRVJIOzs7Ozs7QUFHUDtBQUVBLGlFQUFlSCxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFzdGVyc3RyZWFtLWxlYXJuaW5nLXBsYXRmb3JtLy4vc3JjL2NvbXBvbmVudHMvdWkvQnV0dG9uLnRzeD8wMTNhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQnV0dG9uIENvbXBvbmVudFxuICogXG4gKiBBIHJldXNhYmxlIGJ1dHRvbiBjb21wb25lbnQgd2l0aCBtdWx0aXBsZSB2YXJpYW50cyBhbmQgc2l6ZXMuXG4gKiBTdXBwb3J0cyBhbGwgc3RhbmRhcmQgYnV0dG9uIEhUTUwgYXR0cmlidXRlcyBwbHVzIGN1c3RvbSBzdHlsaW5nIG9wdGlvbnMuXG4gKiBcbiAqIEBjb21wb25lbnRcbiAqIEBleGFtcGxlXG4gKiBgYGB0c3hcbiAqIDxCdXR0b24gdmFyaWFudD1cInByaW1hcnlcIiBzaXplPVwibWRcIiBvbkNsaWNrPXsoKSA9PiBjb25zb2xlLmxvZygnY2xpY2tlZCcpfT5cbiAqICAgQ2xpY2sgTWVcbiAqIDwvQnV0dG9uPlxuICogYGBgXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIEJ1dHRvblByb3BzIGV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+IHtcbiAgLyoqIEJ1dHRvbiBzdHlsZSB2YXJpYW50ICovXG4gIHZhcmlhbnQ/OiAncHJpbWFyeScgfCAnc2Vjb25kYXJ5JyB8ICdvdXRsaW5lJyB8ICdnaG9zdCc7XG4gIC8qKiBCdXR0b24gc2l6ZSAqL1xuICBzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnO1xuICAvKiogQnV0dG9uIGNvbnRlbnQgKi9cbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgLyoqIFdoZXRoZXIgdGhlIGJ1dHRvbiBzaG91bGQgdGFrZSBmdWxsIHdpZHRoIG9mIGl0cyBjb250YWluZXIgKi9cbiAgZnVsbFdpZHRoPzogYm9vbGVhbjtcbn1cblxuY29uc3QgQnV0dG9uOiBSZWFjdC5GQzxCdXR0b25Qcm9wcz4gPSAoe1xuICB2YXJpYW50ID0gJ3ByaW1hcnknLFxuICBzaXplID0gJ21kJyxcbiAgY2hpbGRyZW4sXG4gIGZ1bGxXaWR0aCA9IGZhbHNlLFxuICBjbGFzc05hbWUgPSAnJyxcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3QgYmFzZVN0eWxlcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6b3BhY2l0eS01MCc7XG4gIFxuICBjb25zdCB2YXJpYW50U3R5bGVzID0ge1xuICAgIHByaW1hcnk6ICdiZy1yZWQtNjAwIHRleHQtd2hpdGUgaG92ZXI6YmctcmVkLTcwMCBmb2N1cy12aXNpYmxlOnJpbmctcmVkLTUwMCcsXG4gICAgc2Vjb25kYXJ5OiAnYmctZ3JheS04MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ncmF5LTcwMCBmb2N1cy12aXNpYmxlOnJpbmctZ3JheS01MDAnLFxuICAgIG91dGxpbmU6ICdib3JkZXIgYm9yZGVyLWdyYXktMzAwIGJnLXRyYW5zcGFyZW50IGhvdmVyOmJnLWdyYXktMTAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgZGFyazp0ZXh0LXdoaXRlJyxcbiAgICBnaG9zdDogJ2JnLXRyYW5zcGFyZW50IGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgZGFyazp0ZXh0LXdoaXRlJyxcbiAgfTtcbiAgXG4gIGNvbnN0IHNpemVTdHlsZXMgPSB7XG4gICAgc206ICdoLTggcHgtMyB0ZXh0LXhzJyxcbiAgICBtZDogJ2gtMTAgcHgtNCBweS0yJyxcbiAgICBsZzogJ2gtMTIgcHgtNiB0ZXh0LWxnJyxcbiAgfTtcbiAgXG4gIGNvbnN0IHdpZHRoU3R5bGVzID0gZnVsbFdpZHRoID8gJ3ctZnVsbCcgOiAnJztcbiAgXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlU3R5bGVzfSAke3ZhcmlhbnRTdHlsZXNbdmFyaWFudF19ICR7c2l6ZVN0eWxlc1tzaXplXX0gJHt3aWR0aFN0eWxlc30gJHtjbGFzc05hbWV9YH1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b247Il0sIm5hbWVzIjpbIlJlYWN0IiwiQnV0dG9uIiwidmFyaWFudCIsInNpemUiLCJjaGlsZHJlbiIsImZ1bGxXaWR0aCIsImNsYXNzTmFtZSIsInByb3BzIiwiYmFzZVN0eWxlcyIsInZhcmlhbnRTdHlsZXMiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5Iiwib3V0bGluZSIsImdob3N0Iiwic2l6ZVN0eWxlcyIsInNtIiwibWQiLCJsZyIsIndpZHRoU3R5bGVzIiwiYnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ui/Button.tsx\n");

/***/ }),

/***/ "./src/components/ui/GlobalErrorBoundary.tsx":
/*!***************************************************!*\
  !*** ./src/components/ui/GlobalErrorBoundary.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Home,Mail,Phone,RefreshCw!=!lucide-react */ \"__barrel_optimize__?names=AlertTriangle,ArrowLeft,Home,Mail,Phone,RefreshCw!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Button */ \"./src/components/ui/Button.tsx\");\n\n\n\n\nclass GlobalErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n    static getDerivedStateFromError(error) {\n        return {\n            hasError: true,\n            error,\n            errorId: `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n        };\n    }\n    componentDidCatch(error, errorInfo) {\n        console.error(\"GlobalErrorBoundary caught an error:\", error, errorInfo);\n        // Log error to monitoring service (if available)\n        this.logError(error, errorInfo);\n        // Call custom error handler if provided\n        if (this.props.onError) {\n            this.props.onError(error, errorInfo);\n        }\n        this.setState({\n            errorInfo\n        });\n    }\n    render() {\n        if (this.state.hasError) {\n            if (this.props.fallback) {\n                return this.props.fallback;\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-2xl w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center mb-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"inline-flex items-center justify-center w-16 h-16 bg-red-500/20 rounded-full mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__.AlertTriangle, {\n                                        className: \"h-8 w-8 text-red-400\"\n                                    }, void 0, false, {\n                                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                        lineNumber: 147,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 146,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                    className: \"text-2xl font-bold mb-2\",\n                                    children: \"Something went wrong\"\n                                }, void 0, false, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-400\",\n                                    children: \"We're sorry, but something unexpected happened. Our team has been notified.\"\n                                }, void 0, false, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 150,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                            lineNumber: 145,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-gray-800 rounded-lg p-6 mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-lg font-semibold\",\n                                            children: \"Error Information\"\n                                        }, void 0, false, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 158,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center space-x-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-gray-500\",\n                                                    children: [\n                                                        \"ID: \",\n                                                        this.state.errorId\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 160,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    onClick: this.toggleDetails,\n                                                    className: \"text-xs\",\n                                                    children: [\n                                                        this.state.showDetails ? \"Hide\" : \"Show\",\n                                                        \" Details\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 161,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 159,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 157,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-400\",\n                                                    children: \"Error:\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 174,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-red-400\",\n                                                    children: this.state.error?.message\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 175,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 173,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-400\",\n                                                    children: \"Type:\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 178,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2\",\n                                                    children: this.state.error?.name\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 179,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 177,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-400\",\n                                                    children: \"URL:\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 182,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-blue-400\",\n                                                    children: window.location.href\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 183,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 181,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 15\n                                }, this),\n                                this.state.showDetails && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 pt-4 border-t border-gray-700\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-sm font-semibold mb-2\",\n                                            children: \"Technical Details\"\n                                        }, void 0, false, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 190,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-900 rounded p-3 text-xs font-mono overflow-auto max-h-40\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-red-400 mb-2\",\n                                                    children: \"Stack Trace:\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 192,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                    className: \"whitespace-pre-wrap text-gray-300\",\n                                                    children: this.state.error?.stack\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 193,\n                                                    columnNumber: 21\n                                                }, this),\n                                                this.state.errorInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-red-400 mb-2 mt-4\",\n                                                            children: \"Component Stack:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                            lineNumber: 198,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                            className: \"whitespace-pre-wrap text-gray-300\",\n                                                            children: this.state.errorInfo.componentStack\n                                                        }, void 0, false, {\n                                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                            lineNumber: 199,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 191,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 189,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                            lineNumber: 156,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    variant: \"primary\",\n                                    onClick: this.handleRetry,\n                                    className: \"flex items-center justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__.RefreshCw, {\n                                            className: \"h-4 w-4 mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 216,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Try Again\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 211,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    variant: \"outline\",\n                                    onClick: this.handleGoBack,\n                                    className: \"flex items-center justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__.ArrowLeft, {\n                                            className: \"h-4 w-4 mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 224,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Go Back\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    variant: \"outline\",\n                                    onClick: this.handleGoHome,\n                                    className: \"flex items-center justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__.Home, {\n                                            className: \"h-4 w-4 mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 232,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Go Home\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 227,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    variant: \"outline\",\n                                    onClick: this.handleContactSupport,\n                                    className: \"flex items-center justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__.Mail, {\n                                            className: \"h-4 w-4 mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 240,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Contact Support\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 235,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-gray-800 rounded-lg p-4 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-sm font-semibold mb-2\",\n                                    children: \"Need Help?\"\n                                }, void 0, false, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 247,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-center space-x-6 text-sm text-gray-400\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__.Mail, {\n                                                    className: \"h-4 w-4 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 250,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"support@fowardafrica.com\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 251,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 249,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Home_Mail_Phone_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_3__.Phone, {\n                                                    className: \"h-4 w-4 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 254,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"+234 XXX XXX XXXX\"\n                                                }, void 0, false, {\n                                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                                    lineNumber: 255,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                            lineNumber: 253,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                                    lineNumber: 248,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                            lineNumber: 246,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                    lineNumber: 143,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\GlobalErrorBoundary.tsx\",\n                lineNumber: 142,\n                columnNumber: 9\n            }, this);\n        }\n        return this.props.children;\n    }\n    constructor(...args){\n        super(...args);\n        this.state = {\n            hasError: false,\n            showDetails: false\n        };\n        this.logError = (error, errorInfo)=>{\n            const errorData = {\n                id: this.state.errorId,\n                timestamp: new Date().toISOString(),\n                error: {\n                    name: error.name,\n                    message: error.message,\n                    stack: error.stack\n                },\n                errorInfo: {\n                    componentStack: errorInfo.componentStack\n                },\n                userAgent: navigator.userAgent,\n                url: window.location.href,\n                userId: this.getCurrentUserId()\n            };\n            // Log to console in development\n            if (true) {\n                console.group(\"\\uD83D\\uDEA8 Error Details\");\n                console.log(\"Error ID:\", errorData.id);\n                console.log(\"Error:\", errorData.error);\n                console.log(\"Component Stack:\", errorData.errorInfo.componentStack);\n                console.log(\"User Agent:\", errorData.userAgent);\n                console.log(\"URL:\", errorData.url);\n                console.groupEnd();\n            }\n            // Send to error reporting service (if configured)\n            this.sendErrorReport(errorData);\n        };\n        this.getCurrentUserId = ()=>{\n            try {\n                const user = localStorage.getItem(\"user\");\n                return user ? JSON.parse(user).id : null;\n            } catch  {\n                return null;\n            }\n        };\n        this.sendErrorReport = (errorData)=>{\n            // In a real application, you would send this to your error reporting service\n            // For now, we'll just store it locally for debugging\n            try {\n                const existingErrors = JSON.parse(localStorage.getItem(\"errorReports\") || \"[]\");\n                existingErrors.unshift(errorData);\n                localStorage.setItem(\"errorReports\", JSON.stringify(existingErrors.slice(0, 50)));\n            } catch (error) {\n                console.error(\"Failed to store error report:\", error);\n            }\n        };\n        this.handleRetry = ()=>{\n            this.setState({\n                hasError: false,\n                error: undefined,\n                errorInfo: undefined,\n                errorId: undefined,\n                showDetails: false\n            });\n        };\n        this.handleGoHome = ()=>{\n            window.location.href = \"/\";\n        };\n        this.handleGoBack = ()=>{\n            window.history.back();\n        };\n        this.toggleDetails = ()=>{\n            this.setState((prev)=>({\n                    showDetails: !prev.showDetails\n                }));\n        };\n        this.handleContactSupport = ()=>{\n            const subject = encodeURIComponent(`Error Report - ${this.state.errorId}`);\n            const body = encodeURIComponent(`\r\nError ID: ${this.state.errorId}\r\nError: ${this.state.error?.message}\r\nURL: ${window.location.href}\r\nUser Agent: ${navigator.userAgent}\r\n    `);\n            window.open(`mailto:support@fowardafrica.com?subject=${subject}&body=${body}`, \"_blank\");\n        };\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GlobalErrorBoundary);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy91aS9HbG9iYWxFcnJvckJvdW5kYXJ5LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRDtBQUM0QjtBQUM3RDtBQWlCOUIsTUFBTVMsNEJBQTRCUiw0Q0FBU0E7SUFNekMsT0FBY1MseUJBQXlCQyxLQUFZLEVBQWtCO1FBQ25FLE9BQU87WUFDTEMsVUFBVTtZQUNWRDtZQUNBRSxTQUFTLENBQUMsTUFBTSxFQUFFQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQyxFQUFFQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDM0U7SUFDRjtJQUVPQyxrQkFBa0JULEtBQVksRUFBRVUsU0FBb0IsRUFBRTtRQUMzREMsUUFBUVgsS0FBSyxDQUFDLHdDQUF3Q0EsT0FBT1U7UUFFN0QsaURBQWlEO1FBQ2pELElBQUksQ0FBQ0UsUUFBUSxDQUFDWixPQUFPVTtRQUVyQix3Q0FBd0M7UUFDeEMsSUFBSSxJQUFJLENBQUNHLEtBQUssQ0FBQ0MsT0FBTyxFQUFFO1lBQ3RCLElBQUksQ0FBQ0QsS0FBSyxDQUFDQyxPQUFPLENBQUNkLE9BQU9VO1FBQzVCO1FBRUEsSUFBSSxDQUFDSyxRQUFRLENBQUM7WUFBRUw7UUFBVTtJQUM1QjtJQXlGT00sU0FBUztRQUNkLElBQUksSUFBSSxDQUFDQyxLQUFLLENBQUNoQixRQUFRLEVBQUU7WUFDdkIsSUFBSSxJQUFJLENBQUNZLEtBQUssQ0FBQ0ssUUFBUSxFQUFFO2dCQUN2QixPQUFPLElBQUksQ0FBQ0wsS0FBSyxDQUFDSyxRQUFRO1lBQzVCO1lBRUEscUJBQ0UsOERBQUNDO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBRWIsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0Q7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUM3QixnSUFBYUE7d0NBQUM2QixXQUFVOzs7Ozs7Ozs7Ozs4Q0FFM0IsOERBQUNDO29DQUFH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QUN3RCxDQUFBQSxPQUFTO29CQUFFMUMsYUFBYSxDQUFDMEMsS0FBSzFDLFdBQVc7Z0JBQUM7UUFDMUQ7YUFFUWEsdUJBQXVCO1lBQzdCLE1BQU04QixVQUFVQyxtQkFBbUIsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDeEQsS0FBSyxDQUFDZixPQUFPLENBQUMsQ0FBQztZQUN6RSxNQUFNd0UsT0FBT0QsbUJBQW1CLENBQUM7VUFDM0IsRUFBRSxJQUFJLENBQUN4RCxLQUFLLENBQUNmLE9BQU8sQ0FBQztPQUN4QixFQUFFLElBQUksQ0FBQ2UsS0FBSyxDQUFDakIsS0FBSyxFQUFFOEIsUUFBUTtLQUM5QixFQUFFRSxPQUFPQyxRQUFRLENBQUNDLElBQUksQ0FBQztZQUNoQixFQUFFZSxVQUFVRCxTQUFTLENBQUM7SUFDOUIsQ0FBQztZQUVEaEIsT0FBTzJDLElBQUksQ0FBQyxDQUFDLHdDQUF3QyxFQUFFSCxRQUFRLE1BQU0sRUFBRUUsS0FBSyxDQUFDLEVBQUU7UUFDakY7O0FBcUlGO0FBRUEsaUVBQWU1RSxtQkFBbUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXJzdHJlYW0tbGVhcm5pbmctcGxhdGZvcm0vLi9zcmMvY29tcG9uZW50cy91aS9HbG9iYWxFcnJvckJvdW5kYXJ5LnRzeD9mODU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIEVycm9ySW5mbywgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBBbGVydFRyaWFuZ2xlLCBSZWZyZXNoQ3csIEhvbWUsIEFycm93TGVmdCwgQnVnLCBNYWlsLCBQaG9uZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnLi9CdXR0b24nO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBjaGlsZHJlbjogUmVhY3ROb2RlO1xyXG4gIGZhbGxiYWNrPzogUmVhY3ROb2RlO1xyXG4gIG9uRXJyb3I/OiAoZXJyb3I6IEVycm9yLCBlcnJvckluZm86IEVycm9ySW5mbykgPT4gdm9pZDtcclxuICBzaG93RGV0YWlscz86IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgaGFzRXJyb3I6IGJvb2xlYW47XHJcbiAgZXJyb3I/OiBFcnJvcjtcclxuICBlcnJvckluZm8/OiBFcnJvckluZm87XHJcbiAgZXJyb3JJZD86IHN0cmluZztcclxuICBzaG93RGV0YWlsczogYm9vbGVhbjtcclxufVxyXG5cclxuY2xhc3MgR2xvYmFsRXJyb3JCb3VuZGFyeSBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICBwdWJsaWMgc3RhdGU6IFN0YXRlID0ge1xyXG4gICAgaGFzRXJyb3I6IGZhbHNlLFxyXG4gICAgc2hvd0RldGFpbHM6IGZhbHNlXHJcbiAgfTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3I6IEVycm9yKTogUGFydGlhbDxTdGF0ZT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaGFzRXJyb3I6IHRydWUsXHJcbiAgICAgIGVycm9yLFxyXG4gICAgICBlcnJvcklkOiBgZXJyb3JfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbXBvbmVudERpZENhdGNoKGVycm9yOiBFcnJvciwgZXJyb3JJbmZvOiBFcnJvckluZm8pIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0dsb2JhbEVycm9yQm91bmRhcnkgY2F1Z2h0IGFuIGVycm9yOicsIGVycm9yLCBlcnJvckluZm8pO1xyXG5cclxuICAgIC8vIExvZyBlcnJvciB0byBtb25pdG9yaW5nIHNlcnZpY2UgKGlmIGF2YWlsYWJsZSlcclxuICAgIHRoaXMubG9nRXJyb3IoZXJyb3IsIGVycm9ySW5mbyk7XHJcblxyXG4gICAgLy8gQ2FsbCBjdXN0b20gZXJyb3IgaGFuZGxlciBpZiBwcm92aWRlZFxyXG4gICAgaWYgKHRoaXMucHJvcHMub25FcnJvcikge1xyXG4gICAgICB0aGlzLnByb3BzLm9uRXJyb3IoZXJyb3IsIGVycm9ySW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9ySW5mbyB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9nRXJyb3IgPSAoZXJyb3I6IEVycm9yLCBlcnJvckluZm86IEVycm9ySW5mbykgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JEYXRhID0ge1xyXG4gICAgICBpZDogdGhpcy5zdGF0ZS5lcnJvcklkLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBuYW1lOiBlcnJvci5uYW1lLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrXHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9ySW5mbzoge1xyXG4gICAgICAgIGNvbXBvbmVudFN0YWNrOiBlcnJvckluZm8uY29tcG9uZW50U3RhY2tcclxuICAgICAgfSxcclxuICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxyXG4gICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxyXG4gICAgICB1c2VySWQ6IHRoaXMuZ2V0Q3VycmVudFVzZXJJZCgpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvZyB0byBjb25zb2xlIGluIGRldmVsb3BtZW50XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgY29uc29sZS5ncm91cCgn8J+aqCBFcnJvciBEZXRhaWxzJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBJRDonLCBlcnJvckRhdGEuaWQpO1xyXG4gICAgICBjb25zb2xlLmxvZygnRXJyb3I6JywgZXJyb3JEYXRhLmVycm9yKTtcclxuICAgICAgY29uc29sZS5sb2coJ0NvbXBvbmVudCBTdGFjazonLCBlcnJvckRhdGEuZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrKTtcclxuICAgICAgY29uc29sZS5sb2coJ1VzZXIgQWdlbnQ6JywgZXJyb3JEYXRhLnVzZXJBZ2VudCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdVUkw6JywgZXJyb3JEYXRhLnVybCk7XHJcbiAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZW5kIHRvIGVycm9yIHJlcG9ydGluZyBzZXJ2aWNlIChpZiBjb25maWd1cmVkKVxyXG4gICAgdGhpcy5zZW5kRXJyb3JSZXBvcnQoZXJyb3JEYXRhKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIGdldEN1cnJlbnRVc2VySWQgPSAoKTogc3RyaW5nIHwgbnVsbCA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTtcclxuICAgICAgcmV0dXJuIHVzZXIgPyBKU09OLnBhcnNlKHVzZXIpLmlkIDogbnVsbDtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIHNlbmRFcnJvclJlcG9ydCA9IChlcnJvckRhdGE6IGFueSkgPT4ge1xyXG4gICAgLy8gSW4gYSByZWFsIGFwcGxpY2F0aW9uLCB5b3Ugd291bGQgc2VuZCB0aGlzIHRvIHlvdXIgZXJyb3IgcmVwb3J0aW5nIHNlcnZpY2VcclxuICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3Qgc3RvcmUgaXQgbG9jYWxseSBmb3IgZGVidWdnaW5nXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBleGlzdGluZ0Vycm9ycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Vycm9yUmVwb3J0cycpIHx8ICdbXScpO1xyXG4gICAgICBleGlzdGluZ0Vycm9ycy51bnNoaWZ0KGVycm9yRGF0YSk7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlcnJvclJlcG9ydHMnLCBKU09OLnN0cmluZ2lmeShleGlzdGluZ0Vycm9ycy5zbGljZSgwLCA1MCkpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdG9yZSBlcnJvciByZXBvcnQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUmV0cnkgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaGFzRXJyb3I6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogdW5kZWZpbmVkLFxyXG4gICAgICBlcnJvckluZm86IHVuZGVmaW5lZCxcclxuICAgICAgZXJyb3JJZDogdW5kZWZpbmVkLFxyXG4gICAgICBzaG93RGV0YWlsczogZmFsc2VcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlR29Ib21lID0gKCkgPT4ge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVHb0JhY2sgPSAoKSA9PiB7XHJcbiAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSB0b2dnbGVEZXRhaWxzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2ID0+ICh7IHNob3dEZXRhaWxzOiAhcHJldi5zaG93RGV0YWlscyB9KSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVDb250YWN0U3VwcG9ydCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHN1YmplY3QgPSBlbmNvZGVVUklDb21wb25lbnQoYEVycm9yIFJlcG9ydCAtICR7dGhpcy5zdGF0ZS5lcnJvcklkfWApO1xyXG4gICAgY29uc3QgYm9keSA9IGVuY29kZVVSSUNvbXBvbmVudChgXHJcbkVycm9yIElEOiAke3RoaXMuc3RhdGUuZXJyb3JJZH1cclxuRXJyb3I6ICR7dGhpcy5zdGF0ZS5lcnJvcj8ubWVzc2FnZX1cclxuVVJMOiAke3dpbmRvdy5sb2NhdGlvbi5ocmVmfVxyXG5Vc2VyIEFnZW50OiAke25hdmlnYXRvci51c2VyQWdlbnR9XHJcbiAgICBgKTtcclxuXHJcbiAgICB3aW5kb3cub3BlbihgbWFpbHRvOnN1cHBvcnRAZm93YXJkYWZyaWNhLmNvbT9zdWJqZWN0PSR7c3ViamVjdH0mYm9keT0ke2JvZHl9YCwgJ19ibGFuaycpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5oYXNFcnJvcikge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5mYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmZhbGxiYWNrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktOTAwIHRleHQtd2hpdGUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCB3LWZ1bGxcIj5cclxuICAgICAgICAgICAgey8qIEVycm9yIEhlYWRlciAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy0xNiBoLTE2IGJnLXJlZC01MDAvMjAgcm91bmRlZC1mdWxsIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cImgtOCB3LTggdGV4dC1yZWQtNDAwXCIgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTJcIj5Tb21ldGhpbmcgd2VudCB3cm9uZzwvaDE+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxyXG4gICAgICAgICAgICAgICAgV2UncmUgc29ycnksIGJ1dCBzb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5lZC4gT3VyIHRlYW0gaGFzIGJlZW4gbm90aWZpZWQuXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBFcnJvciBEZXRhaWxzICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHJvdW5kZWQtbGcgcC02IG1iLTZcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+RXJyb3IgSW5mb3JtYXRpb248L2gyPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+SUQ6IHt0aGlzLnN0YXRlLmVycm9ySWR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVEZXRhaWxzfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHNcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc2hvd0RldGFpbHMgPyAnSGlkZScgOiAnU2hvdyd9IERldGFpbHNcclxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPkVycm9yOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXJlZC00MDBcIj57dGhpcy5zdGF0ZS5lcnJvcj8ubWVzc2FnZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5UeXBlOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMlwiPnt0aGlzLnN0YXRlLmVycm9yPy5uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlVSTDo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1ibHVlLTQwMFwiPnt3aW5kb3cubG9jYXRpb24uaHJlZn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgey8qIERldGFpbGVkIEVycm9yIEluZm9ybWF0aW9uICovfVxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNob3dEZXRhaWxzICYmIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTcwMFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIG1iLTJcIj5UZWNobmljYWwgRGV0YWlsczwvaDM+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZCBwLTMgdGV4dC14cyBmb250LW1vbm8gb3ZlcmZsb3ctYXV0byBtYXgtaC00MFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwIG1iLTJcIj5TdGFjayBUcmFjZTo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC1ncmF5LTMwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3I/LnN0YWNrfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcHJlPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9ySW5mbyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMCBtYi0yIG10LTRcIj5Db21wb25lbnQgU3RhY2s6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LWdyYXktMzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3ByZT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogQWN0aW9uIEJ1dHRvbnMgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNCBtYi02XCI+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZXRyeX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBUcnkgQWdhaW5cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUdvQmFja31cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBHbyBCYWNrXHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVHb0hvbWV9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEhvbWUgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgIEdvIEhvbWVcclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNvbnRhY3RTdXBwb3J0fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBDb250YWN0IFN1cHBvcnRcclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogU3VwcG9ydCBJbmZvcm1hdGlvbiAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHAtNCB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgbWItMlwiPk5lZWQgSGVscD88L2gzPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteC02IHRleHQtc20gdGV4dC1ncmF5LTQwMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8TWFpbCBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8c3Bhbj5zdXBwb3J0QGZvd2FyZGFmcmljYS5jb208L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPFBob25lIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuPisyMzQgWFhYIFhYWCBYWFhYPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHbG9iYWxFcnJvckJvdW5kYXJ5OyJdLCJuYW1lcyI6WyJSZWFjdCIsIkNvbXBvbmVudCIsIkFsZXJ0VHJpYW5nbGUiLCJSZWZyZXNoQ3ciLCJIb21lIiwiQXJyb3dMZWZ0IiwiTWFpbCIsIlBob25lIiwiQnV0dG9uIiwiR2xvYmFsRXJyb3JCb3VuZGFyeSIsImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsImVycm9yIiwiaGFzRXJyb3IiLCJlcnJvcklkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNvbXBvbmVudERpZENhdGNoIiwiZXJyb3JJbmZvIiwiY29uc29sZSIsImxvZ0Vycm9yIiwicHJvcHMiLCJvbkVycm9yIiwic2V0U3RhdGUiLCJyZW5kZXIiLCJzdGF0ZSIsImZhbGxiYWNrIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJwIiwiaDIiLCJzcGFuIiwidmFyaWFudCIsInNpemUiLCJvbkNsaWNrIiwidG9nZ2xlRGV0YWlscyIsInNob3dEZXRhaWxzIiwibWVzc2FnZSIsIm5hbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJoMyIsInByZSIsInN0YWNrIiwiY29tcG9uZW50U3RhY2siLCJoYW5kbGVSZXRyeSIsImhhbmRsZUdvQmFjayIsImhhbmRsZUdvSG9tZSIsImhhbmRsZUNvbnRhY3RTdXBwb3J0IiwiY2hpbGRyZW4iLCJlcnJvckRhdGEiLCJpZCIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwidXJsIiwidXNlcklkIiwiZ2V0Q3VycmVudFVzZXJJZCIsInByb2Nlc3MiLCJncm91cCIsImxvZyIsImdyb3VwRW5kIiwic2VuZEVycm9yUmVwb3J0IiwidXNlciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJleGlzdGluZ0Vycm9ycyIsInVuc2hpZnQiLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwic2xpY2UiLCJ1bmRlZmluZWQiLCJoaXN0b3J5IiwiYmFjayIsInByZXYiLCJzdWJqZWN0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYm9keSIsIm9wZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ui/GlobalErrorBoundary.tsx\n");

/***/ }),

/***/ "./src/components/ui/TokenStatusIndicator.tsx":
/*!****************************************************!*\
  !*** ./src/components/ui/TokenStatusIndicator.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminTokenStatusIndicator: () => (/* binding */ AdminTokenStatusIndicator),\n/* harmony export */   MinimalTokenStatus: () => (/* binding */ MinimalTokenStatus),\n/* harmony export */   TokenStatusIndicator: () => (/* binding */ TokenStatusIndicator)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useTokenRefresh__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useTokenRefresh */ \"./src/hooks/useTokenRefresh.ts\");\n// Token Status Indicator Component\n// Displays current token status and provides manual refresh functionality\n\n\n\nconst TokenStatusIndicator = ({ showDetails = false, showRefreshButton = true, className = \"\" })=>{\n    const { tokenStatus, refreshState, refreshToken } = (0,_hooks_useTokenRefresh__WEBPACK_IMPORTED_MODULE_2__.useTokenRefresh)();\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Set client flag on mount to prevent hydration issues\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    const [shouldRedirectToLogin, setShouldRedirectToLogin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Handle expired token redirect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (tokenStatus.isExpired && tokenStatus.isAuthenticated) {\n            setShouldRedirectToLogin(true);\n            const timer = setTimeout(()=>{\n                window.location.href = \"/login\";\n            }, 3000);\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        tokenStatus.isExpired,\n        tokenStatus.isAuthenticated\n    ]);\n    const handleRefresh = async ()=>{\n        try {\n            await refreshToken();\n        } catch (error) {\n            console.error(\"Manual refresh failed:\", error);\n        }\n    };\n    const getStatusColor = ()=>{\n        if (tokenStatus.isExpired) return \"text-red-500\";\n        if (tokenStatus.shouldRefresh) return \"text-yellow-500\";\n        return \"text-green-500\";\n    };\n    const getStatusIcon = ()=>{\n        if (tokenStatus.isExpired) return \"\\uD83D\\uDD34\";\n        if (tokenStatus.shouldRefresh) return \"\\uD83D\\uDFE1\";\n        return \"\\uD83D\\uDFE2\";\n    };\n    const getStatusText = ()=>{\n        if (tokenStatus.isExpired) return \"Expired\";\n        if (tokenStatus.shouldRefresh) return \"Needs Refresh\";\n        return \"Valid\";\n    };\n    const timeUntilExpiry = tokenStatus.expiryTime ? Math.max(0, Math.floor((tokenStatus.expiryTime - Date.now()) / 1000)) : null;\n    // Don't render anything until client-side hydration is complete\n    if (!isClient) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `token-status-indicator ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: getStatusColor(),\n                        children: getStatusIcon()\n                    }, void 0, false, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 78,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm font-medium\",\n                        children: getStatusText()\n                    }, void 0, false, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 79,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                lineNumber: 77,\n                columnNumber: 7\n            }, undefined),\n            showDetails && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-xs space-y-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Status:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 86,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \",\n                            getStatusText()\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 85,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Time Until Expiry:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 89,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \",\n                            timeUntilExpiry || \"Unknown\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 88,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Is Authenticated:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 92,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \",\n                            tokenStatus.isAuthenticated ? \"Yes\" : \"No\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 91,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Should Refresh:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 95,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \",\n                            tokenStatus.shouldRefresh ? \"Yes\" : \"No\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 94,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Is Refreshing:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 98,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \",\n                            refreshState.isRefreshing ? \"Yes\" : \"No\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Refresh Count:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 101,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \",\n                            refreshState.refreshCount\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 100,\n                        columnNumber: 11\n                    }, undefined),\n                    refreshState.lastRefreshTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Last Refresh:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 105,\n                                columnNumber: 15\n                            }, undefined),\n                            \" \",\n                            new Date(refreshState.lastRefreshTime).toLocaleTimeString()\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 104,\n                        columnNumber: 13\n                    }, undefined),\n                    tokenStatus.expiryTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Expires At:\"\n                            }, void 0, false, {\n                                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                                lineNumber: 110,\n                                columnNumber: 15\n                            }, undefined),\n                            \" \",\n                            new Date(tokenStatus.expiryTime).toLocaleString()\n                        ]\n                    }, void 0, true, {\n                        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                lineNumber: 84,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-3 pt-3 border-t border-gray-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex space-x-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleRefresh,\n                            disabled: refreshState.isRefreshing,\n                            className: \"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50\",\n                            children: refreshState.isRefreshing ? \"Refreshing...\" : \"Manual Refresh\"\n                        }, void 0, false, {\n                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                            lineNumber: 119,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>{\n                                console.log(\"Token Status:\", tokenStatus);\n                                console.log(\"Refresh State:\", refreshState);\n                            },\n                            className: \"px-3 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600\",\n                            children: \"Log Status\"\n                        }, void 0, false, {\n                            fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                    lineNumber: 118,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                lineNumber: 117,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n        lineNumber: 75,\n        columnNumber: 5\n    }, undefined);\n};\n// Admin-only token status component\nconst AdminTokenStatusIndicator = (props)=>{\n    const { tokenStatus } = (0,_hooks_useTokenRefresh__WEBPACK_IMPORTED_MODULE_2__.useTokenRefresh)();\n    // Only show for admin users\n    if (!tokenStatus.isAuthenticated) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"admin-token-status\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Admin Token Status\"\n            }, void 0, false, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                lineNumber: 153,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TokenStatusIndicator, {\n                ...props,\n                showDetails: true\n            }, void 0, false, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                lineNumber: 154,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n        lineNumber: 152,\n        columnNumber: 5\n    }, undefined);\n};\n// Minimal status indicator for production\nconst MinimalTokenStatus = ()=>{\n    const { tokenStatus, refreshState } = (0,_hooks_useTokenRefresh__WEBPACK_IMPORTED_MODULE_2__.useTokenRefresh)();\n    if (!tokenStatus.isAuthenticated) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"minimal-token-status\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `inline-block w-2 h-2 rounded-full ${tokenStatus.isExpired ? \"bg-red-500\" : tokenStatus.shouldRefresh ? \"bg-yellow-500\" : \"bg-green-500\"}`\n            }, void 0, false, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                lineNumber: 169,\n                columnNumber: 7\n            }, undefined),\n            refreshState.isRefreshing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"ml-1 text-xs text-gray-500\",\n                children: \"\\uD83D\\uDD04\"\n            }, void 0, false, {\n                fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n                lineNumber: 176,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\components\\\\ui\\\\TokenStatusIndicator.tsx\",\n        lineNumber: 168,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy91aS9Ub2tlblN0YXR1c0luZGljYXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxtQ0FBbUM7QUFDbkMsMEVBQTBFOztBQUV2QjtBQUNXO0FBUXZELE1BQU1JLHVCQUE0RCxDQUFDLEVBQ3hFQyxjQUFjLEtBQUssRUFDbkJDLG9CQUFvQixJQUFJLEVBQ3hCQyxZQUFZLEVBQUUsRUFDZjtJQUNDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUVDLFlBQVksRUFBRSxHQUFHUCx1RUFBZUE7SUFDbkUsTUFBTSxDQUFDUSxVQUFVQyxZQUFZLEdBQUdYLCtDQUFRQSxDQUFDO0lBRXpDLHVEQUF1RDtJQUN2REMsZ0RBQVNBLENBQUM7UUFDUlUsWUFBWTtJQUNkLEdBQUcsRUFBRTtJQUVMLE1BQU0sQ0FBQ0MsdUJBQXVCQyx5QkFBeUIsR0FBR2IsK0NBQVFBLENBQUM7SUFFbkUsZ0NBQWdDO0lBQ2hDQyxnREFBU0EsQ0FBQztRQUNSLElBQUlNLFlBQVlPLFNBQVMsSUFBSVAsWUFBWVEsZUFBZSxFQUFFO1lBQ3hERix5QkFBeUI7WUFDekIsTUFBTUcsUUFBUUMsV0FBVztnQkFDdkJDLE9BQU9DLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHO1lBQ3pCLEdBQUc7WUFDSCxPQUFPLElBQU1DLGFBQWFMO1FBQzVCO0lBQ0YsR0FBRztRQUFDVCxZQUFZTyxTQUFTO1FBQUVQLFlBQVlRLGVBQWU7S0FBQztJQUV2RCxNQUFNTyxnQkFBZ0I7UUFDcEIsSUFBSTtZQUNGLE1BQU1iO1FBQ1IsRUFBRSxPQUFPYyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQzFDO0lBQ0Y7SUFFQSxNQUFNRSxpQkFBaUI7UUFDckIsSUFBSWxCLFlBQVlPLFNBQVMsRUFBRSxPQUFPO1FBQ2xDLElBQUlQLFlBQVltQixhQUFhLEVBQUUsT0FBTztRQUN0QyxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxnQkFBZ0I7UUFDcEIsSUFBSXBCLFlBQVlP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QkFBRTdDLGFBQWE7Ozs7Ozs7Ozs7OztBQUdwRCxFQUFFO0FBRUYsMENBQTBDO0FBQ25DLE1BQU04QyxxQkFBK0I7SUFDMUMsTUFBTSxFQUFFM0MsV0FBVyxFQUFFQyxZQUFZLEVBQUUsR0FBR04sdUVBQWVBO0lBRXJELElBQUksQ0FBQ0ssWUFBWVEsZUFBZSxFQUFFO1FBQ2hDLE9BQU87SUFDVDtJQUVBLHFCQUNFLDhEQUFDcUI7UUFBSTlCLFdBQVU7OzBCQUNiLDhEQUFDOEI7Z0JBQUk5QixXQUFXLENBQUMsa0NBQWtDLEVBQ2pEQyxZQUFZTyxTQUFTLEdBQUcsZUFDeEJQLFlBQVltQixhQUFhLEdBQUcsa0JBQzVCLGVBQ0QsQ0FBQzs7Ozs7O1lBRURsQixhQUFhK0IsWUFBWSxrQkFDeEIsOERBQUNGO2dCQUFLL0IsV0FBVTswQkFBNkI7Ozs7Ozs7Ozs7OztBQUlyRCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFzdGVyc3RyZWFtLWxlYXJuaW5nLXBsYXRmb3JtLy4vc3JjL2NvbXBvbmVudHMvdWkvVG9rZW5TdGF0dXNJbmRpY2F0b3IudHN4Pzk0ODgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVG9rZW4gU3RhdHVzIEluZGljYXRvciBDb21wb25lbnRcbi8vIERpc3BsYXlzIGN1cnJlbnQgdG9rZW4gc3RhdHVzIGFuZCBwcm92aWRlcyBtYW51YWwgcmVmcmVzaCBmdW5jdGlvbmFsaXR5XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVG9rZW5SZWZyZXNoIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlVG9rZW5SZWZyZXNoJztcblxuaW50ZXJmYWNlIFRva2VuU3RhdHVzSW5kaWNhdG9yUHJvcHMge1xuICBzaG93RGV0YWlscz86IGJvb2xlYW47XG4gIHNob3dSZWZyZXNoQnV0dG9uPzogYm9vbGVhbjtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgVG9rZW5TdGF0dXNJbmRpY2F0b3I6IFJlYWN0LkZDPFRva2VuU3RhdHVzSW5kaWNhdG9yUHJvcHM+ID0gKHtcbiAgc2hvd0RldGFpbHMgPSBmYWxzZSxcbiAgc2hvd1JlZnJlc2hCdXR0b24gPSB0cnVlLFxuICBjbGFzc05hbWUgPSAnJyxcbn0pID0+IHtcbiAgY29uc3QgeyB0b2tlblN0YXR1cywgcmVmcmVzaFN0YXRlLCByZWZyZXNoVG9rZW4gfSA9IHVzZVRva2VuUmVmcmVzaCgpO1xuICBjb25zdCBbaXNDbGllbnQsIHNldElzQ2xpZW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBTZXQgY2xpZW50IGZsYWcgb24gbW91bnQgdG8gcHJldmVudCBoeWRyYXRpb24gaXNzdWVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNDbGllbnQodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBbc2hvdWxkUmVkaXJlY3RUb0xvZ2luLCBzZXRTaG91bGRSZWRpcmVjdFRvTG9naW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEhhbmRsZSBleHBpcmVkIHRva2VuIHJlZGlyZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRva2VuU3RhdHVzLmlzRXhwaXJlZCAmJiB0b2tlblN0YXR1cy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHNldFNob3VsZFJlZGlyZWN0VG9Mb2dpbih0cnVlKTtcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gICAgICB9LCAzMDAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cbiAgfSwgW3Rva2VuU3RhdHVzLmlzRXhwaXJlZCwgdG9rZW5TdGF0dXMuaXNBdXRoZW50aWNhdGVkXSk7XG5cbiAgY29uc3QgaGFuZGxlUmVmcmVzaCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcmVmcmVzaFRva2VuKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01hbnVhbCByZWZyZXNoIGZhaWxlZDonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXR1c0NvbG9yID0gKCkgPT4ge1xuICAgIGlmICh0b2tlblN0YXR1cy5pc0V4cGlyZWQpIHJldHVybiAndGV4dC1yZWQtNTAwJztcbiAgICBpZiAodG9rZW5TdGF0dXMuc2hvdWxkUmVmcmVzaCkgcmV0dXJuICd0ZXh0LXllbGxvdy01MDAnO1xuICAgIHJldHVybiAndGV4dC1ncmVlbi01MDAnO1xuICB9O1xuXG4gIGNvbnN0IGdldFN0YXR1c0ljb24gPSAoKSA9PiB7XG4gICAgaWYgKHRva2VuU3RhdHVzLmlzRXhwaXJlZCkgcmV0dXJuICfwn5S0JztcbiAgICBpZiAodG9rZW5TdGF0dXMuc2hvdWxkUmVmcmVzaCkgcmV0dXJuICfwn5+hJztcbiAgICByZXR1cm4gJ/Cfn6InO1xuICB9O1xuXG4gIGNvbnN0IGdldFN0YXR1c1RleHQgPSAoKSA9PiB7XG4gICAgaWYgKHRva2VuU3RhdHVzLmlzRXhwaXJlZCkgcmV0dXJuICdFeHBpcmVkJztcbiAgICBpZiAodG9rZW5TdGF0dXMuc2hvdWxkUmVmcmVzaCkgcmV0dXJuICdOZWVkcyBSZWZyZXNoJztcbiAgICByZXR1cm4gJ1ZhbGlkJztcbiAgfTtcblxuICBjb25zdCB0aW1lVW50aWxFeHBpcnkgPSB0b2tlblN0YXR1cy5leHBpcnlUaW1lXG4gICAgPyBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCh0b2tlblN0YXR1cy5leHBpcnlUaW1lIC0gRGF0ZS5ub3coKSkgLyAxMDAwKSlcbiAgICA6IG51bGw7XG5cbiAgLy8gRG9uJ3QgcmVuZGVyIGFueXRoaW5nIHVudGlsIGNsaWVudC1zaWRlIGh5ZHJhdGlvbiBpcyBjb21wbGV0ZVxuICBpZiAoIWlzQ2xpZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgdG9rZW4tc3RhdHVzLWluZGljYXRvciAke2NsYXNzTmFtZX1gfT5cbiAgICAgIHsvKiBTdGF0dXMgSWNvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Z2V0U3RhdHVzQ29sb3IoKX0+e2dldFN0YXR1c0ljb24oKX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj57Z2V0U3RhdHVzVGV4dCgpfTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRGV0YWlsZWQgU3RhdHVzIChpZiBlbmFibGVkKSAqL31cbiAgICAgIHtzaG93RGV0YWlscyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHNwYWNlLXktMVwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8c3Ryb25nPlN0YXR1czo8L3N0cm9uZz4ge2dldFN0YXR1c1RleHQoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHN0cm9uZz5UaW1lIFVudGlsIEV4cGlyeTo8L3N0cm9uZz4ge3RpbWVVbnRpbEV4cGlyeSB8fCAnVW5rbm93bid9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxzdHJvbmc+SXMgQXV0aGVudGljYXRlZDo8L3N0cm9uZz4ge3Rva2VuU3RhdHVzLmlzQXV0aGVudGljYXRlZCA/ICdZZXMnIDogJ05vJ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHN0cm9uZz5TaG91bGQgUmVmcmVzaDo8L3N0cm9uZz4ge3Rva2VuU3RhdHVzLnNob3VsZFJlZnJlc2ggPyAnWWVzJyA6ICdObyd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxzdHJvbmc+SXMgUmVmcmVzaGluZzo8L3N0cm9uZz4ge3JlZnJlc2hTdGF0ZS5pc1JlZnJlc2hpbmcgPyAnWWVzJyA6ICdObyd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxzdHJvbmc+UmVmcmVzaCBDb3VudDo8L3N0cm9uZz4ge3JlZnJlc2hTdGF0ZS5yZWZyZXNoQ291bnR9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3JlZnJlc2hTdGF0ZS5sYXN0UmVmcmVzaFRpbWUgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHN0cm9uZz5MYXN0IFJlZnJlc2g6PC9zdHJvbmc+IHtuZXcgRGF0ZShyZWZyZXNoU3RhdGUubGFzdFJlZnJlc2hUaW1lKS50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge3Rva2VuU3RhdHVzLmV4cGlyeVRpbWUgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHN0cm9uZz5FeHBpcmVzIEF0Ojwvc3Ryb25nPiB7bmV3IERhdGUodG9rZW5TdGF0dXMuZXhwaXJ5VGltZSkudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIERlYnVnIEFjdGlvbnMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgcHQtMyBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlZnJlc2h9XG4gICAgICAgICAgICBkaXNhYmxlZD17cmVmcmVzaFN0YXRlLmlzUmVmcmVzaGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXhzIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cmVmcmVzaFN0YXRlLmlzUmVmcmVzaGluZyA/ICdSZWZyZXNoaW5nLi4uJyA6ICdNYW51YWwgUmVmcmVzaCd9XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBTdGF0dXM6JywgdG9rZW5TdGF0dXMpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVmcmVzaCBTdGF0ZTonLCByZWZyZXNoU3RhdGUpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXhzIGJnLWdyYXktNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTYwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgTG9nIFN0YXR1c1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gQWRtaW4tb25seSB0b2tlbiBzdGF0dXMgY29tcG9uZW50XG5leHBvcnQgY29uc3QgQWRtaW5Ub2tlblN0YXR1c0luZGljYXRvcjogUmVhY3QuRkM8VG9rZW5TdGF0dXNJbmRpY2F0b3JQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyB0b2tlblN0YXR1cyB9ID0gdXNlVG9rZW5SZWZyZXNoKCk7XG5cbiAgLy8gT25seSBzaG93IGZvciBhZG1pbiB1c2Vyc1xuICBpZiAoIXRva2VuU3RhdHVzLmlzQXV0aGVudGljYXRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFkbWluLXRva2VuLXN0YXR1c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMVwiPkFkbWluIFRva2VuIFN0YXR1czwvZGl2PlxuICAgICAgPFRva2VuU3RhdHVzSW5kaWNhdG9yIHsuLi5wcm9wc30gc2hvd0RldGFpbHM9e3RydWV9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBNaW5pbWFsIHN0YXR1cyBpbmRpY2F0b3IgZm9yIHByb2R1Y3Rpb25cbmV4cG9ydCBjb25zdCBNaW5pbWFsVG9rZW5TdGF0dXM6IFJlYWN0LkZDID0gKCkgPT4ge1xuICBjb25zdCB7IHRva2VuU3RhdHVzLCByZWZyZXNoU3RhdGUgfSA9IHVzZVRva2VuUmVmcmVzaCgpO1xuXG4gIGlmICghdG9rZW5TdGF0dXMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluaW1hbC10b2tlbi1zdGF0dXNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgaW5saW5lLWJsb2NrIHctMiBoLTIgcm91bmRlZC1mdWxsICR7XG4gICAgICAgIHRva2VuU3RhdHVzLmlzRXhwaXJlZCA/ICdiZy1yZWQtNTAwJyA6XG4gICAgICAgIHRva2VuU3RhdHVzLnNob3VsZFJlZnJlc2ggPyAnYmcteWVsbG93LTUwMCcgOlxuICAgICAgICAnYmctZ3JlZW4tNTAwJ1xuICAgICAgfWB9IC8+XG5cbiAgICAgIHtyZWZyZXNoU3RhdGUuaXNSZWZyZXNoaW5nICYmIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj7wn5SEPC9zcGFuPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VUb2tlblJlZnJlc2giLCJUb2tlblN0YXR1c0luZGljYXRvciIsInNob3dEZXRhaWxzIiwic2hvd1JlZnJlc2hCdXR0b24iLCJjbGFzc05hbWUiLCJ0b2tlblN0YXR1cyIsInJlZnJlc2hTdGF0ZSIsInJlZnJlc2hUb2tlbiIsImlzQ2xpZW50Iiwic2V0SXNDbGllbnQiLCJzaG91bGRSZWRpcmVjdFRvTG9naW4iLCJzZXRTaG91bGRSZWRpcmVjdFRvTG9naW4iLCJpc0V4cGlyZWQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjbGVhclRpbWVvdXQiLCJoYW5kbGVSZWZyZXNoIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0U3RhdHVzQ29sb3IiLCJzaG91bGRSZWZyZXNoIiwiZ2V0U3RhdHVzSWNvbiIsImdldFN0YXR1c1RleHQiLCJ0aW1lVW50aWxFeHBpcnkiLCJleHBpcnlUaW1lIiwiTWF0aCIsIm1heCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImRpdiIsInNwYW4iLCJzdHJvbmciLCJpc1JlZnJlc2hpbmciLCJyZWZyZXNoQ291bnQiLCJsYXN0UmVmcmVzaFRpbWUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImxvZyIsIkFkbWluVG9rZW5TdGF0dXNJbmRpY2F0b3IiLCJwcm9wcyIsIk1pbmltYWxUb2tlblN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ui/TokenStatusIndicator.tsx\n");

/***/ }),

/***/ "./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/auth */ \"./src/lib/auth.ts\");\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Check authentication status\n    const checkAuthStatus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        // Only run on client side to prevent hydration issues\n        if (true) return;\n        try {\n            console.log(\"\\uD83D\\uDD0D AuthContext: Checking authentication status...\");\n            const token = _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.getToken();\n            if (!token) {\n                console.log(\"\\uD83D\\uDD0D AuthContext: No token found\");\n                setUser(null);\n                return;\n            }\n            console.log(\"\\uD83D\\uDD0D AuthContext: Token found, validating...\");\n            const user = await _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.getProfile();\n            console.log(\"✅ AuthContext: User profile loaded:\", user?.email);\n            setUser(user);\n            setError(null);\n        } catch (error) {\n            console.error(\"❌ AuthContext: Auth check error:\", error);\n            // Clear invalid auth data\n            _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.clearAuthData();\n            setUser(null);\n            setError(\"Authentication expired. Please log in again.\");\n        }\n    }, []);\n    // Enhanced refresh token with better error handling\n    const refreshToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        // Only run on client side\n        if (true) return;\n        try {\n            console.log(\"\\uD83D\\uDD04 AuthContext: Refreshing token...\");\n            const refreshToken = _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.getRefreshToken();\n            if (!refreshToken) {\n                throw new Error(\"No refresh token available\");\n            }\n            const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3002/api\"}/auth/refresh`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    refreshToken\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({\n                        error: \"Token refresh failed\"\n                    }));\n                throw new Error(errorData.error || \"Token refresh failed\");\n            }\n            const data = await response.json();\n            // Validate response data\n            if (!data.token || !data.refreshToken) {\n                throw new Error(\"Invalid refresh response\");\n            }\n            // Update stored tokens\n            const currentUser = _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.getUser();\n            if (currentUser) {\n                _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.setAuthData(data.token, data.refreshToken, currentUser);\n            }\n            setError(null);\n            console.log(\"✅ AuthContext: Token refreshed successfully\");\n        } catch (error) {\n            console.error(\"❌ AuthContext: Token refresh failed:\", error);\n            _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.clearAuthData();\n            setUser(null);\n            setError(\"Session expired. Please log in again.\");\n        }\n    }, []);\n    // Clear error\n    const clearError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setError(null);\n    }, []);\n    // Set client flag on mount to prevent hydration issues\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    // Check authentication status only after client-side hydration\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient) return;\n        // Check for existing authentication on app load\n        checkAuthStatus().finally(()=>{\n            setLoading(false);\n        });\n    }, [\n        checkAuthStatus,\n        isClient\n    ]);\n    // Watch for authentication state changes and handle navigation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient) return;\n        // If user becomes unauthenticated, redirect to appropriate page\n        if (!user && !loading) {\n            const currentPath = router.pathname;\n            // Don't redirect if already on login/register pages or public pages\n            const publicPaths = [\n                \"/login\",\n                \"/register\",\n                \"/\",\n                \"/landing\",\n                \"/about\",\n                \"/afri-sage\",\n                \"/community\",\n                \"/courses\",\n                \"/category\"\n            ];\n            const isPublicPath = publicPaths.some((path)=>currentPath === path || currentPath.startsWith(path));\n            if (!isPublicPath) {\n                console.log(\"\\uD83D\\uDEAA AuthContext: User logged out, redirecting from\", currentPath);\n                // Show a brief notification to the user\n                if (false) {}\n                // Redirect to login page, preserving the current path for post-login redirect\n                router.push({\n                    pathname: \"/login\",\n                    query: {\n                        redirect: currentPath\n                    }\n                });\n            }\n        }\n    }, [\n        user,\n        loading,\n        isClient,\n        router\n    ]);\n    const signIn = async (credentials)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            console.log(\"\\uD83D\\uDD10 AuthContext: Signing in...\");\n            // Validate credentials before sending\n            if (!credentials.email || !credentials.password) {\n                throw new Error(\"Email and password are required\");\n            }\n            if (!credentials.email.includes(\"@\")) {\n                throw new Error(\"Please enter a valid email address\");\n            }\n            const response = await _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.login(credentials);\n            setUser(response.user);\n            console.log(\"✅ AuthContext: Sign in successful\");\n            // Ensure the user state is properly set before any redirects\n            return response.user;\n        } catch (error) {\n            console.error(\"❌ AuthContext: Sign in error:\", error);\n            // Handle specific error types\n            let errorMessage = \"Sign in failed\";\n            if (error instanceof Error) {\n                if (error.message.includes(\"Network\") || error.message.includes(\"fetch\")) {\n                    errorMessage = \"Network error. Please check your connection.\";\n                } else if (error.message.includes(\"401\") || error.message.includes(\"Unauthorized\")) {\n                    errorMessage = \"Invalid email or password.\";\n                } else if (error.message.includes(\"500\") || error.message.includes(\"Internal server\")) {\n                    errorMessage = \"Server error. Please try again later.\";\n                } else if (error.message.includes(\"429\") || error.message.includes(\"rate limit\")) {\n                    errorMessage = \"Too many login attempts. Please wait a moment.\";\n                } else {\n                    errorMessage = error.message;\n                }\n            }\n            setError(errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const signUp = async (data)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            console.log(\"\\uD83D\\uDCDD AuthContext: Signing up...\");\n            const response = await _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.register(data);\n            setUser(response.user);\n            console.log(\"✅ AuthContext: Sign up successful\");\n            // Ensure the user state is properly set before any redirects\n            return response.user;\n        } catch (error) {\n            console.error(\"❌ AuthContext: Sign up error:\", error);\n            // Enhanced error handling for registration\n            let errorMessage = \"Sign up failed\";\n            if (error instanceof Error) {\n                // Check for specific error types\n                if (error.message.includes(\"User already exists\") || error.message.includes(\"EMAIL_EXISTS\") || error.message.includes(\"already registered\")) {\n                    errorMessage = \"This email is already registered. Please try logging in instead.\";\n                } else if (error.message.includes(\"Network\") || error.message.includes(\"fetch\")) {\n                    errorMessage = \"Network error. Please check your connection.\";\n                } else if (error.message.includes(\"WEAK_PASSWORD\")) {\n                    errorMessage = \"Password should be at least 6 characters.\";\n                } else if (error.message.includes(\"INVALID_EMAIL\")) {\n                    errorMessage = \"Please enter a valid email address.\";\n                } else if (error.message.includes(\"MISSING_DATA\")) {\n                    errorMessage = \"Please fill in all required fields.\";\n                } else if (error.message.includes(\"500\") || error.message.includes(\"Internal server\")) {\n                    errorMessage = \"Server error. Please try again later.\";\n                } else {\n                    errorMessage = error.message;\n                }\n            }\n            setError(errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const signOut = async ()=>{\n        try {\n            console.log(\"\\uD83D\\uDEAA AuthContext: Signing out...\");\n            _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.logout();\n            setUser(null);\n            setError(null);\n            console.log(\"✅ AuthContext: Sign out successful\");\n            // Redirect to home page after logout\n            router.push(\"/\");\n        } catch (error) {\n            console.error(\"❌ AuthContext: Sign out error:\", error);\n            // Even if logout fails, clear local state\n            setUser(null);\n            setError(null);\n            // Still redirect even if logout fails\n            router.push(\"/\");\n        }\n    };\n    const updateProfile = async (profileData)=>{\n        try {\n            setError(null);\n            console.log(\"\\uD83D\\uDD04 AuthContext: Updating profile with data:\", profileData);\n            const updatedUser = await _lib_auth__WEBPACK_IMPORTED_MODULE_3__.authService.updateProfile(profileData);\n            console.log(\"✅ AuthContext: Profile updated, new user data:\", updatedUser);\n            // Update the user state with the new data\n            setUser(updatedUser);\n            console.log(\"✅ AuthContext: User state updated with onboarding_completed:\", updatedUser.onboarding_completed);\n            return updatedUser;\n        } catch (error) {\n            console.error(\"❌ AuthContext: Profile update error:\", error);\n            setError(error instanceof Error ? error.message : \"Profile update failed\");\n            throw error;\n        }\n    };\n    const value = {\n        user,\n        profile: user,\n        loading: loading || !isClient,\n        isAuthenticated: !!user,\n        isAdmin: user?.role === \"super_admin\" || user?.role === \"content_manager\" || user?.role === \"community_manager\",\n        isSuperAdmin: user?.role === \"super_admin\",\n        error,\n        signIn,\n        signUp,\n        signOut,\n        updateProfile,\n        refreshToken,\n        clearError,\n        checkAuthStatus\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\contexts\\\\AuthContext.tsx\",\n        lineNumber: 356,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQ1I7SUFDRjtJQUVBLE1BQU1zRSxRQUFRO1FBQ1oxRTtRQUNBMkUsU0FBUzNFO1FBQ1RFLFNBQVNBLFdBQVcsQ0FBQ0k7UUFDckJzRSxpQkFBaUIsQ0FBQyxDQUFDNUU7UUFDbkI2RSxTQUFTN0UsTUFBTThFLFNBQVMsaUJBQWlCOUUsTUFBTThFLFNBQVMscUJBQXFCOUUsTUFBTThFLFNBQVM7UUFDNUZDLGNBQWMvRSxNQUFNOEUsU0FBUztRQUM3QjFFO1FBQ0F1RDtRQUNBTztRQUNBRTtRQUNBRTtRQUNBckQ7UUFDQW9CO1FBQ0E1QjtJQUNGO0lBRUEscUJBQ0UsOERBQUNoQixZQUFZdUYsUUFBUTtRQUFDTixPQUFPQTtrQkFDMUIzRTs7Ozs7O0FBR1AsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21hc3RlcnN0cmVhbS1sZWFybmluZy1wbGF0Zm9ybS8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3g/MWZhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyBhdXRoU2VydmljZSwgQXV0aFVzZXIsIExvZ2luQ3JlZGVudGlhbHMsIFJlZ2lzdGVyRGF0YSB9IGZyb20gJy4uL2xpYi9hdXRoJztcblxuaW50ZXJmYWNlIEF1dGhDb250ZXh0VHlwZSB7XG4gIHVzZXI6IEF1dGhVc2VyIHwgbnVsbDtcbiAgcHJvZmlsZTogQXV0aFVzZXIgfCBudWxsO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gIGlzQWRtaW46IGJvb2xlYW47XG4gIGlzU3VwZXJBZG1pbjogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHNpZ25JbjogKGNyZWRlbnRpYWxzOiBMb2dpbkNyZWRlbnRpYWxzKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzaWduVXA6IChkYXRhOiBSZWdpc3RlckRhdGEpID0+IFByb21pc2U8dm9pZD47XG4gIHNpZ25PdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHVwZGF0ZVByb2ZpbGU6IChwcm9maWxlRGF0YTogUGFydGlhbDxBdXRoVXNlcj4pID0+IFByb21pc2U8QXV0aFVzZXI+O1xuICByZWZyZXNoVG9rZW46ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWQ7XG4gIGNoZWNrQXV0aFN0YXR1czogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuZXhwb3J0IGNvbnN0IHVzZUF1dGggPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuaW50ZXJmYWNlIEF1dGhQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGNvbnN0IEF1dGhQcm92aWRlcjogUmVhY3QuRkM8QXV0aFByb3ZpZGVyUHJvcHM+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxBdXRoVXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzQ2xpZW50LCBzZXRJc0NsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIHN0YXR1c1xuICBjb25zdCBjaGVja0F1dGhTdGF0dXMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgLy8gT25seSBydW4gb24gY2xpZW50IHNpZGUgdG8gcHJldmVudCBoeWRyYXRpb24gaXNzdWVzXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gQXV0aENvbnRleHQ6IENoZWNraW5nIGF1dGhlbnRpY2F0aW9uIHN0YXR1cy4uLicpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xuXG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEF1dGhDb250ZXh0OiBObyB0b2tlbiBmb3VuZCcpO1xuICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEF1dGhDb250ZXh0OiBUb2tlbiBmb3VuZCwgdmFsaWRhdGluZy4uLicpO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhTZXJ2aWNlLmdldFByb2ZpbGUoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aENvbnRleHQ6IFVzZXIgcHJvZmlsZSBsb2FkZWQ6JywgdXNlcj8uZW1haWwpO1xuICAgICAgc2V0VXNlcih1c2VyKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQXV0aENvbnRleHQ6IEF1dGggY2hlY2sgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgLy8gQ2xlYXIgaW52YWxpZCBhdXRoIGRhdGFcbiAgICAgIGF1dGhTZXJ2aWNlLmNsZWFyQXV0aERhdGEoKTtcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBzZXRFcnJvcignQXV0aGVudGljYXRpb24gZXhwaXJlZC4gUGxlYXNlIGxvZyBpbiBhZ2Fpbi4nKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBFbmhhbmNlZCByZWZyZXNoIHRva2VuIHdpdGggYmV0dGVyIGVycm9yIGhhbmRsaW5nXG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAvLyBPbmx5IHJ1biBvbiBjbGllbnQgc2lkZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEF1dGhDb250ZXh0OiBSZWZyZXNoaW5nIHRva2VuLi4uJyk7XG5cbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGF1dGhTZXJ2aWNlLmdldFJlZnJlc2hUb2tlbigpO1xuICAgICAgaWYgKCFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZWZyZXNoIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGknfS9hdXRoL3JlZnJlc2hgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHJlZnJlc2hUb2tlbiB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnVG9rZW4gcmVmcmVzaCBmYWlsZWQnIH0pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCAnVG9rZW4gcmVmcmVzaCBmYWlsZWQnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gVmFsaWRhdGUgcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKCFkYXRhLnRva2VuIHx8ICFkYXRhLnJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVmcmVzaCByZXNwb25zZScpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgc3RvcmVkIHRva2Vuc1xuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICBpZiAoY3VycmVudFVzZXIpIHtcbiAgICAgICAgYXV0aFNlcnZpY2Uuc2V0QXV0aERhdGEoZGF0YS50b2tlbiwgZGF0YS5yZWZyZXNoVG9rZW4sIGN1cnJlbnRVc2VyKTtcbiAgICAgIH1cblxuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGhDb250ZXh0OiBUb2tlbiByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoQ29udGV4dDogVG9rZW4gcmVmcmVzaCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgYXV0aFNlcnZpY2UuY2xlYXJBdXRoRGF0YSgpO1xuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIHNldEVycm9yKCdTZXNzaW9uIGV4cGlyZWQuIFBsZWFzZSBsb2cgaW4gYWdhaW4uJyk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gQ2xlYXIgZXJyb3JcbiAgY29uc3QgY2xlYXJFcnJvciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNldCBjbGllbnQgZmxhZyBvbiBtb3VudCB0byBwcmV2ZW50IGh5ZHJhdGlvbiBpc3N1ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc0NsaWVudCh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBvbmx5IGFmdGVyIGNsaWVudC1zaWRlIGh5ZHJhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBhdXRoZW50aWNhdGlvbiBvbiBhcHAgbG9hZFxuICAgIGNoZWNrQXV0aFN0YXR1cygpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG4gIH0sIFtjaGVja0F1dGhTdGF0dXMsIGlzQ2xpZW50XSk7XG5cbiAgLy8gV2F0Y2ggZm9yIGF1dGhlbnRpY2F0aW9uIHN0YXRlIGNoYW5nZXMgYW5kIGhhbmRsZSBuYXZpZ2F0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCkgcmV0dXJuO1xuXG4gICAgLy8gSWYgdXNlciBiZWNvbWVzIHVuYXV0aGVudGljYXRlZCwgcmVkaXJlY3QgdG8gYXBwcm9wcmlhdGUgcGFnZVxuICAgIGlmICghdXNlciAmJiAhbG9hZGluZykge1xuICAgICAgY29uc3QgY3VycmVudFBhdGggPSByb3V0ZXIucGF0aG5hbWU7XG5cbiAgICAgIC8vIERvbid0IHJlZGlyZWN0IGlmIGFscmVhZHkgb24gbG9naW4vcmVnaXN0ZXIgcGFnZXMgb3IgcHVibGljIHBhZ2VzXG4gICAgICBjb25zdCBwdWJsaWNQYXRocyA9IFtcbiAgICAgICAgJy9sb2dpbicsXG4gICAgICAgICcvcmVnaXN0ZXInLFxuICAgICAgICAnLycsXG4gICAgICAgICcvbGFuZGluZycsXG4gICAgICAgICcvYWJvdXQnLFxuICAgICAgICAnL2Fmcmktc2FnZScsXG4gICAgICAgICcvY29tbXVuaXR5JyxcbiAgICAgICAgJy9jb3Vyc2VzJywgLy8gQWxsb3cgYWNjZXNzIHRvIGNvdXJzZSBsaXN0aW5nXG4gICAgICAgICcvY2F0ZWdvcnknXG4gICAgICBdO1xuICAgICAgY29uc3QgaXNQdWJsaWNQYXRoID0gcHVibGljUGF0aHMuc29tZShwYXRoID0+IGN1cnJlbnRQYXRoID09PSBwYXRoIHx8IGN1cnJlbnRQYXRoLnN0YXJ0c1dpdGgocGF0aCkpO1xuXG4gICAgICBpZiAoIWlzUHVibGljUGF0aCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+aqiBBdXRoQ29udGV4dDogVXNlciBsb2dnZWQgb3V0LCByZWRpcmVjdGluZyBmcm9tJywgY3VycmVudFBhdGgpO1xuXG4gICAgICAgIC8vIFNob3cgYSBicmllZiBub3RpZmljYXRpb24gdG8gdGhlIHVzZXJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgc2ltcGxlIG5vdGlmaWNhdGlvblxuICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIG5vdGlmaWNhdGlvbi5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgdG9wOiAyMHB4O1xuICAgICAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZGMyNjI2O1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCAyMHB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgICAgei1pbmRleDogOTk5OTtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4zKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2Utb3V0O1xuICAgICAgICAgIGA7XG4gICAgICAgICAgbm90aWZpY2F0aW9uLnRleHRDb250ZW50ID0gJ1Nlc3Npb24gZXhwaXJlZC4gUmVkaXJlY3RpbmcgdG8gbG9naW4uLi4nO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBub3RpZmljYXRpb24gYWZ0ZXIgMyBzZWNvbmRzXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UsIHByZXNlcnZpbmcgdGhlIGN1cnJlbnQgcGF0aCBmb3IgcG9zdC1sb2dpbiByZWRpcmVjdFxuICAgICAgICByb3V0ZXIucHVzaCh7XG4gICAgICAgICAgcGF0aG5hbWU6ICcvbG9naW4nLFxuICAgICAgICAgIHF1ZXJ5OiB7IHJlZGlyZWN0OiBjdXJyZW50UGF0aCB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3VzZXIsIGxvYWRpbmcsIGlzQ2xpZW50LCByb3V0ZXJdKTtcblxuICBjb25zdCBzaWduSW4gPSBhc3luYyAoY3JlZGVudGlhbHM6IExvZ2luQ3JlZGVudGlhbHMpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc29sZS5sb2coJ/CflJAgQXV0aENvbnRleHQ6IFNpZ25pbmcgaW4uLi4nKTtcblxuICAgICAgLy8gVmFsaWRhdGUgY3JlZGVudGlhbHMgYmVmb3JlIHNlbmRpbmdcbiAgICAgIGlmICghY3JlZGVudGlhbHMuZW1haWwgfHwgIWNyZWRlbnRpYWxzLnBhc3N3b3JkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNyZWRlbnRpYWxzLmVtYWlsLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXV0aFNlcnZpY2UubG9naW4oY3JlZGVudGlhbHMpO1xuICAgICAgc2V0VXNlcihyZXNwb25zZS51c2VyKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aENvbnRleHQ6IFNpZ24gaW4gc3VjY2Vzc2Z1bCcpO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIHVzZXIgc3RhdGUgaXMgcHJvcGVybHkgc2V0IGJlZm9yZSBhbnkgcmVkaXJlY3RzXG4gICAgICByZXR1cm4gcmVzcG9uc2UudXNlcjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEF1dGhDb250ZXh0OiBTaWduIGluIGVycm9yOicsIGVycm9yKTtcblxuICAgICAgLy8gSGFuZGxlIHNwZWNpZmljIGVycm9yIHR5cGVzXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ1NpZ24gaW4gZmFpbGVkJztcblxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ05ldHdvcmsnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCcpKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24uJztcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCc0MDEnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdVbmF1dGhvcml6ZWQnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkLic7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnNTAwJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnSW50ZXJuYWwgc2VydmVyJykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnU2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnNDI5JykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncmF0ZSBsaW1pdCcpKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1RvbyBtYW55IGxvZ2luIGF0dGVtcHRzLiBQbGVhc2Ugd2FpdCBhIG1vbWVudC4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2lnblVwID0gYXN5bmMgKGRhdGE6IFJlZ2lzdGVyRGF0YSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+TnSBBdXRoQ29udGV4dDogU2lnbmluZyB1cC4uLicpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF1dGhTZXJ2aWNlLnJlZ2lzdGVyKGRhdGEpO1xuICAgICAgc2V0VXNlcihyZXNwb25zZS51c2VyKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aENvbnRleHQ6IFNpZ24gdXAgc3VjY2Vzc2Z1bCcpO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIHVzZXIgc3RhdGUgaXMgcHJvcGVybHkgc2V0IGJlZm9yZSBhbnkgcmVkaXJlY3RzXG4gICAgICByZXR1cm4gcmVzcG9uc2UudXNlcjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEF1dGhDb250ZXh0OiBTaWduIHVwIGVycm9yOicsIGVycm9yKTtcblxuICAgICAgLy8gRW5oYW5jZWQgZXJyb3IgaGFuZGxpbmcgZm9yIHJlZ2lzdHJhdGlvblxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdTaWduIHVwIGZhaWxlZCc7XG5cbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBzcGVjaWZpYyBlcnJvciB0eXBlc1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnVXNlciBhbHJlYWR5IGV4aXN0cycpIHx8XG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdFTUFJTF9FWElTVFMnKSB8fFxuICAgICAgICAgICAgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnYWxyZWFkeSByZWdpc3RlcmVkJykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnVGhpcyBlbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuIFBsZWFzZSB0cnkgbG9nZ2luZyBpbiBpbnN0ZWFkLic7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnTmV0d29yaycpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2ZldGNoJykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnTmV0d29yayBlcnJvci4gUGxlYXNlIGNoZWNrIHlvdXIgY29ubmVjdGlvbi4nO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ1dFQUtfUEFTU1dPUkQnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdQYXNzd29yZCBzaG91bGQgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzLic7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnSU5WQUxJRF9FTUFJTCcpKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJztcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdNSVNTSU5HX0RBVEEnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzLic7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnNTAwJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnSW50ZXJuYWwgc2VydmVyJykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnU2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+aqiBBdXRoQ29udGV4dDogU2lnbmluZyBvdXQuLi4nKTtcbiAgICAgIGF1dGhTZXJ2aWNlLmxvZ291dCgpO1xuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoQ29udGV4dDogU2lnbiBvdXQgc3VjY2Vzc2Z1bCcpO1xuXG4gICAgICAvLyBSZWRpcmVjdCB0byBob21lIHBhZ2UgYWZ0ZXIgbG9nb3V0XG4gICAgICByb3V0ZXIucHVzaCgnLycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQXV0aENvbnRleHQ6IFNpZ24gb3V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIC8vIEV2ZW4gaWYgbG9nb3V0IGZhaWxzLCBjbGVhciBsb2NhbCBzdGF0ZVxuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAvLyBTdGlsbCByZWRpcmVjdCBldmVuIGlmIGxvZ291dCBmYWlsc1xuICAgICAgcm91dGVyLnB1c2goJy8nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlUHJvZmlsZSA9IGFzeW5jIChwcm9maWxlRGF0YTogUGFydGlhbDxBdXRoVXNlcj4pID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBBdXRoQ29udGV4dDogVXBkYXRpbmcgcHJvZmlsZSB3aXRoIGRhdGE6JywgcHJvZmlsZURhdGEpO1xuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCBhdXRoU2VydmljZS51cGRhdGVQcm9maWxlKHByb2ZpbGVEYXRhKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aENvbnRleHQ6IFByb2ZpbGUgdXBkYXRlZCwgbmV3IHVzZXIgZGF0YTonLCB1cGRhdGVkVXNlcik7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdXNlciBzdGF0ZSB3aXRoIHRoZSBuZXcgZGF0YVxuICAgICAgc2V0VXNlcih1cGRhdGVkVXNlcik7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGhDb250ZXh0OiBVc2VyIHN0YXRlIHVwZGF0ZWQgd2l0aCBvbmJvYXJkaW5nX2NvbXBsZXRlZDonLCB1cGRhdGVkVXNlci5vbmJvYXJkaW5nX2NvbXBsZXRlZCk7XG5cbiAgICAgIHJldHVybiB1cGRhdGVkVXNlcjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEF1dGhDb250ZXh0OiBQcm9maWxlIHVwZGF0ZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcihlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdQcm9maWxlIHVwZGF0ZSBmYWlsZWQnKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB2YWx1ZSA9IHtcbiAgICB1c2VyLFxuICAgIHByb2ZpbGU6IHVzZXIsIC8vIEZvciBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgY29kZVxuICAgIGxvYWRpbmc6IGxvYWRpbmcgfHwgIWlzQ2xpZW50LCAvLyBTaG93IGxvYWRpbmcgdW50aWwgY2xpZW50LXNpZGUgaHlkcmF0aW9uIGlzIGNvbXBsZXRlXG4gICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIsXG4gICAgaXNBZG1pbjogdXNlcj8ucm9sZSA9PT0gJ3N1cGVyX2FkbWluJyB8fCB1c2VyPy5yb2xlID09PSAnY29udGVudF9tYW5hZ2VyJyB8fCB1c2VyPy5yb2xlID09PSAnY29tbXVuaXR5X21hbmFnZXInLFxuICAgIGlzU3VwZXJBZG1pbjogdXNlcj8ucm9sZSA9PT0gJ3N1cGVyX2FkbWluJyxcbiAgICBlcnJvcixcbiAgICBzaWduSW4sXG4gICAgc2lnblVwLFxuICAgIHNpZ25PdXQsXG4gICAgdXBkYXRlUHJvZmlsZSxcbiAgICByZWZyZXNoVG9rZW4sXG4gICAgY2xlYXJFcnJvcixcbiAgICBjaGVja0F1dGhTdGF0dXMsXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTsiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSb3V0ZXIiLCJhdXRoU2VydmljZSIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlQXV0aCIsImNvbnRleHQiLCJFcnJvciIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJpc0NsaWVudCIsInNldElzQ2xpZW50Iiwicm91dGVyIiwiY2hlY2tBdXRoU3RhdHVzIiwiY29uc29sZSIsImxvZyIsInRva2VuIiwiZ2V0VG9rZW4iLCJnZXRQcm9maWxlIiwiZW1haWwiLCJjbGVhckF1dGhEYXRhIiwicmVmcmVzaFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwicmVzcG9uc2UiLCJmZXRjaCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJkYXRhIiwiY3VycmVudFVzZXIiLCJnZXRVc2VyIiwic2V0QXV0aERhdGEiLCJjbGVhckVycm9yIiwiZmluYWxseSIsImN1cnJlbnRQYXRoIiwicGF0aG5hbWUiLCJwdWJsaWNQYXRocyIsImlzUHVibGljUGF0aCIsInNvbWUiLCJwYXRoIiwic3RhcnRzV2l0aCIsIm5vdGlmaWNhdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY3NzVGV4dCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRUaW1lb3V0IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicHVzaCIsInF1ZXJ5IiwicmVkaXJlY3QiLCJzaWduSW4iLCJjcmVkZW50aWFscyIsInBhc3N3b3JkIiwiaW5jbHVkZXMiLCJsb2dpbiIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJzaWduVXAiLCJyZWdpc3RlciIsInNpZ25PdXQiLCJsb2dvdXQiLCJ1cGRhdGVQcm9maWxlIiwicHJvZmlsZURhdGEiLCJ1cGRhdGVkVXNlciIsIm9uYm9hcmRpbmdfY29tcGxldGVkIiwidmFsdWUiLCJwcm9maWxlIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNBZG1pbiIsInJvbGUiLCJpc1N1cGVyQWRtaW4iLCJQcm92aWRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "./src/contexts/FirebaseAuthContext.tsx":
/*!**********************************************!*\
  !*** ./src/contexts/FirebaseAuthContext.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FirebaseAuthProvider: () => (/* binding */ FirebaseAuthProvider),\n/* harmony export */   useFirebaseAuth: () => (/* binding */ useFirebaseAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/firebaseAuth */ \"./src/lib/firebaseAuth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__]);\n_lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst FirebaseAuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst useFirebaseAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(FirebaseAuthContext);\n    if (context === undefined) {\n        throw new Error(\"useFirebaseAuth must be used within a FirebaseAuthProvider\");\n    }\n    return context;\n};\nconst FirebaseAuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Check authentication status\n    const checkAuthStatus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        // Only run on client side to prevent hydration issues\n        if (true) return;\n        try {\n            console.log(\"\\uD83D\\uDD0D FirebaseAuthContext: Checking authentication status...\");\n            // Firebase Auth automatically handles auth state, so we just need to wait for it\n            // The onAuthStateChanged listener will handle setting the user\n            setLoading(false);\n        } catch (error) {\n            console.error(\"❌ FirebaseAuthContext: Auth check error:\", error);\n            setUser(null);\n            setError(\"Authentication error. Please log in again.\");\n            setLoading(false);\n        }\n    }, []);\n    // Clear error\n    const clearError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setError(null);\n    }, []);\n    // Set client flag on mount to prevent hydration issues\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    // Set up Firebase Auth state listener\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient) return;\n        const unsubscribe = _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.onAuthStateChanged((firebaseUser)=>{\n            console.log(\"\\uD83D\\uDD04 FirebaseAuthContext: Auth state changed:\", firebaseUser?.email || \"No user\");\n            setUser(firebaseUser);\n            setError(null);\n            setLoading(false);\n        });\n        return ()=>unsubscribe();\n    }, [\n        isClient\n    ]);\n    // Watch for authentication state changes and handle navigation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient) return;\n        // If user becomes unauthenticated, redirect to appropriate page\n        if (!user && !loading) {\n            const currentPath = router.pathname;\n            // Don't redirect if already on login/register pages or public pages\n            const publicPaths = [\n                \"/login\",\n                \"/register\",\n                \"/\",\n                \"/landing\",\n                \"/about\",\n                \"/afri-sage\",\n                \"/community\",\n                \"/courses\",\n                \"/category\"\n            ];\n            const isPublicPath = publicPaths.some((path)=>currentPath === path || currentPath.startsWith(path));\n            if (!isPublicPath) {\n                console.log(\"\\uD83D\\uDEAA FirebaseAuthContext: User logged out, redirecting from\", currentPath);\n                // Show a brief notification to the user\n                if (false) {}\n                // Redirect to login page, preserving the current path for post-login redirect\n                router.push({\n                    pathname: \"/login\",\n                    query: {\n                        redirect: currentPath\n                    }\n                });\n            }\n        }\n    }, [\n        user,\n        loading,\n        isClient,\n        router\n    ]);\n    const signIn = async (credentials)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            console.log(\"\\uD83D\\uDD10 FirebaseAuthContext: Signing in...\");\n            // Validate credentials before sending\n            if (!credentials.email || !credentials.password) {\n                throw new Error(\"Email and password are required\");\n            }\n            if (!credentials.email.includes(\"@\")) {\n                throw new Error(\"Please enter a valid email address\");\n            }\n            await _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.signIn(credentials);\n            console.log(\"✅ FirebaseAuthContext: Sign in successful\");\n        } catch (error) {\n            console.error(\"❌ FirebaseAuthContext: Sign in error:\", error);\n            // Handle specific error types\n            let errorMessage = \"Sign in failed\";\n            if (error instanceof _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.FirebaseAuthError) {\n                errorMessage = error.message;\n            } else if (error instanceof Error) {\n                if (error.message.includes(\"Network\") || error.message.includes(\"fetch\")) {\n                    errorMessage = \"Network error. Please check your connection.\";\n                } else if (error.message.includes(\"user-not-found\")) {\n                    errorMessage = \"No account found with this email address.\";\n                } else if (error.message.includes(\"wrong-password\")) {\n                    errorMessage = \"Incorrect password.\";\n                } else if (error.message.includes(\"too-many-requests\")) {\n                    errorMessage = \"Too many failed attempts. Please try again later.\";\n                } else {\n                    errorMessage = error.message;\n                }\n            }\n            setError(errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const signUp = async (data)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            console.log(\"\\uD83D\\uDCDD FirebaseAuthContext: Signing up...\");\n            await _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.signUp(data);\n            console.log(\"✅ FirebaseAuthContext: Sign up successful\");\n        } catch (error) {\n            console.error(\"❌ FirebaseAuthContext: Sign up error:\", error);\n            // Enhanced error handling for registration\n            let errorMessage = \"Sign up failed\";\n            if (error instanceof _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.FirebaseAuthError) {\n                errorMessage = error.message;\n            } else if (error instanceof Error) {\n                if (error.message.includes(\"email-already-in-use\")) {\n                    errorMessage = \"This email is already registered. Please try logging in instead.\";\n                } else if (error.message.includes(\"weak-password\")) {\n                    errorMessage = \"Password should be at least 6 characters.\";\n                } else if (error.message.includes(\"invalid-email\")) {\n                    errorMessage = \"Please enter a valid email address.\";\n                } else if (error.message.includes(\"Network\") || error.message.includes(\"fetch\")) {\n                    errorMessage = \"Network error. Please check your connection.\";\n                } else {\n                    errorMessage = error.message;\n                }\n            }\n            setError(errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const signInWithGoogle = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            console.log(\"\\uD83D\\uDD10 FirebaseAuthContext: Signing in with Google...\");\n            await _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.signInWithGoogle();\n            console.log(\"✅ FirebaseAuthContext: Google sign in successful\");\n        } catch (error) {\n            console.error(\"❌ FirebaseAuthContext: Google sign in error:\", error);\n            let errorMessage = \"Google sign in failed\";\n            if (error instanceof _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.FirebaseAuthError) {\n                errorMessage = error.message;\n            } else if (error instanceof Error) {\n                if (error.message.includes(\"popup-closed\")) {\n                    errorMessage = \"Sign in was cancelled.\";\n                } else if (error.message.includes(\"popup-blocked\")) {\n                    errorMessage = \"Popup was blocked. Please allow popups and try again.\";\n                } else {\n                    errorMessage = error.message;\n                }\n            }\n            setError(errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const signOut = async ()=>{\n        try {\n            console.log(\"\\uD83D\\uDEAA FirebaseAuthContext: Signing out...\");\n            await _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.signOut();\n            setUser(null);\n            setError(null);\n            console.log(\"✅ FirebaseAuthContext: Sign out successful\");\n            // Redirect to home page after logout\n            router.push(\"/\");\n        } catch (error) {\n            console.error(\"❌ FirebaseAuthContext: Sign out error:\", error);\n            // Even if logout fails, clear local state\n            setUser(null);\n            setError(null);\n            // Still redirect even if logout fails\n            router.push(\"/\");\n        }\n    };\n    const updateProfile = async (profileData)=>{\n        try {\n            setError(null);\n            console.log(\"\\uD83D\\uDD04 FirebaseAuthContext: Updating profile with data:\", profileData);\n            const updatedUser = await _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.updateProfile(profileData);\n            console.log(\"✅ FirebaseAuthContext: Profile updated, new user data:\", updatedUser);\n            // Update the user state with the new data\n            setUser(updatedUser);\n            console.log(\"✅ FirebaseAuthContext: User state updated with onboarding_completed:\", updatedUser.onboarding_completed);\n            return updatedUser;\n        } catch (error) {\n            console.error(\"❌ FirebaseAuthContext: Profile update error:\", error);\n            setError(error instanceof Error ? error.message : \"Profile update failed\");\n            throw error;\n        }\n    };\n    const resetPassword = async (email)=>{\n        try {\n            setError(null);\n            console.log(\"\\uD83D\\uDD04 FirebaseAuthContext: Sending password reset email...\");\n            await _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.resetPassword(email);\n            console.log(\"✅ FirebaseAuthContext: Password reset email sent\");\n        } catch (error) {\n            console.error(\"❌ FirebaseAuthContext: Password reset error:\", error);\n            let errorMessage = \"Password reset failed\";\n            if (error instanceof _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.FirebaseAuthError) {\n                errorMessage = error.message;\n            } else if (error instanceof Error) {\n                if (error.message.includes(\"user-not-found\")) {\n                    errorMessage = \"No account found with this email address.\";\n                } else if (error.message.includes(\"invalid-email\")) {\n                    errorMessage = \"Please enter a valid email address.\";\n                } else {\n                    errorMessage = error.message;\n                }\n            }\n            setError(errorMessage);\n            throw error;\n        }\n    };\n    const value = {\n        user,\n        profile: user,\n        loading: loading || !isClient,\n        isAuthenticated: !!user,\n        isAdmin: _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.isAdmin(user),\n        isSuperAdmin: _lib_firebaseAuth__WEBPACK_IMPORTED_MODULE_3__.firebaseAuthService.isSuperAdmin(user),\n        error,\n        signIn,\n        signUp,\n        signInWithGoogle,\n        signOut,\n        updateProfile,\n        resetPassword,\n        clearError,\n        checkAuthStatus\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FirebaseAuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\contexts\\\\FirebaseAuthContext.tsx\",\n        lineNumber: 350,\n        columnNumber: 5\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMzQixJQUFJO1lBQ0ZYLFNBQVM7WUFDVEssUUFBUUMsR0FBRyxDQUFDO1lBQ1osTUFBTXBCLGtFQUFtQkEsQ0FBQzZELGFBQWEsQ0FBQ3BDO1lBQ3hDTixRQUFRQyxHQUFHLENBQUM7UUFDZCxFQUFFLE9BQU9QLE9BQU87WUFDZE0sUUFBUU4sS0FBSyxDQUFDLGdEQUFnREE7WUFFOUQsSUFBSXNDLGVBQWU7WUFFbkIsSUFBSXRDLGlCQUFpQlosZ0VBQWlCQSxFQUFFO2dCQUN0Q2tELGVBQWV0QyxNQUFNdUMsT0FBTztZQUM5QixPQUFPLElBQUl2QyxpQkFBaUJQLE9BQU87Z0JBQ2pDLElBQUlPLE1BQU11QyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxtQkFBbUI7b0JBQzVDQyxlQUFlO2dCQUNqQixPQUFPLElBQUl0QyxNQUFNdUMsT0FBTyxDQUFDRixRQUFRLENBQUMsa0JBQWtCO29CQUNsREMsZUFBZTtnQkFDakIsT0FBTztvQkFDTEEsZUFBZXRDLE1BQU11QyxPQUFPO2dCQUM5QjtZQUNGO1lBRUF0QyxTQUFTcUM7WUFDVCxNQUFNdEM7UUFDUjtJQUNGO0lBRUEsTUFBTWlELFFBQVE7UUFDWnJEO1FBQ0FzRCxTQUFTdEQ7UUFDVEUsU0FBU0EsV0FBVyxDQUFDSTtRQUNyQmlELGlCQUFpQixDQUFDLENBQUN2RDtRQUNuQndELFNBQVNqRSxrRUFBbUJBLENBQUNpRSxPQUFPLENBQUN4RDtRQUNyQ3lELGNBQWNsRSxrRUFBbUJBLENBQUNrRSxZQUFZLENBQUN6RDtRQUMvQ0k7UUFDQWtDO1FBQ0FNO1FBQ0FFO1FBQ0FDO1FBQ0FDO1FBQ0FJO1FBQ0F4QztRQUNBSDtJQUNGO0lBRUEscUJBQ0UsOERBQUNoQixvQkFBb0JpRSxRQUFRO1FBQUNMLE9BQU9BO2tCQUNsQ3REOzs7Ozs7QUFHUCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFzdGVyc3RyZWFtLWxlYXJuaW5nLXBsYXRmb3JtLy4vc3JjL2NvbnRleHRzL0ZpcmViYXNlQXV0aENvbnRleHQudHN4P2Y5NDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XHJcbmltcG9ydCB7IGZpcmViYXNlQXV0aFNlcnZpY2UsIEZpcmViYXNlVXNlciwgTG9naW5DcmVkZW50aWFscywgUmVnaXN0ZXJEYXRhLCBGaXJlYmFzZUF1dGhFcnJvciB9IGZyb20gJy4uL2xpYi9maXJlYmFzZUF1dGgnO1xyXG5cclxuaW50ZXJmYWNlIEZpcmViYXNlQXV0aENvbnRleHRUeXBlIHtcclxuICB1c2VyOiBGaXJlYmFzZVVzZXIgfCBudWxsO1xyXG4gIHByb2ZpbGU6IEZpcmViYXNlVXNlciB8IG51bGw7XHJcbiAgbG9hZGluZzogYm9vbGVhbjtcclxuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XHJcbiAgaXNBZG1pbjogYm9vbGVhbjtcclxuICBpc1N1cGVyQWRtaW46IGJvb2xlYW47XHJcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XHJcbiAgc2lnbkluOiAoY3JlZGVudGlhbHM6IExvZ2luQ3JlZGVudGlhbHMpID0+IFByb21pc2U8dm9pZD47XHJcbiAgc2lnblVwOiAoZGF0YTogUmVnaXN0ZXJEYXRhKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNpZ25JbldpdGhHb29nbGU6ICgpID0+IFByb21pc2U8dm9pZD47XHJcbiAgc2lnbk91dDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxuICB1cGRhdGVQcm9maWxlOiAocHJvZmlsZURhdGE6IFBhcnRpYWw8RmlyZWJhc2VVc2VyPikgPT4gUHJvbWlzZTxGaXJlYmFzZVVzZXI+O1xyXG4gIHJlc2V0UGFzc3dvcmQ6IChlbWFpbDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWQ7XHJcbiAgY2hlY2tBdXRoU3RhdHVzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5jb25zdCBGaXJlYmFzZUF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxGaXJlYmFzZUF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VGaXJlYmFzZUF1dGggPSAoKSA9PiB7XHJcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoRmlyZWJhc2VBdXRoQ29udGV4dCk7XHJcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VGaXJlYmFzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEZpcmViYXNlQXV0aFByb3ZpZGVyJyk7XHJcbiAgfVxyXG4gIHJldHVybiBjb250ZXh0O1xyXG59O1xyXG5cclxuaW50ZXJmYWNlIEZpcmViYXNlQXV0aFByb3ZpZGVyUHJvcHMge1xyXG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGaXJlYmFzZUF1dGhQcm92aWRlcjogUmVhY3QuRkM8RmlyZWJhc2VBdXRoUHJvdmlkZXJQcm9wcz4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XHJcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8RmlyZWJhc2VVc2VyIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNDbGllbnQsIHNldElzQ2xpZW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuXHJcbiAgLy8gQ2hlY2sgYXV0aGVudGljYXRpb24gc3RhdHVzXHJcbiAgY29uc3QgY2hlY2tBdXRoU3RhdHVzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gT25seSBydW4gb24gY2xpZW50IHNpZGUgdG8gcHJldmVudCBoeWRyYXRpb24gaXNzdWVzXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBGaXJlYmFzZUF1dGhDb250ZXh0OiBDaGVja2luZyBhdXRoZW50aWNhdGlvbiBzdGF0dXMuLi4nKTtcclxuXHJcbiAgICAgIC8vIEZpcmViYXNlIEF1dGggYXV0b21hdGljYWxseSBoYW5kbGVzIGF1dGggc3RhdGUsIHNvIHdlIGp1c3QgbmVlZCB0byB3YWl0IGZvciBpdFxyXG4gICAgICAvLyBUaGUgb25BdXRoU3RhdGVDaGFuZ2VkIGxpc3RlbmVyIHdpbGwgaGFuZGxlIHNldHRpbmcgdGhlIHVzZXJcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2VBdXRoQ29udGV4dDogQXV0aCBjaGVjayBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgIHNldEVycm9yKCdBdXRoZW50aWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhZ2Fpbi4nKTtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBDbGVhciBlcnJvclxyXG4gIGNvbnN0IGNsZWFyRXJyb3IgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRFcnJvcihudWxsKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIFNldCBjbGllbnQgZmxhZyBvbiBtb3VudCB0byBwcmV2ZW50IGh5ZHJhdGlvbiBpc3N1ZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0SXNDbGllbnQodHJ1ZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBTZXQgdXAgRmlyZWJhc2UgQXV0aCBzdGF0ZSBsaXN0ZW5lclxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBmaXJlYmFzZUF1dGhTZXJ2aWNlLm9uQXV0aFN0YXRlQ2hhbmdlZCgoZmlyZWJhc2VVc2VyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZpcmViYXNlQXV0aENvbnRleHQ6IEF1dGggc3RhdGUgY2hhbmdlZDonLCBmaXJlYmFzZVVzZXI/LmVtYWlsIHx8ICdObyB1c2VyJyk7XHJcbiAgICAgIHNldFVzZXIoZmlyZWJhc2VVc2VyKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW2lzQ2xpZW50XSk7XHJcblxyXG4gIC8vIFdhdGNoIGZvciBhdXRoZW50aWNhdGlvbiBzdGF0ZSBjaGFuZ2VzIGFuZCBoYW5kbGUgbmF2aWdhdGlvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50KSByZXR1cm47XHJcblxyXG4gICAgLy8gSWYgdXNlciBiZWNvbWVzIHVuYXV0aGVudGljYXRlZCwgcmVkaXJlY3QgdG8gYXBwcm9wcmlhdGUgcGFnZVxyXG4gICAgaWYgKCF1c2VyICYmICFsb2FkaW5nKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gcm91dGVyLnBhdGhuYW1lO1xyXG5cclxuICAgICAgLy8gRG9uJ3QgcmVkaXJlY3QgaWYgYWxyZWFkeSBvbiBsb2dpbi9yZWdpc3RlciBwYWdlcyBvciBwdWJsaWMgcGFnZXNcclxuICAgICAgY29uc3QgcHVibGljUGF0aHMgPSBbXHJcbiAgICAgICAgJy9sb2dpbicsXHJcbiAgICAgICAgJy9yZWdpc3RlcicsXHJcbiAgICAgICAgJy8nLFxyXG4gICAgICAgICcvbGFuZGluZycsXHJcbiAgICAgICAgJy9hYm91dCcsXHJcbiAgICAgICAgJy9hZnJpLXNhZ2UnLFxyXG4gICAgICAgICcvY29tbXVuaXR5JyxcclxuICAgICAgICAnL2NvdXJzZXMnLCAvLyBBbGxvdyBhY2Nlc3MgdG8gY291cnNlIGxpc3RpbmdcclxuICAgICAgICAnL2NhdGVnb3J5J1xyXG4gICAgICBdO1xyXG4gICAgICBjb25zdCBpc1B1YmxpY1BhdGggPSBwdWJsaWNQYXRocy5zb21lKHBhdGggPT4gY3VycmVudFBhdGggPT09IHBhdGggfHwgY3VycmVudFBhdGguc3RhcnRzV2l0aChwYXRoKSk7XHJcblxyXG4gICAgICBpZiAoIWlzUHVibGljUGF0aCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qqIEZpcmViYXNlQXV0aENvbnRleHQ6IFVzZXIgbG9nZ2VkIG91dCwgcmVkaXJlY3RpbmcgZnJvbScsIGN1cnJlbnRQYXRoKTtcclxuXHJcbiAgICAgICAgLy8gU2hvdyBhIGJyaWVmIG5vdGlmaWNhdGlvbiB0byB0aGUgdXNlclxyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBub3RpZmljYXRpb24uc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICB0b3A6IDIwcHg7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZGMyNjI2O1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjBweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjMpO1xyXG4gICAgICAgICAgICBhbmltYXRpb246IHNsaWRlSW4gMC4zcyBlYXNlLW91dDtcclxuICAgICAgICAgIGA7XHJcbiAgICAgICAgICBub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSAnU2Vzc2lvbiBleHBpcmVkLiBSZWRpcmVjdGluZyB0byBsb2dpbi4uLic7XHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbik7XHJcblxyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vdGlmaWNhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZSwgcHJlc2VydmluZyB0aGUgY3VycmVudCBwYXRoIGZvciBwb3N0LWxvZ2luIHJlZGlyZWN0XHJcbiAgICAgICAgcm91dGVyLnB1c2goe1xyXG4gICAgICAgICAgcGF0aG5hbWU6ICcvbG9naW4nLFxyXG4gICAgICAgICAgcXVlcnk6IHsgcmVkaXJlY3Q6IGN1cnJlbnRQYXRoIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFt1c2VyLCBsb2FkaW5nLCBpc0NsaWVudCwgcm91dGVyXSk7XHJcblxyXG4gIGNvbnN0IHNpZ25JbiA9IGFzeW5jIChjcmVkZW50aWFsczogTG9naW5DcmVkZW50aWFscykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SQIEZpcmViYXNlQXV0aENvbnRleHQ6IFNpZ25pbmcgaW4uLi4nKTtcclxuXHJcbiAgICAgIC8vIFZhbGlkYXRlIGNyZWRlbnRpYWxzIGJlZm9yZSBzZW5kaW5nXHJcbiAgICAgIGlmICghY3JlZGVudGlhbHMuZW1haWwgfHwgIWNyZWRlbnRpYWxzLnBhc3N3b3JkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghY3JlZGVudGlhbHMuZW1haWwuaW5jbHVkZXMoJ0AnKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCBmaXJlYmFzZUF1dGhTZXJ2aWNlLnNpZ25JbihjcmVkZW50aWFscyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlyZWJhc2VBdXRoQ29udGV4dDogU2lnbiBpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2VBdXRoQ29udGV4dDogU2lnbiBpbiBlcnJvcjonLCBlcnJvcik7XHJcblxyXG4gICAgICAvLyBIYW5kbGUgc3BlY2lmaWMgZXJyb3IgdHlwZXNcclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdTaWduIGluIGZhaWxlZCc7XHJcblxyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBGaXJlYmFzZUF1dGhFcnJvcikge1xyXG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKSkge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24uJztcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3VzZXItbm90LWZvdW5kJykpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdObyBhY2NvdW50IGZvdW5kIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzLic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCd3cm9uZy1wYXNzd29yZCcpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnSW5jb3JyZWN0IHBhc3N3b3JkLic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCd0b28tbWFueS1yZXF1ZXN0cycpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnVG9vIG1hbnkgZmFpbGVkIGF0dGVtcHRzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNpZ25VcCA9IGFzeW5jIChkYXRhOiBSZWdpc3RlckRhdGEpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TnSBGaXJlYmFzZUF1dGhDb250ZXh0OiBTaWduaW5nIHVwLi4uJyk7XHJcblxyXG4gICAgICBhd2FpdCBmaXJlYmFzZUF1dGhTZXJ2aWNlLnNpZ25VcChkYXRhKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZUF1dGhDb250ZXh0OiBTaWduIHVwIHN1Y2Nlc3NmdWwnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGaXJlYmFzZUF1dGhDb250ZXh0OiBTaWduIHVwIGVycm9yOicsIGVycm9yKTtcclxuXHJcbiAgICAgIC8vIEVuaGFuY2VkIGVycm9yIGhhbmRsaW5nIGZvciByZWdpc3RyYXRpb25cclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdTaWduIHVwIGZhaWxlZCc7XHJcblxyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBGaXJlYmFzZUF1dGhFcnJvcikge1xyXG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdlbWFpbC1hbHJlYWR5LWluLXVzZScpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnVGhpcyBlbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuIFBsZWFzZSB0cnkgbG9nZ2luZyBpbiBpbnN0ZWFkLic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCd3ZWFrLXBhc3N3b3JkJykpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdQYXNzd29yZCBzaG91bGQgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzLic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdpbnZhbGlkLWVtYWlsJykpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKSkge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24uJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2lnbkluV2l0aEdvb2dsZSA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBGaXJlYmFzZUF1dGhDb250ZXh0OiBTaWduaW5nIGluIHdpdGggR29vZ2xlLi4uJyk7XHJcblxyXG4gICAgICBhd2FpdCBmaXJlYmFzZUF1dGhTZXJ2aWNlLnNpZ25JbldpdGhHb29nbGUoKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZUF1dGhDb250ZXh0OiBHb29nbGUgc2lnbiBpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2VBdXRoQ29udGV4dDogR29vZ2xlIHNpZ24gaW4gZXJyb3I6JywgZXJyb3IpO1xyXG5cclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdHb29nbGUgc2lnbiBpbiBmYWlsZWQnO1xyXG5cclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRmlyZWJhc2VBdXRoRXJyb3IpIHtcclxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICB9IGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncG9wdXAtY2xvc2VkJykpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdTaWduIGluIHdhcyBjYW5jZWxsZWQuJztcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3BvcHVwLWJsb2NrZWQnKSkge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1BvcHVwIHdhcyBibG9ja2VkLiBQbGVhc2UgYWxsb3cgcG9wdXBzIGFuZCB0cnkgYWdhaW4uJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2lnbk91dCA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qqIEZpcmViYXNlQXV0aENvbnRleHQ6IFNpZ25pbmcgb3V0Li4uJyk7XHJcbiAgICAgIGF3YWl0IGZpcmViYXNlQXV0aFNlcnZpY2Uuc2lnbk91dCgpO1xyXG4gICAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZUF1dGhDb250ZXh0OiBTaWduIG91dCBzdWNjZXNzZnVsJyk7XHJcblxyXG4gICAgICAvLyBSZWRpcmVjdCB0byBob21lIHBhZ2UgYWZ0ZXIgbG9nb3V0XHJcbiAgICAgIHJvdXRlci5wdXNoKCcvJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2VBdXRoQ29udGV4dDogU2lnbiBvdXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAvLyBFdmVuIGlmIGxvZ291dCBmYWlscywgY2xlYXIgbG9jYWwgc3RhdGVcclxuICAgICAgc2V0VXNlcihudWxsKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcblxyXG4gICAgICAvLyBTdGlsbCByZWRpcmVjdCBldmVuIGlmIGxvZ291dCBmYWlsc1xyXG4gICAgICByb3V0ZXIucHVzaCgnLycpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVByb2ZpbGUgPSBhc3luYyAocHJvZmlsZURhdGE6IFBhcnRpYWw8RmlyZWJhc2VVc2VyPikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZpcmViYXNlQXV0aENvbnRleHQ6IFVwZGF0aW5nIHByb2ZpbGUgd2l0aCBkYXRhOicsIHByb2ZpbGVEYXRhKTtcclxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCBmaXJlYmFzZUF1dGhTZXJ2aWNlLnVwZGF0ZVByb2ZpbGUocHJvZmlsZURhdGEpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEZpcmViYXNlQXV0aENvbnRleHQ6IFByb2ZpbGUgdXBkYXRlZCwgbmV3IHVzZXIgZGF0YTonLCB1cGRhdGVkVXNlcik7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHVzZXIgc3RhdGUgd2l0aCB0aGUgbmV3IGRhdGFcclxuICAgICAgc2V0VXNlcih1cGRhdGVkVXNlcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlyZWJhc2VBdXRoQ29udGV4dDogVXNlciBzdGF0ZSB1cGRhdGVkIHdpdGggb25ib2FyZGluZ19jb21wbGV0ZWQ6JywgdXBkYXRlZFVzZXIub25ib2FyZGluZ19jb21wbGV0ZWQpO1xyXG5cclxuICAgICAgcmV0dXJuIHVwZGF0ZWRVc2VyO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZpcmViYXNlQXV0aENvbnRleHQ6IFByb2ZpbGUgdXBkYXRlIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgc2V0RXJyb3IoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnUHJvZmlsZSB1cGRhdGUgZmFpbGVkJyk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc2V0UGFzc3dvcmQgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZpcmViYXNlQXV0aENvbnRleHQ6IFNlbmRpbmcgcGFzc3dvcmQgcmVzZXQgZW1haWwuLi4nKTtcclxuICAgICAgYXdhaXQgZmlyZWJhc2VBdXRoU2VydmljZS5yZXNldFBhc3N3b3JkKGVtYWlsKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZUF1dGhDb250ZXh0OiBQYXNzd29yZCByZXNldCBlbWFpbCBzZW50Jyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2VBdXRoQ29udGV4dDogUGFzc3dvcmQgcmVzZXQgZXJyb3I6JywgZXJyb3IpO1xyXG5cclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdQYXNzd29yZCByZXNldCBmYWlsZWQnO1xyXG5cclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRmlyZWJhc2VBdXRoRXJyb3IpIHtcclxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICB9IGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndXNlci1ub3QtZm91bmQnKSkge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ05vIGFjY291bnQgZm91bmQgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3MuJztcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2ludmFsaWQtZW1haWwnKSkge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHZhbHVlID0ge1xyXG4gICAgdXNlcixcclxuICAgIHByb2ZpbGU6IHVzZXIsIC8vIEZvciBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgY29kZVxyXG4gICAgbG9hZGluZzogbG9hZGluZyB8fCAhaXNDbGllbnQsIC8vIFNob3cgbG9hZGluZyB1bnRpbCBjbGllbnQtc2lkZSBoeWRyYXRpb24gaXMgY29tcGxldGVcclxuICAgIGlzQXV0aGVudGljYXRlZDogISF1c2VyLFxyXG4gICAgaXNBZG1pbjogZmlyZWJhc2VBdXRoU2VydmljZS5pc0FkbWluKHVzZXIpLFxyXG4gICAgaXNTdXBlckFkbWluOiBmaXJlYmFzZUF1dGhTZXJ2aWNlLmlzU3VwZXJBZG1pbih1c2VyKSxcclxuICAgIGVycm9yLFxyXG4gICAgc2lnbkluLFxyXG4gICAgc2lnblVwLFxyXG4gICAgc2lnbkluV2l0aEdvb2dsZSxcclxuICAgIHNpZ25PdXQsXHJcbiAgICB1cGRhdGVQcm9maWxlLFxyXG4gICAgcmVzZXRQYXNzd29yZCxcclxuICAgIGNsZWFyRXJyb3IsXHJcbiAgICBjaGVja0F1dGhTdGF0dXMsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxGaXJlYmFzZUF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvRmlyZWJhc2VBdXRoQ29udGV4dC5Qcm92aWRlcj5cclxuICApO1xyXG59O1xyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSb3V0ZXIiLCJmaXJlYmFzZUF1dGhTZXJ2aWNlIiwiRmlyZWJhc2VBdXRoRXJyb3IiLCJGaXJlYmFzZUF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlRmlyZWJhc2VBdXRoIiwiY29udGV4dCIsIkVycm9yIiwiRmlyZWJhc2VBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXIiLCJzZXRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiaXNDbGllbnQiLCJzZXRJc0NsaWVudCIsInJvdXRlciIsImNoZWNrQXV0aFN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJjbGVhckVycm9yIiwidW5zdWJzY3JpYmUiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJmaXJlYmFzZVVzZXIiLCJlbWFpbCIsImN1cnJlbnRQYXRoIiwicGF0aG5hbWUiLCJwdWJsaWNQYXRocyIsImlzUHVibGljUGF0aCIsInNvbWUiLCJwYXRoIiwic3RhcnRzV2l0aCIsIm5vdGlmaWNhdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY3NzVGV4dCIsInRleHRDb250ZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInB1c2giLCJxdWVyeSIsInJlZGlyZWN0Iiwic2lnbkluIiwiY3JlZGVudGlhbHMiLCJwYXNzd29yZCIsImluY2x1ZGVzIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInNpZ25VcCIsImRhdGEiLCJzaWduSW5XaXRoR29vZ2xlIiwic2lnbk91dCIsInVwZGF0ZVByb2ZpbGUiLCJwcm9maWxlRGF0YSIsInVwZGF0ZWRVc2VyIiwib25ib2FyZGluZ19jb21wbGV0ZWQiLCJyZXNldFBhc3N3b3JkIiwidmFsdWUiLCJwcm9maWxlIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNBZG1pbiIsImlzU3VwZXJBZG1pbiIsIlByb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/FirebaseAuthContext.tsx\n");

/***/ }),

/***/ "./src/contexts/PermissionContext.tsx":
/*!********************************************!*\
  !*** ./src/contexts/PermissionContext.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PermissionProvider: () => (/* binding */ PermissionProvider),\n/* harmony export */   usePermissions: () => (/* binding */ usePermissions)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types */ \"./src/types/index.ts\");\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AuthContext */ \"./src/contexts/AuthContext.tsx\");\n\n\n\n\n\nconst PermissionContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst usePermissions = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PermissionContext);\n    if (context === undefined) {\n        throw new Error(\"usePermissions must be used within a PermissionProvider\");\n    }\n    return context;\n};\nconst PermissionProvider = ({ children })=>{\n    const { user } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const [userRole, setUserRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"user\");\n    const [permissions, setPermissions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_2__.ROLE_PERMISSIONS.user);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Get user role from AuthContext user\n        const role = user?.role || \"user\";\n        setUserRole(role);\n        setPermissions(_types__WEBPACK_IMPORTED_MODULE_2__.ROLE_PERMISSIONS[role] || _types__WEBPACK_IMPORTED_MODULE_2__.ROLE_PERMISSIONS.user);\n    }, [\n        user\n    ]);\n    const hasPermission = (permission)=>{\n        if (userRole === \"super_admin\") return true;\n        return (0,_types__WEBPACK_IMPORTED_MODULE_2__.hasPermission)(permissions, permission);\n    };\n    const hasAnyPermissionCheck = (requiredPermissions)=>{\n        if (userRole === \"super_admin\") return true;\n        return (0,_types__WEBPACK_IMPORTED_MODULE_2__.hasAnyPermission)(permissions, requiredPermissions);\n    };\n    const hasAllPermissionsCheck = (requiredPermissions)=>{\n        if (userRole === \"super_admin\") return true;\n        return (0,_types__WEBPACK_IMPORTED_MODULE_2__.hasAllPermissions)(permissions, requiredPermissions);\n    };\n    const checkPermissionWithError = (permission)=>{\n        const hasAccess = hasPermission(permission);\n        const errorMessage = hasAccess ? \"\" : `You don't have permission to access this feature`;\n        return {\n            hasAccess,\n            errorMessage\n        };\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PermissionContext.Provider, {\n        value: {\n            userRole,\n            permissions,\n            hasPermission,\n            hasAnyPermission: hasAnyPermissionCheck,\n            hasAllPermissions: hasAllPermissionsCheck,\n            checkPermission: checkPermissionWithError\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"Y:\\\\fowardafrica-main\\\\src\\\\contexts\\\\PermissionContext.tsx\",\n        lineNumber: 60,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udGV4dHMvUGVybWlzc2lvbkNvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE4RTtBQUNaO0FBQytCO0FBQ3pEO0FBV3hDLE1BQU1XLGtDQUFvQlYsb0RBQWFBLENBQW9DVztBQUVwRSxNQUFNQyxpQkFBaUI7SUFDNUIsTUFBTUMsVUFBVVosaURBQVVBLENBQUNTO0lBQzNCLElBQUlHLFlBQVlGLFdBQVc7UUFDekIsTUFBTSxJQUFJRyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVCxFQUFFO0FBRUssTUFBTUUscUJBQThELENBQUMsRUFBRUMsUUFBUSxFQUFFO0lBQ3RGLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUdSLHFEQUFPQTtJQUN4QixNQUFNLENBQUNTLFVBQVVDLFlBQVksR0FBR2hCLCtDQUFRQSxDQUFXO0lBQ25ELE1BQU0sQ0FBQ2lCLGFBQWFDLGVBQWUsR0FBR2xCLCtDQUFRQSxDQUFlQyxvREFBZ0JBLENBQUNhLElBQUk7SUFFbEZmLGdEQUFTQSxDQUFDO1FBQ1Isc0NBQXNDO1FBQ3RDLE1BQU1vQixPQUFPLE1BQU9BLFFBQXFCO1FBQ3pDSCxZQUFZRztRQUNaRCxlQUFlakIsb0RBQWdCLENBQUNrQixLQUFLLElBQUlsQixvREFBZ0JBLENBQUNhLElBQUk7SUFDaEUsR0FBRztRQUFDQTtLQUFLO0lBRVQsTUFBTVosZ0JBQWdCLENBQUNrQjtRQUNyQixJQUFJTCxhQUFhLGVBQWUsT0FBTztRQUN2QyxPQUFPWixxREFBZUEsQ0FBQ2MsYUFBYUc7SUFDdEM7SUFFQSxNQUFNQyx3QkFBd0IsQ0FBQ0M7UUFDN0IsSUFBSVAsYUFBYSxlQUFlLE9BQU87UUFDdkMsT0FBT1gsd0RBQWdCQSxDQUFDYSxhQUFhSztJQUN2QztJQUVBLE1BQU1DLHlCQUF5QixDQUFDRDtRQUM5QixJQUFJUCxhQUFhLGVBQWUsT0FBTztRQUN2QyxPQUFPVix5REFBaUJBLENBQUNZLGFBQWFLO0lBQ3hDO0lBRUEsTUFBTUUsMkJBQTJCLENBQUNKO1FBQ2hDLE1BQU1LLFlBQVl2QixjQUFja0I7UUFDaEMsTUFBTU0sZUFBZUQsWUFBWSxLQUFLLENBQUMsZ0RBQWdELENBQUM7UUFFeEYsT0FBTztZQUFFQTtZQUFXQztRQUFhO0lBQ25DO0lBRUEscUJBQ0UsOERBQUNuQixrQkFBa0JvQixRQUFRO1FBQUNDLE9BQU87WUFDakNiO1lBQ0FFO1lBQ0FmO1lBQ0FFLGtCQUFrQmlCO1lBQ2xCaEIsbUJBQW1Ca0I7WUFDbkJwQixpQkFBaUJxQjtRQUNuQjtrQkFDR1g7Ozs7OztBQUdQLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXJzdHJlYW0tbGVhcm5pbmctcGxhdGZvcm0vLi9zcmMvY29udGV4dHMvUGVybWlzc2lvbkNvbnRleHQudHN4P2U4Y2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uLCBVc2VyUm9sZSwgUk9MRV9QRVJNSVNTSU9OUyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGhhc1Blcm1pc3Npb24gYXMgY2hlY2tQZXJtaXNzaW9uLCBoYXNBbnlQZXJtaXNzaW9uLCBoYXNBbGxQZXJtaXNzaW9ucyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuL0F1dGhDb250ZXh0JztcblxuaW50ZXJmYWNlIFBlcm1pc3Npb25Db250ZXh0VHlwZSB7XG4gIHVzZXJSb2xlOiBVc2VyUm9sZTtcbiAgcGVybWlzc2lvbnM6IFBlcm1pc3Npb25bXTtcbiAgaGFzUGVybWlzc2lvbjogKHBlcm1pc3Npb246IFBlcm1pc3Npb24pID0+IGJvb2xlYW47XG4gIGhhc0FueVBlcm1pc3Npb246IChwZXJtaXNzaW9uczogUGVybWlzc2lvbltdKSA9PiBib29sZWFuO1xuICBoYXNBbGxQZXJtaXNzaW9uczogKHBlcm1pc3Npb25zOiBQZXJtaXNzaW9uW10pID0+IGJvb2xlYW47XG4gIGNoZWNrUGVybWlzc2lvbjogKHBlcm1pc3Npb246IFBlcm1pc3Npb24pID0+IHsgaGFzQWNjZXNzOiBib29sZWFuOyBlcnJvck1lc3NhZ2U6IHN0cmluZyB9O1xufVxuXG5jb25zdCBQZXJtaXNzaW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8UGVybWlzc2lvbkNvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5leHBvcnQgY29uc3QgdXNlUGVybWlzc2lvbnMgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFBlcm1pc3Npb25Db250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlUGVybWlzc2lvbnMgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFBlcm1pc3Npb25Qcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IFBlcm1pc3Npb25Qcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW3VzZXJSb2xlLCBzZXRVc2VyUm9sZV0gPSB1c2VTdGF0ZTxVc2VyUm9sZT4oJ3VzZXInKTtcbiAgY29uc3QgW3Blcm1pc3Npb25zLCBzZXRQZXJtaXNzaW9uc10gPSB1c2VTdGF0ZTxQZXJtaXNzaW9uW10+KFJPTEVfUEVSTUlTU0lPTlMudXNlcik7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBHZXQgdXNlciByb2xlIGZyb20gQXV0aENvbnRleHQgdXNlclxuICAgIGNvbnN0IHJvbGUgPSAodXNlcj8ucm9sZSBhcyBVc2VyUm9sZSkgfHwgJ3VzZXInO1xuICAgIHNldFVzZXJSb2xlKHJvbGUpO1xuICAgIHNldFBlcm1pc3Npb25zKFJPTEVfUEVSTUlTU0lPTlNbcm9sZV0gfHwgUk9MRV9QRVJNSVNTSU9OUy51c2VyKTtcbiAgfSwgW3VzZXJdKTtcblxuICBjb25zdCBoYXNQZXJtaXNzaW9uID0gKHBlcm1pc3Npb246IFBlcm1pc3Npb24pOiBib29sZWFuID0+IHtcbiAgICBpZiAodXNlclJvbGUgPT09ICdzdXBlcl9hZG1pbicpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBjaGVja1Blcm1pc3Npb24ocGVybWlzc2lvbnMsIHBlcm1pc3Npb24pO1xuICB9O1xuXG4gIGNvbnN0IGhhc0FueVBlcm1pc3Npb25DaGVjayA9IChyZXF1aXJlZFBlcm1pc3Npb25zOiBQZXJtaXNzaW9uW10pOiBib29sZWFuID0+IHtcbiAgICBpZiAodXNlclJvbGUgPT09ICdzdXBlcl9hZG1pbicpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBoYXNBbnlQZXJtaXNzaW9uKHBlcm1pc3Npb25zLCByZXF1aXJlZFBlcm1pc3Npb25zKTtcbiAgfTtcblxuICBjb25zdCBoYXNBbGxQZXJtaXNzaW9uc0NoZWNrID0gKHJlcXVpcmVkUGVybWlzc2lvbnM6IFBlcm1pc3Npb25bXSk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICh1c2VyUm9sZSA9PT0gJ3N1cGVyX2FkbWluJykgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGhhc0FsbFBlcm1pc3Npb25zKHBlcm1pc3Npb25zLCByZXF1aXJlZFBlcm1pc3Npb25zKTtcbiAgfTtcblxuICBjb25zdCBjaGVja1Blcm1pc3Npb25XaXRoRXJyb3IgPSAocGVybWlzc2lvbjogUGVybWlzc2lvbikgPT4ge1xuICAgIGNvbnN0IGhhc0FjY2VzcyA9IGhhc1Blcm1pc3Npb24ocGVybWlzc2lvbik7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaGFzQWNjZXNzID8gJycgOiBgWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhpcyBmZWF0dXJlYDtcblxuICAgIHJldHVybiB7IGhhc0FjY2VzcywgZXJyb3JNZXNzYWdlIH07XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8UGVybWlzc2lvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcbiAgICAgIHVzZXJSb2xlLFxuICAgICAgcGVybWlzc2lvbnMsXG4gICAgICBoYXNQZXJtaXNzaW9uLFxuICAgICAgaGFzQW55UGVybWlzc2lvbjogaGFzQW55UGVybWlzc2lvbkNoZWNrLFxuICAgICAgaGFzQWxsUGVybWlzc2lvbnM6IGhhc0FsbFBlcm1pc3Npb25zQ2hlY2ssXG4gICAgICBjaGVja1Blcm1pc3Npb246IGNoZWNrUGVybWlzc2lvbldpdGhFcnJvclxuICAgIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvUGVybWlzc2lvbkNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJST0xFX1BFUk1JU1NJT05TIiwiaGFzUGVybWlzc2lvbiIsImNoZWNrUGVybWlzc2lvbiIsImhhc0FueVBlcm1pc3Npb24iLCJoYXNBbGxQZXJtaXNzaW9ucyIsInVzZUF1dGgiLCJQZXJtaXNzaW9uQ29udGV4dCIsInVuZGVmaW5lZCIsInVzZVBlcm1pc3Npb25zIiwiY29udGV4dCIsIkVycm9yIiwiUGVybWlzc2lvblByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwidXNlclJvbGUiLCJzZXRVc2VyUm9sZSIsInBlcm1pc3Npb25zIiwic2V0UGVybWlzc2lvbnMiLCJyb2xlIiwicGVybWlzc2lvbiIsImhhc0FueVBlcm1pc3Npb25DaGVjayIsInJlcXVpcmVkUGVybWlzc2lvbnMiLCJoYXNBbGxQZXJtaXNzaW9uc0NoZWNrIiwiY2hlY2tQZXJtaXNzaW9uV2l0aEVycm9yIiwiaGFzQWNjZXNzIiwiZXJyb3JNZXNzYWdlIiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/contexts/PermissionContext.tsx\n");

/***/ }),

/***/ "./src/hooks/useTokenRefresh.ts":
/*!**************************************!*\
  !*** ./src/hooks/useTokenRefresh.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTokenExpiration: () => (/* binding */ useTokenExpiration),\n/* harmony export */   useTokenRefresh: () => (/* binding */ useTokenRefresh),\n/* harmony export */   useTokenStatus: () => (/* binding */ useTokenStatus)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/auth */ \"./src/lib/auth.ts\");\n/* harmony import */ var _lib_authInterceptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/authInterceptor */ \"./src/lib/authInterceptor.ts\");\n// Token Refresh Hook\n// Provides token refresh functionality and status monitoring\n\n\n\nconst useTokenRefresh = ()=>{\n    // Initialize with safe defaults to prevent hydration issues\n    const [tokenStatus, setTokenStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        // Only check token status on client side\n        if (true) {\n            return {\n                isAuthenticated: false,\n                isExpired: true,\n                shouldRefresh: false,\n                expiryTime: null,\n                timeUntilExpiry: null\n            };\n        }\n        // Explicitly type the return value to match TokenStatus interface\n        const status = (0,_lib_authInterceptor__WEBPACK_IMPORTED_MODULE_2__.checkTokenStatus)();\n        return {\n            isAuthenticated: status.isAuthenticated,\n            isExpired: status.isExpired,\n            shouldRefresh: status.shouldRefresh,\n            expiryTime: status.expiryTime,\n            timeUntilExpiry: status.timeUntilExpiry\n        };\n    });\n    const [refreshState, setRefreshState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        isRefreshing: false,\n        lastRefreshTime: null,\n        refreshCount: 0,\n        error: null\n    });\n    const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const cleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Update token status\n    const updateTokenStatus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        // Only update on client side\n        if (true) return;\n        const status = (0,_lib_authInterceptor__WEBPACK_IMPORTED_MODULE_2__.checkTokenStatus)();\n        // Ensure type safety by explicitly mapping the return values\n        setTokenStatus({\n            isAuthenticated: status.isAuthenticated,\n            isExpired: status.isExpired,\n            shouldRefresh: status.shouldRefresh,\n            expiryTime: status.expiryTime,\n            timeUntilExpiry: status.timeUntilExpiry\n        });\n    }, []);\n    // Manual token refresh\n    const refreshToken = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        // Only refresh on client side\n        if (true) return false;\n        if (refreshState.isRefreshing) {\n            console.log(\"\\uD83D\\uDD04 Token refresh already in progress...\");\n            return false;\n        }\n        setRefreshState((prev)=>({\n                ...prev,\n                isRefreshing: true,\n                error: null\n            }));\n        try {\n            console.log(\"\\uD83D\\uDD04 Manually refreshing token...\");\n            await _lib_auth__WEBPACK_IMPORTED_MODULE_1__.authService.refreshToken();\n            setRefreshState((prev)=>({\n                    isRefreshing: false,\n                    lastRefreshTime: Date.now(),\n                    refreshCount: prev.refreshCount + 1,\n                    error: null\n                }));\n            updateTokenStatus();\n            console.log(\"✅ Token refreshed successfully\");\n            return true;\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : \"Token refresh failed\";\n            console.error(\"❌ Token refresh failed:\", errorMessage);\n            setRefreshState((prev)=>({\n                    ...prev,\n                    isRefreshing: false,\n                    error: errorMessage\n                }));\n            return false;\n        }\n    }, [\n        refreshState.isRefreshing,\n        updateTokenStatus\n    ]);\n    // Force logout\n    const forceLogout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        // Only logout on client side\n        if (true) return;\n        try {\n            await _lib_auth__WEBPACK_IMPORTED_MODULE_1__.authService.logout();\n            setRefreshState({\n                isRefreshing: false,\n                lastRefreshTime: null,\n                refreshCount: 0,\n                error: null\n            });\n            updateTokenStatus();\n        } catch (error) {\n            console.error(\"Logout error:\", error);\n        }\n    }, [\n        updateTokenStatus\n    ]);\n    // Setup automatic refresh\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (true) return;\n        // Setup automatic refresh with proper type annotation\n        const cleanup = (0,_lib_authInterceptor__WEBPACK_IMPORTED_MODULE_2__.setupAutomaticRefresh)();\n        cleanupRef.current = cleanup || null;\n        // Update status every 10 seconds\n        intervalRef.current = setInterval(()=>{\n            updateTokenStatus();\n        }, 10 * 1000);\n        // Initial status check\n        updateTokenStatus();\n        return ()=>{\n            if (intervalRef.current) {\n                clearInterval(intervalRef.current);\n            }\n            if (cleanupRef.current) {\n                cleanupRef.current();\n            }\n        };\n    }, [\n        updateTokenStatus\n    ]);\n    // Auto-refresh when token is about to expire\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (tokenStatus.shouldRefresh && !refreshState.isRefreshing && tokenStatus.isAuthenticated) {\n            console.log(\"\\uD83D\\uDD04 Auto-refreshing token due to expiry...\");\n            refreshToken();\n        }\n    }, [\n        tokenStatus.shouldRefresh,\n        refreshState.isRefreshing,\n        tokenStatus.isAuthenticated,\n        refreshToken\n    ]);\n    // Clear error after 5 seconds\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (refreshState.error) {\n            const timer = setTimeout(()=>{\n                setRefreshState((prev)=>({\n                        ...prev,\n                        error: null\n                    }));\n            }, 5000);\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        refreshState.error\n    ]);\n    // Get time until expiry in human readable format\n    const getTimeUntilExpiry = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!tokenStatus.expiryTime) return null;\n        const now = Date.now();\n        const timeLeft = tokenStatus.expiryTime - now;\n        if (timeLeft <= 0) return \"Expired\";\n        const minutes = Math.floor(timeLeft / (1000 * 60));\n        const seconds = Math.floor(timeLeft % (1000 * 60) / 1000);\n        if (minutes > 0) {\n            return `${minutes}m ${seconds}s`;\n        }\n        return `${seconds}s`;\n    }, [\n        tokenStatus.expiryTime\n    ]);\n    // Check if user should be redirected to login\n    const shouldRedirectToLogin = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        return !tokenStatus.isAuthenticated && !refreshState.isRefreshing;\n    }, [\n        tokenStatus.isAuthenticated,\n        refreshState.isRefreshing\n    ]);\n    return {\n        // Status\n        tokenStatus,\n        refreshState,\n        // Actions\n        refreshToken,\n        forceLogout,\n        updateTokenStatus,\n        // Computed values\n        timeUntilExpiry: getTimeUntilExpiry(),\n        shouldRedirectToLogin: shouldRedirectToLogin(),\n        // Utility functions\n        isAuthenticated: tokenStatus.isAuthenticated,\n        isExpired: tokenStatus.isExpired,\n        shouldRefresh: tokenStatus.shouldRefresh\n    };\n};\n// Hook for components that need to handle token expiration\nconst useTokenExpiration = (onExpiration)=>{\n    const { tokenStatus, refreshToken, forceLogout } = useTokenRefresh();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (tokenStatus.isExpired && tokenStatus.isAuthenticated) {\n            console.log(\"⚠️ Token expired, attempting refresh...\");\n            refreshToken().then((success)=>{\n                if (!success && onExpiration) {\n                    console.log(\"❌ Token refresh failed, calling expiration handler\");\n                    onExpiration();\n                }\n            });\n        }\n    }, [\n        tokenStatus.isExpired,\n        tokenStatus.isAuthenticated,\n        refreshToken,\n        onExpiration\n    ]);\n    return {\n        tokenStatus,\n        refreshToken,\n        forceLogout\n    };\n};\n// Simplified hook for components that only need token status\nconst useTokenStatus = ()=>{\n    const { tokenStatus } = useTokenRefresh();\n    return tokenStatus;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlVG9rZW5SZWZyZXNoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFDckIsNkRBQTZEO0FBRUk7QUFDdkI7QUFDdUM7QUFpQjFFLE1BQU1PLGtCQUFrQjtJQUM3Qiw0REFBNEQ7SUFDNUQsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdULCtDQUFRQSxDQUFjO1FBQzFELHlDQUF5QztRQUN6QyxJQUFJLElBQWtCLEVBQWE7WUFDakMsT0FBTztnQkFDTFUsaUJBQWlCO2dCQUNqQkMsV0FBVztnQkFDWEMsZUFBZTtnQkFDZkMsWUFBWTtnQkFDWkMsaUJBQWlCO1lBQ25CO1FBQ0Y7UUFDQSxrRUFBa0U7UUFDbEUsTUFBTUMsU0FBU1Qsc0VBQWdCQTtRQUMvQixPQUFPO1lBQ0xJLGlCQUFpQkssT0FBT0wsZUFBZTtZQUN2Q0MsV0FBV0ksT0FBT0osU0FBUztZQUMzQkMsZUFBZUcsT0FBT0gsYUFBYTtZQUNuQ0MsWUFBWUUsT0FBT0YsVUFBVTtZQUM3QkMsaUJBQWlCQyxPQUFPRCxlQUFlO1FBQ3pDO0lBQ0Y7SUFFQSxNQUFNLENBQUNFLGNBQWNDLGdCQUFnQixHQUFHakIsK0NBQVFBLENBQW9CO1FBQ2xFa0IsY0FBYztRQUNkQyxpQkFBaUI7UUFDakJDLGNBQWM7UUFDZEMsT0FBTztJQUNUO0lBRUEsTUFBTUMsY0FBY25CLDZDQUFNQSxDQUF3QjtJQUNsRCxNQUFNb0IsYUFBYXBCLDZDQUFNQSxDQUFzQjtJQUUvQyxzQkFBc0I7SUFDdEIsTUFBTXFCLG9CQUFvQnRCLGtEQUFXQSxDQUFDO1FBQ3BDLDZCQUE2QjtRQUM3QixJQUFJLElBQWtCLEVBQWE7UUFFbkMsTUFBTWEsU0FBU1Qsc0VBQWdCQTtRQUMvQiw2REFBNkQ7UUFDN0RHLGVBQWU7WUFDYkMsaUJBQWlCSyxPQUFPTCxlQUFlO1lBQ3ZDQyxXQUFXSSxPQUFPSixTQUFTO1lBQzNCQyxlQUFlRyxPQUFPSCxhQUFhO1lBQ25DQyxZQUFZRSxPQUFPRixVQUFVO1lBQzdCQyxpQkFBaUJDLE9BQU9ELGVBQWU7UUFDekM7SUFDRixHQUFHLEVBQUU7SUFFTCx1QkFBdUI7SUFDdkIsTUFBTVcsZUFBZXZCLGtEQUFXQSxDQUFDO1FBQy9CLDhCQUE4QjtRQUM5QixJQUFJLElBQWtCLEVBQWEsT0FBTztRQUUxQyxJQUFJYyxhQUFhRSxZQUFZLEVBQUU7WUFDN0JRLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87UUFDVDtRQUVBVixnQkFBZ0JXLENBQUFBLE9BQVM7Z0JBQ3ZCLEdBQUdBLElBQUk7Z0JBQ1BWLGNBQWM7Z0JBQ2RHLE9BQU87WUFDVDtRQUVBLElBQUk7WUFDRkssUUFBUUMsR0FBRyxDQUFDO1lBQ1osTUFBTXZCLGtEQUFXQSxDQUFDcUIsWUFBWTtZQUU5QlIsZ0JBQWdCVyxDQUFBQSxPQUFTO29CQUN2QlYsY0FBYztvQkFDZEMsaUJBQWlCVSxLQUFLQyxHQUFHO29CQUN6QlYsY0FBY1EsS0FBS1IsWUFBWSxHQUFHO29CQUNsQ0MsT0FBTztnQkFDVDtZQUVBRztZQUNBRSxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPO1FBQ1QsRUFBRSxPQUFPTixPQUFPO1lBQ2QsTUFBTVUsZUFBZVYsaUJBQWlCVyxRQUFRWCxNQUFNWSxPQUFPLEdBQUc7WUFDOURQLFFBQVFMLEtBQUssQ0FBQywyQkFBMkJVO1lBRXpDZCxnQkFBZ0JXLENBQUFBLE9BQVM7b0JBQ3ZCLEdBQUdBLElBQUk7b0JBQ1BWLGNBQWM7b0JBQ2RHLE9BQU9VO2dCQUNUO1lBRUEsT0FBTztRQUNUO0lBQ0YsR0FBRztRQUFDZixhQUFhRSxZQUFZO1FBQUVNO0tBQWtCO0lBRWpELGVBQWU7SUFDZixNQUFNVSxjQUFjaEMsa0RBQVdBLENBQUM7UUFDOUIsNkJBQTZCO1FBQzdCLElBQUksSUFBa0IsRUFBYTtRQUVuQyxJQUFJO1lBQ0YsTUFBTUUsa0RBQVdBLENBQUMrQixNQUFNO1lBQ3hCbEIsZ0JBQWdCO2dCQUNkQyxjQUFjO2dCQUNkQyxpQkFBaUI7Z0JBQ2pCQyxjQUFjO2dCQUNkQyxPQUFPO1lBQ1Q7WUFDQUc7UUFDRixFQUFFLE9BQU9ILE9BQU87WUFDZEssUUFBUUwsS0FBSyxDQUFDLGlCQUFpQkE7UUFDakM7SUFDRixHQUFHO1FBQUNHO0tBQWtCO0lBRXRCLDBCQUEwQjtJQUMxQnZCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxJQUFrQixFQUFhO1FBRW5DLHNEQUFzRDtRQUN0RCxNQUFNbUMsVUFBb0MvQiwyRUFBcUJBO1FBQy9Ea0IsV0FBV2MsT0FBTyxHQUFHRCxXQUFXO1FBRWhDLGlDQUFpQztRQUNqQ2QsWUFBWWUsT0FBTyxHQUFHQyxZQUFZO1lBQ2hDZDtRQUNGLEdBQUcsS0FBSztRQUVSLHVCQUF1QjtRQUN2QkE7UUFFQSxPQUFPO1lBQ0wsSUFBSUYsWUFBWWUsT0FBTyxFQUFFO2dCQUN2QkUsY0FBY2pCLFlBQVllLE9BQU87WUFDbkM7WUFDQSxJQUFJZCxXQUFXYyxPQUFPLEVBQUU7Z0JBQ3RCZCxXQUFXYyxPQUFPO1lBQ3BCO1FBQ0Y7SUFDRixHQUFHO1FBQUNiO0tBQWtCO0lBRXRCLDZDQUE2QztJQUM3Q3ZCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSU8sWUFBWUksYUFBYSxJQUFJLENBQUNJLGFBQWFFLFlBQVksSUFBSVYsWUFBWUUsZUFBZSxFQUFFO1lBQzFGZ0IsUUFBUUMsR0FBRyxDQUFDO1lBQ1pGO1FBQ0Y7SUFDRixHQUFHO1FBQUNqQixZQUFZSSxhQUFhO1FBQUVJLGFBQWFFLFlBQVk7UUFBRVYsWUFBWUUsZUFBZTtRQUFFZTtLQUFhO0lBRXBHLDhCQUE4QjtJQUM5QnhCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWUsYUFBYUssS0FBSyxFQUFFO1lBQ3RCLE1BQU1tQixRQUFRQyxXQUFXO2dCQUN2QnhCLGdCQUFnQlcsQ0FBQUEsT0FBUzt3QkFBRSxHQUFHQSxJQUFJO3dCQUFFUCxPQUFPO29CQUFLO1lBQ2xELEdBQUc7WUFFSCxPQUFPLElBQU1xQixhQUFhRjtRQUM1QjtJQUNGLEdBQUc7UUFBQ3hCLGFBQWFLLEtBQUs7S0FBQztJQUV2QixpREFBaUQ7SUFDakQsTUFBTXNCLHFCQUFxQnpDLGtEQUFXQSxDQUFDO1FBQ3JDLElBQUksQ0FBQ00sWUFBWUssVUFBVSxFQUFFLE9BQU87UUFFcEMsTUFBTWlCLE1BQU1ELEtBQUtDLEdBQUc7UUFDcEIsTUFBTWMsV0FBV3BDLFlBQVlLLFVBQVUsR0FBR2lCO1FBRTFDLElBQUljLFlBQVksR0FBRyxPQUFPO1FBRTFCLE1BQU1DLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0gsV0FBWSxRQUFPLEVBQUM7UUFDL0MsTUFBTUksVUFBVUYsS0FBS0MsS0FBSyxDQUFDLFdBQWEsUUFBTyxFQUFDLElBQU07UUFFdEQsSUFBSUYsVUFBVSxHQUFHO1lBQ2YsT0FBTyxDQUFDLEVBQUVBLFFBQVEsRUFBRSxFQUFFRyxRQUFRLENBQUMsQ0FBQztRQUNsQztRQUNBLE9BQU8sQ0FBQyxFQUFFQSxRQUFRLENBQUMsQ0FBQztJQUN0QixHQUFHO1FBQUN4QyxZQUFZSyxVQUFVO0tBQUM7SUFFM0IsOENBQThDO0lBQzlDLE1BQU1vQyx3QkFBd0IvQyxrREFBV0EsQ0FBQztRQUN4QyxPQUFPLENBQUNNLFlBQVlFLGVBQWUsSUFBSSxDQUFDTSxhQUFhRSxZQUFZO0lBQ25FLEdBQUc7UUFBQ1YsWUFBWUUsZUFBZTtRQUFFTSxhQUFhRSxZQUFZO0tBQUM7SUFFM0QsT0FBTztRQUNMLFNBQVM7UUFDVFY7UUFDQVE7UUFFQSxVQUFVO1FBQ1ZTO1FBQ0FTO1FBQ0FWO1FBRUEsa0JBQWtCO1FBQ2xCVixpQkFBaUI2QjtRQUNqQk0sdUJBQXVCQTtRQUV2QixvQkFBb0I7UUFDcEJ2QyxpQkFBaUJGLFlBQVlFLGVBQWU7UUFDNUNDLFdBQVdILFlBQVlHLFNBQVM7UUFDaENDLGVBQWVKLFlBQVlJLGFBQWE7SUFDMUM7QUFDRixFQUFFO0FBRUYsMkRBQTJEO0FBQ3BELE1BQU1zQyxxQkFBcUIsQ0FBQ0M7SUFDakMsTUFBTSxFQUFFM0MsV0FBVyxFQUFFaUIsWUFBWSxFQUFFUyxXQUFXLEVBQUUsR0FBRzNCO0lBRW5ETixnREFBU0EsQ0FBQztRQUNSLElBQUlPLFlBQVlHLFNBQVMsSUFBSUgsWUFBWUUsZUFBZSxFQUFFO1lBQ3hEZ0IsUUFBUUMsR0FBRyxDQUFDO1lBRVpGLGVBQWUyQixJQUFJLENBQUMsQ0FBQ0M7Z0JBQ25CLElBQUksQ0FBQ0EsV0FBV0YsY0FBYztvQkFDNUJ6QixRQUFRQyxHQUFHLENBQUM7b0JBQ1p3QjtnQkFDRjtZQUNGO1FBQ0Y7SUFDRixHQUFHO1FBQUMzQyxZQUFZRyxTQUFTO1FBQUVILFlBQVlFLGVBQWU7UUFBRWU7UUFBYzBCO0tBQWE7SUFFbkYsT0FBTztRQUNMM0M7UUFDQWlCO1FBQ0FTO0lBQ0Y7QUFDRixFQUFFO0FBRUYsNkRBQTZEO0FBQ3RELE1BQU1vQixpQkFBaUI7SUFDNUIsTUFBTSxFQUFFOUMsV0FBVyxFQUFFLEdBQUdEO0lBQ3hCLE9BQU9DO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21hc3RlcnN0cmVhbS1sZWFybmluZy1wbGF0Zm9ybS8uL3NyYy9ob29rcy91c2VUb2tlblJlZnJlc2gudHM/NmIyNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUb2tlbiBSZWZyZXNoIEhvb2tcclxuLy8gUHJvdmlkZXMgdG9rZW4gcmVmcmVzaCBmdW5jdGlvbmFsaXR5IGFuZCBzdGF0dXMgbW9uaXRvcmluZ1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgYXV0aFNlcnZpY2UgfSBmcm9tICcuLi9saWIvYXV0aCc7XHJcbmltcG9ydCB7IHNldHVwQXV0b21hdGljUmVmcmVzaCwgY2hlY2tUb2tlblN0YXR1cyB9IGZyb20gJy4uL2xpYi9hdXRoSW50ZXJjZXB0b3InO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb2tlblN0YXR1cyB7XHJcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xyXG4gIGlzRXhwaXJlZDogYm9vbGVhbjtcclxuICBzaG91bGRSZWZyZXNoOiBib29sZWFuO1xyXG4gIGV4cGlyeVRpbWU6IG51bWJlciB8IG51bGw7XHJcbiAgdGltZVVudGlsRXhwaXJ5OiBudW1iZXIgfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuUmVmcmVzaFN0YXRlIHtcclxuICBpc1JlZnJlc2hpbmc6IGJvb2xlYW47XHJcbiAgbGFzdFJlZnJlc2hUaW1lOiBudW1iZXIgfCBudWxsO1xyXG4gIHJlZnJlc2hDb3VudDogbnVtYmVyO1xyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdXNlVG9rZW5SZWZyZXNoID0gKCkgPT4ge1xyXG4gIC8vIEluaXRpYWxpemUgd2l0aCBzYWZlIGRlZmF1bHRzIHRvIHByZXZlbnQgaHlkcmF0aW9uIGlzc3Vlc1xyXG4gIGNvbnN0IFt0b2tlblN0YXR1cywgc2V0VG9rZW5TdGF0dXNdID0gdXNlU3RhdGU8VG9rZW5TdGF0dXM+KCgpID0+IHtcclxuICAgIC8vIE9ubHkgY2hlY2sgdG9rZW4gc3RhdHVzIG9uIGNsaWVudCBzaWRlXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzRXhwaXJlZDogdHJ1ZSxcclxuICAgICAgICBzaG91bGRSZWZyZXNoOiBmYWxzZSxcclxuICAgICAgICBleHBpcnlUaW1lOiBudWxsLFxyXG4gICAgICAgIHRpbWVVbnRpbEV4cGlyeTogbnVsbCxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIC8vIEV4cGxpY2l0bHkgdHlwZSB0aGUgcmV0dXJuIHZhbHVlIHRvIG1hdGNoIFRva2VuU3RhdHVzIGludGVyZmFjZVxyXG4gICAgY29uc3Qgc3RhdHVzID0gY2hlY2tUb2tlblN0YXR1cygpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNBdXRoZW50aWNhdGVkOiBzdGF0dXMuaXNBdXRoZW50aWNhdGVkLFxyXG4gICAgICBpc0V4cGlyZWQ6IHN0YXR1cy5pc0V4cGlyZWQsXHJcbiAgICAgIHNob3VsZFJlZnJlc2g6IHN0YXR1cy5zaG91bGRSZWZyZXNoLFxyXG4gICAgICBleHBpcnlUaW1lOiBzdGF0dXMuZXhwaXJ5VGltZSxcclxuICAgICAgdGltZVVudGlsRXhwaXJ5OiBzdGF0dXMudGltZVVudGlsRXhwaXJ5LFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgW3JlZnJlc2hTdGF0ZSwgc2V0UmVmcmVzaFN0YXRlXSA9IHVzZVN0YXRlPFRva2VuUmVmcmVzaFN0YXRlPih7XHJcbiAgICBpc1JlZnJlc2hpbmc6IGZhbHNlLFxyXG4gICAgbGFzdFJlZnJlc2hUaW1lOiBudWxsLFxyXG4gICAgcmVmcmVzaENvdW50OiAwLFxyXG4gICAgZXJyb3I6IG51bGwsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGludGVydmFsUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgY2xlYW51cFJlZiA9IHVzZVJlZjwoKCkgPT4gdm9pZCkgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gVXBkYXRlIHRva2VuIHN0YXR1c1xyXG4gIGNvbnN0IHVwZGF0ZVRva2VuU3RhdHVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgLy8gT25seSB1cGRhdGUgb24gY2xpZW50IHNpZGVcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHN0YXR1cyA9IGNoZWNrVG9rZW5TdGF0dXMoKTtcclxuICAgIC8vIEVuc3VyZSB0eXBlIHNhZmV0eSBieSBleHBsaWNpdGx5IG1hcHBpbmcgdGhlIHJldHVybiB2YWx1ZXNcclxuICAgIHNldFRva2VuU3RhdHVzKHtcclxuICAgICAgaXNBdXRoZW50aWNhdGVkOiBzdGF0dXMuaXNBdXRoZW50aWNhdGVkLFxyXG4gICAgICBpc0V4cGlyZWQ6IHN0YXR1cy5pc0V4cGlyZWQsXHJcbiAgICAgIHNob3VsZFJlZnJlc2g6IHN0YXR1cy5zaG91bGRSZWZyZXNoLFxyXG4gICAgICBleHBpcnlUaW1lOiBzdGF0dXMuZXhwaXJ5VGltZSxcclxuICAgICAgdGltZVVudGlsRXhwaXJ5OiBzdGF0dXMudGltZVVudGlsRXhwaXJ5LFxyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBNYW51YWwgdG9rZW4gcmVmcmVzaFxyXG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICAgIC8vIE9ubHkgcmVmcmVzaCBvbiBjbGllbnQgc2lkZVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHJlZnJlc2hTdGF0ZS5pc1JlZnJlc2hpbmcpIHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgVG9rZW4gcmVmcmVzaCBhbHJlYWR5IGluIHByb2dyZXNzLi4uJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSZWZyZXNoU3RhdGUocHJldiA9PiAoe1xyXG4gICAgICAuLi5wcmV2LFxyXG4gICAgICBpc1JlZnJlc2hpbmc6IHRydWUsXHJcbiAgICAgIGVycm9yOiBudWxsLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIE1hbnVhbGx5IHJlZnJlc2hpbmcgdG9rZW4uLi4nKTtcclxuICAgICAgYXdhaXQgYXV0aFNlcnZpY2UucmVmcmVzaFRva2VuKCk7XHJcblxyXG4gICAgICBzZXRSZWZyZXNoU3RhdGUocHJldiA9PiAoe1xyXG4gICAgICAgIGlzUmVmcmVzaGluZzogZmFsc2UsXHJcbiAgICAgICAgbGFzdFJlZnJlc2hUaW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgIHJlZnJlc2hDb3VudDogcHJldi5yZWZyZXNoQ291bnQgKyAxLFxyXG4gICAgICAgIGVycm9yOiBudWxsLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICB1cGRhdGVUb2tlblN0YXR1cygpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFRva2VuIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdUb2tlbiByZWZyZXNoIGZhaWxlZCc7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBUb2tlbiByZWZyZXNoIGZhaWxlZDonLCBlcnJvck1lc3NhZ2UpO1xyXG5cclxuICAgICAgc2V0UmVmcmVzaFN0YXRlKHByZXYgPT4gKHtcclxuICAgICAgICAuLi5wcmV2LFxyXG4gICAgICAgIGlzUmVmcmVzaGluZzogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sIFtyZWZyZXNoU3RhdGUuaXNSZWZyZXNoaW5nLCB1cGRhdGVUb2tlblN0YXR1c10pO1xyXG5cclxuICAvLyBGb3JjZSBsb2dvdXRcclxuICBjb25zdCBmb3JjZUxvZ291dCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIC8vIE9ubHkgbG9nb3V0IG9uIGNsaWVudCBzaWRlXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBhdXRoU2VydmljZS5sb2dvdXQoKTtcclxuICAgICAgc2V0UmVmcmVzaFN0YXRlKHtcclxuICAgICAgICBpc1JlZnJlc2hpbmc6IGZhbHNlLFxyXG4gICAgICAgIGxhc3RSZWZyZXNoVGltZTogbnVsbCxcclxuICAgICAgICByZWZyZXNoQ291bnQ6IDAsXHJcbiAgICAgICAgZXJyb3I6IG51bGwsXHJcbiAgICAgIH0pO1xyXG4gICAgICB1cGRhdGVUb2tlblN0YXR1cygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTG9nb3V0IGVycm9yOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9LCBbdXBkYXRlVG9rZW5TdGF0dXNdKTtcclxuXHJcbiAgLy8gU2V0dXAgYXV0b21hdGljIHJlZnJlc2hcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XHJcblxyXG4gICAgLy8gU2V0dXAgYXV0b21hdGljIHJlZnJlc2ggd2l0aCBwcm9wZXIgdHlwZSBhbm5vdGF0aW9uXHJcbiAgICBjb25zdCBjbGVhbnVwOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQgPSBzZXR1cEF1dG9tYXRpY1JlZnJlc2goKTtcclxuICAgIGNsZWFudXBSZWYuY3VycmVudCA9IGNsZWFudXAgfHwgbnVsbDtcclxuXHJcbiAgICAvLyBVcGRhdGUgc3RhdHVzIGV2ZXJ5IDEwIHNlY29uZHNcclxuICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHVwZGF0ZVRva2VuU3RhdHVzKCk7XHJcbiAgICB9LCAxMCAqIDEwMDApO1xyXG5cclxuICAgIC8vIEluaXRpYWwgc3RhdHVzIGNoZWNrXHJcbiAgICB1cGRhdGVUb2tlblN0YXR1cygpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY2xlYW51cFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYW51cFJlZi5jdXJyZW50KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW3VwZGF0ZVRva2VuU3RhdHVzXSk7XHJcblxyXG4gIC8vIEF1dG8tcmVmcmVzaCB3aGVuIHRva2VuIGlzIGFib3V0IHRvIGV4cGlyZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodG9rZW5TdGF0dXMuc2hvdWxkUmVmcmVzaCAmJiAhcmVmcmVzaFN0YXRlLmlzUmVmcmVzaGluZyAmJiB0b2tlblN0YXR1cy5pc0F1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgQXV0by1yZWZyZXNoaW5nIHRva2VuIGR1ZSB0byBleHBpcnkuLi4nKTtcclxuICAgICAgcmVmcmVzaFRva2VuKCk7XHJcbiAgICB9XHJcbiAgfSwgW3Rva2VuU3RhdHVzLnNob3VsZFJlZnJlc2gsIHJlZnJlc2hTdGF0ZS5pc1JlZnJlc2hpbmcsIHRva2VuU3RhdHVzLmlzQXV0aGVudGljYXRlZCwgcmVmcmVzaFRva2VuXSk7XHJcblxyXG4gIC8vIENsZWFyIGVycm9yIGFmdGVyIDUgc2Vjb25kc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAocmVmcmVzaFN0YXRlLmVycm9yKSB7XHJcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2V0UmVmcmVzaFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6IG51bGwgfSkpO1xyXG4gICAgICB9LCA1MDAwKTtcclxuXHJcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgfVxyXG4gIH0sIFtyZWZyZXNoU3RhdGUuZXJyb3JdKTtcclxuXHJcbiAgLy8gR2V0IHRpbWUgdW50aWwgZXhwaXJ5IGluIGh1bWFuIHJlYWRhYmxlIGZvcm1hdFxyXG4gIGNvbnN0IGdldFRpbWVVbnRpbEV4cGlyeSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghdG9rZW5TdGF0dXMuZXhwaXJ5VGltZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRpbWVMZWZ0ID0gdG9rZW5TdGF0dXMuZXhwaXJ5VGltZSAtIG5vdztcclxuXHJcbiAgICBpZiAodGltZUxlZnQgPD0gMCkgcmV0dXJuICdFeHBpcmVkJztcclxuXHJcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0aW1lTGVmdCAvICgxMDAwICogNjApKTtcclxuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKCh0aW1lTGVmdCAlICgxMDAwICogNjApKSAvIDEwMDApO1xyXG5cclxuICAgIGlmIChtaW51dGVzID4gMCkge1xyXG4gICAgICByZXR1cm4gYCR7bWludXRlc31tICR7c2Vjb25kc31zYDtcclxuICAgIH1cclxuICAgIHJldHVybiBgJHtzZWNvbmRzfXNgO1xyXG4gIH0sIFt0b2tlblN0YXR1cy5leHBpcnlUaW1lXSk7XHJcblxyXG4gIC8vIENoZWNrIGlmIHVzZXIgc2hvdWxkIGJlIHJlZGlyZWN0ZWQgdG8gbG9naW5cclxuICBjb25zdCBzaG91bGRSZWRpcmVjdFRvTG9naW4gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByZXR1cm4gIXRva2VuU3RhdHVzLmlzQXV0aGVudGljYXRlZCAmJiAhcmVmcmVzaFN0YXRlLmlzUmVmcmVzaGluZztcclxuICB9LCBbdG9rZW5TdGF0dXMuaXNBdXRoZW50aWNhdGVkLCByZWZyZXNoU3RhdGUuaXNSZWZyZXNoaW5nXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAvLyBTdGF0dXNcclxuICAgIHRva2VuU3RhdHVzLFxyXG4gICAgcmVmcmVzaFN0YXRlLFxyXG5cclxuICAgIC8vIEFjdGlvbnNcclxuICAgIHJlZnJlc2hUb2tlbixcclxuICAgIGZvcmNlTG9nb3V0LFxyXG4gICAgdXBkYXRlVG9rZW5TdGF0dXMsXHJcblxyXG4gICAgLy8gQ29tcHV0ZWQgdmFsdWVzXHJcbiAgICB0aW1lVW50aWxFeHBpcnk6IGdldFRpbWVVbnRpbEV4cGlyeSgpLFxyXG4gICAgc2hvdWxkUmVkaXJlY3RUb0xvZ2luOiBzaG91bGRSZWRpcmVjdFRvTG9naW4oKSxcclxuXHJcbiAgICAvLyBVdGlsaXR5IGZ1bmN0aW9uc1xyXG4gICAgaXNBdXRoZW50aWNhdGVkOiB0b2tlblN0YXR1cy5pc0F1dGhlbnRpY2F0ZWQsXHJcbiAgICBpc0V4cGlyZWQ6IHRva2VuU3RhdHVzLmlzRXhwaXJlZCxcclxuICAgIHNob3VsZFJlZnJlc2g6IHRva2VuU3RhdHVzLnNob3VsZFJlZnJlc2gsXHJcbiAgfTtcclxufTtcclxuXHJcbi8vIEhvb2sgZm9yIGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIGhhbmRsZSB0b2tlbiBleHBpcmF0aW9uXHJcbmV4cG9ydCBjb25zdCB1c2VUb2tlbkV4cGlyYXRpb24gPSAob25FeHBpcmF0aW9uPzogKCkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IHsgdG9rZW5TdGF0dXMsIHJlZnJlc2hUb2tlbiwgZm9yY2VMb2dvdXQgfSA9IHVzZVRva2VuUmVmcmVzaCgpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHRva2VuU3RhdHVzLmlzRXhwaXJlZCAmJiB0b2tlblN0YXR1cy5pc0F1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBUb2tlbiBleHBpcmVkLCBhdHRlbXB0aW5nIHJlZnJlc2guLi4nKTtcclxuXHJcbiAgICAgIHJlZnJlc2hUb2tlbigpLnRoZW4oKHN1Y2Nlc3MpID0+IHtcclxuICAgICAgICBpZiAoIXN1Y2Nlc3MgJiYgb25FeHBpcmF0aW9uKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIFRva2VuIHJlZnJlc2ggZmFpbGVkLCBjYWxsaW5nIGV4cGlyYXRpb24gaGFuZGxlcicpO1xyXG4gICAgICAgICAgb25FeHBpcmF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbdG9rZW5TdGF0dXMuaXNFeHBpcmVkLCB0b2tlblN0YXR1cy5pc0F1dGhlbnRpY2F0ZWQsIHJlZnJlc2hUb2tlbiwgb25FeHBpcmF0aW9uXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB0b2tlblN0YXR1cyxcclxuICAgIHJlZnJlc2hUb2tlbixcclxuICAgIGZvcmNlTG9nb3V0LFxyXG4gIH07XHJcbn07XHJcblxyXG4vLyBTaW1wbGlmaWVkIGhvb2sgZm9yIGNvbXBvbmVudHMgdGhhdCBvbmx5IG5lZWQgdG9rZW4gc3RhdHVzXHJcbmV4cG9ydCBjb25zdCB1c2VUb2tlblN0YXR1cyA9ICgpID0+IHtcclxuICBjb25zdCB7IHRva2VuU3RhdHVzIH0gPSB1c2VUb2tlblJlZnJlc2goKTtcclxuICByZXR1cm4gdG9rZW5TdGF0dXM7XHJcbn07Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJhdXRoU2VydmljZSIsInNldHVwQXV0b21hdGljUmVmcmVzaCIsImNoZWNrVG9rZW5TdGF0dXMiLCJ1c2VUb2tlblJlZnJlc2giLCJ0b2tlblN0YXR1cyIsInNldFRva2VuU3RhdHVzIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNFeHBpcmVkIiwic2hvdWxkUmVmcmVzaCIsImV4cGlyeVRpbWUiLCJ0aW1lVW50aWxFeHBpcnkiLCJzdGF0dXMiLCJyZWZyZXNoU3RhdGUiLCJzZXRSZWZyZXNoU3RhdGUiLCJpc1JlZnJlc2hpbmciLCJsYXN0UmVmcmVzaFRpbWUiLCJyZWZyZXNoQ291bnQiLCJlcnJvciIsImludGVydmFsUmVmIiwiY2xlYW51cFJlZiIsInVwZGF0ZVRva2VuU3RhdHVzIiwicmVmcmVzaFRva2VuIiwiY29uc29sZSIsImxvZyIsInByZXYiLCJEYXRlIiwibm93IiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwiZm9yY2VMb2dvdXQiLCJsb2dvdXQiLCJjbGVhbnVwIiwiY3VycmVudCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImdldFRpbWVVbnRpbEV4cGlyeSIsInRpbWVMZWZ0IiwibWludXRlcyIsIk1hdGgiLCJmbG9vciIsInNlY29uZHMiLCJzaG91bGRSZWRpcmVjdFRvTG9naW4iLCJ1c2VUb2tlbkV4cGlyYXRpb24iLCJvbkV4cGlyYXRpb24iLCJ0aGVuIiwic3VjY2VzcyIsInVzZVRva2VuU3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/hooks/useTokenRefresh.ts\n");

/***/ }),

/***/ "./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthError: () => (/* binding */ AuthError),\n/* harmony export */   authService: () => (/* binding */ authService),\n/* harmony export */   authenticatedRequest: () => (/* binding */ authenticatedRequest),\n/* harmony export */   checkTokenStatusLegacy: () => (/* binding */ checkTokenStatusLegacy),\n/* harmony export */   setupAutomaticRefreshLegacy: () => (/* binding */ setupAutomaticRefreshLegacy)\n/* harmony export */ });\n/* harmony import */ var _mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mysql */ \"./src/lib/mysql.ts\");\n// Enhanced Authentication Service\n// Handles login, registration, and token management with improved error handling\n\n// Token management\nconst TOKEN_KEY = \"forward_africa_token\";\nconst REFRESH_TOKEN_KEY = \"forward_africa_refresh_token\";\nconst USER_KEY = \"forward_africa_user\";\nconst TOKEN_EXPIRY_KEY = \"forward_africa_token_expiry\";\n// Token refresh configuration\nconst TOKEN_REFRESH_THRESHOLD = 5 * 60 * 1000; // 5 minutes before expiry\nlet refreshPromise = null;\n// Enhanced error handling\nclass AuthError extends Error {\n    constructor(code, message, details){\n        super(message);\n        this.code = code;\n        this.details = details;\n        this.name = \"AuthError\";\n    }\n}\n// JWT Token utilities\nconst jwtUtils = {\n    // Parse JWT token without verification (for client-side expiry check)\n    parseToken: (token)=>{\n        try {\n            const payload = token.split(\".\")[1];\n            return JSON.parse(atob(payload));\n        } catch (error) {\n            throw new AuthError(\"INVALID_TOKEN\", \"Invalid token format\");\n        }\n    },\n    // Check if token is expired\n    isTokenExpired: (token)=>{\n        try {\n            const payload = jwtUtils.parseToken(token);\n            const currentTime = Math.floor(Date.now() / 1000);\n            return payload.exp < currentTime;\n        } catch (error) {\n            return true; // Consider invalid tokens as expired\n        }\n    },\n    // Get token expiry time\n    getTokenExpiry: (token)=>{\n        try {\n            const payload = jwtUtils.parseToken(token);\n            return payload.exp * 1000; // Convert to milliseconds\n        } catch (error) {\n            return null;\n        }\n    }\n};\nconst authService = {\n    // Store token and user data with enhanced error handling\n    setAuthData: (token, refreshToken, user)=>{\n        if (false) {}\n    },\n    // Get stored token with validation\n    getToken: ()=>{\n        if (true) return null;\n        const token = localStorage.getItem(TOKEN_KEY);\n        if (!token) return null;\n        // Check if token is expired\n        if (jwtUtils.isTokenExpired(token)) {\n            console.log(\"⚠️ Token is expired, clearing auth data\");\n            authService.clearAuthData();\n            return null;\n        }\n        return token;\n    },\n    // Get stored refresh token\n    getRefreshToken: ()=>{\n        if (true) return null;\n        return localStorage.getItem(REFRESH_TOKEN_KEY);\n    },\n    // Get stored user data with validation\n    getUser: ()=>{\n        if (true) return null;\n        try {\n            const userData = localStorage.getItem(USER_KEY);\n            if (!userData) return null;\n            const user = JSON.parse(userData);\n            // Validate user data structure\n            if (!user.id || !user.email || !user.role) {\n                console.warn(\"⚠️ Invalid user data structure, clearing\");\n                authService.clearAuthData();\n                return null;\n            }\n            return user;\n        } catch (error) {\n            console.error(\"❌ Failed to parse user data:\", error);\n            authService.clearAuthData();\n            return null;\n        }\n    },\n    // Get token expiry time\n    getTokenExpiry: ()=>{\n        if (true) return null;\n        const expiryStr = localStorage.getItem(TOKEN_EXPIRY_KEY);\n        if (!expiryStr) return null;\n        const expiry = parseInt(expiryStr);\n        return isNaN(expiry) ? null : expiry;\n    },\n    // Check if token is expired\n    isTokenExpired: ()=>{\n        const token = authService.getToken();\n        if (!token) return true;\n        return jwtUtils.isTokenExpired(token);\n    },\n    // Check if token should be refreshed\n    shouldRefreshToken: ()=>{\n        const expiry = authService.getTokenExpiry();\n        if (!expiry) return true;\n        const currentTime = Date.now();\n        const timeUntilExpiry = expiry - currentTime;\n        return timeUntilExpiry <= TOKEN_REFRESH_THRESHOLD;\n    },\n    // Clear all auth data and user-specific data\n    clearAuthData: ()=>{\n        if (false) {}\n    },\n    // Enhanced login with better error handling\n    login: async (credentials)=>{\n        try {\n            console.log(\"\\uD83D\\uDD10 Attempting login...\");\n            // Validate credentials\n            if (!credentials.email || !credentials.password) {\n                throw new AuthError(\"MISSING_CREDENTIALS\", \"Email and password are required\");\n            }\n            if (!credentials.email.includes(\"@\")) {\n                throw new AuthError(\"INVALID_EMAIL\", \"Please enter a valid email address\");\n            }\n            if (credentials.password.length < 6) {\n                throw new AuthError(\"WEAK_PASSWORD\", \"Password must be at least 6 characters long\");\n            }\n            const response = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}/auth/login`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(credentials)\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({\n                        error: \"Unknown error\"\n                    }));\n                // Handle specific error codes\n                switch(response.status){\n                    case 400:\n                        throw new AuthError(\"INVALID_CREDENTIALS\", errorData.error || \"Invalid credentials\");\n                    case 401:\n                        throw new AuthError(\"UNAUTHORIZED\", errorData.error || \"Invalid email or password\");\n                    case 403:\n                        throw new AuthError(\"ACCOUNT_SUSPENDED\", errorData.error || \"Account is suspended\");\n                    case 429:\n                        throw new AuthError(\"RATE_LIMITED\", errorData.error || \"Too many login attempts\");\n                    case 500:\n                        throw new AuthError(\"SERVER_ERROR\", \"Internal server error. Please try again later.\");\n                    default:\n                        throw new AuthError(\"LOGIN_FAILED\", errorData.error || \"Login failed\");\n                }\n            }\n            const data = await response.json();\n            // Validate response data\n            if (!data.token || !data.refreshToken || !data.user) {\n                throw new AuthError(\"INVALID_RESPONSE\", \"Invalid response from server\");\n            }\n            // Store auth data\n            authService.setAuthData(data.token, data.refreshToken, data.user);\n            console.log(\"✅ Login successful\");\n            return data;\n        } catch (error) {\n            console.error(\"❌ Login failed:\", error);\n            if (error instanceof AuthError) {\n                throw error;\n            }\n            // Handle network errors\n            if (error instanceof TypeError && error.message.includes(\"fetch\")) {\n                throw new AuthError(\"NETWORK_ERROR\", \"Network error. Please check your connection.\");\n            }\n            throw new AuthError(\"UNKNOWN_ERROR\", \"An unexpected error occurred\");\n        }\n    },\n    // Enhanced register with validation\n    register: async (userData)=>{\n        try {\n            console.log(\"\\uD83D\\uDCDD Attempting registration...\");\n            // Validate user data\n            if (!userData.email || !userData.password || !userData.full_name) {\n                throw new AuthError(\"MISSING_DATA\", \"Email, password, and full name are required\");\n            }\n            if (!userData.email.includes(\"@\")) {\n                throw new AuthError(\"INVALID_EMAIL\", \"Please enter a valid email address\");\n            }\n            if (userData.password.length < 6) {\n                throw new AuthError(\"WEAK_PASSWORD\", \"Password must be at least 6 characters long\");\n            }\n            if (userData.full_name.trim().length < 2) {\n                throw new AuthError(\"INVALID_NAME\", \"Full name must be at least 2 characters long\");\n            }\n            const response = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}/auth/register`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(userData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({\n                        error: \"Unknown error\"\n                    }));\n                switch(response.status){\n                    case 400:\n                        throw new AuthError(\"INVALID_DATA\", errorData.error || \"Invalid registration data\");\n                    case 409:\n                        throw new AuthError(\"EMAIL_EXISTS\", \"Email already exists\");\n                    case 500:\n                        throw new AuthError(\"SERVER_ERROR\", \"Internal server error. Please try again later.\");\n                    default:\n                        throw new AuthError(\"REGISTRATION_FAILED\", errorData.error || \"Registration failed\");\n                }\n            }\n            const data = await response.json();\n            // Validate and store auth data\n            if (!data.token || !data.refreshToken || !data.user) {\n                throw new AuthError(\"INVALID_RESPONSE\", \"Invalid response from server\");\n            }\n            authService.setAuthData(data.token, data.refreshToken, data.user);\n            console.log(\"✅ Registration successful\");\n            return data;\n        } catch (error) {\n            console.error(\"❌ Registration failed:\", error);\n            if (error instanceof AuthError) {\n                throw error;\n            }\n            throw new AuthError(\"UNKNOWN_ERROR\", \"An unexpected error occurred\");\n        }\n    },\n    // Enhanced logout\n    logout: async ()=>{\n        try {\n            console.log(\"\\uD83D\\uDEAA Logging out...\");\n            const token = authService.getToken();\n            if (token) {\n                // Call logout endpoint to invalidate refresh token\n                await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}/auth/logout`, {\n                    method: \"POST\",\n                    headers: {\n                        \"Authorization\": `Bearer ${token}`\n                    }\n                }).catch(()=>{\n                    // Ignore logout endpoint errors, still clear local data\n                    console.warn(\"⚠️ Logout endpoint failed, but clearing local data\");\n                });\n            }\n        } catch (error) {\n            console.warn(\"⚠️ Logout error:\", error);\n        } finally{\n            // Always clear local data\n            authService.clearAuthData();\n            console.log(\"✅ Logout completed\");\n        }\n    },\n    // Enhanced token refresh with retry logic\n    refreshToken: async ()=>{\n        // If there's already a refresh in progress, return the existing promise\n        if (refreshPromise) {\n            return refreshPromise;\n        }\n        refreshPromise = (async ()=>{\n            try {\n                console.log(\"\\uD83D\\uDD04 Refreshing token...\");\n                const refreshToken = authService.getRefreshToken();\n                if (!refreshToken) {\n                    throw new AuthError(\"NO_REFRESH_TOKEN\", \"No refresh token available\");\n                }\n                const response = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}/auth/refresh`, {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        refreshToken\n                    })\n                });\n                if (!response.ok) {\n                    const errorData = await response.json().catch(()=>({\n                            error: \"Unknown error\"\n                        }));\n                    switch(response.status){\n                        case 401:\n                            throw new AuthError(\"INVALID_REFRESH_TOKEN\", \"Refresh token is invalid or expired\");\n                        case 500:\n                            throw new AuthError(\"SERVER_ERROR\", \"Token refresh failed due to server error\");\n                        default:\n                            throw new AuthError(\"REFRESH_FAILED\", errorData.error || \"Token refresh failed\");\n                    }\n                }\n                const data = await response.json();\n                // Validate response\n                if (!data.token || !data.refreshToken) {\n                    throw new AuthError(\"INVALID_REFRESH_RESPONSE\", \"Invalid refresh response from server\");\n                }\n                // Update stored tokens\n                const user = authService.getUser();\n                if (user) {\n                    authService.setAuthData(data.token, data.refreshToken, user);\n                }\n                console.log(\"✅ Token refreshed successfully\");\n                return data;\n            } catch (error) {\n                console.error(\"❌ Token refresh failed:\", error);\n                // Clear auth data on refresh failure\n                authService.clearAuthData();\n                if (error instanceof AuthError) {\n                    throw error;\n                }\n                throw new AuthError(\"REFRESH_FAILED\", \"Token refresh failed\");\n            }\n        })();\n        return refreshPromise;\n    },\n    // Get valid token (refresh if needed)\n    getValidToken: async ()=>{\n        const token = authService.getToken();\n        if (!token) {\n            throw new AuthError(\"NO_TOKEN\", \"No authentication token\");\n        }\n        // If token is expired or will expire soon, refresh it\n        if (authService.shouldRefreshToken()) {\n            try {\n                const refreshResponse = await authService.refreshToken();\n                return refreshResponse.token;\n            } catch (error) {\n                // If refresh fails, clear auth data and throw error\n                authService.clearAuthData();\n                throw new AuthError(\"SESSION_EXPIRED\", \"Session expired. Please login again.\");\n            }\n        }\n        return token;\n    },\n    // Enhanced profile fetching\n    getProfile: async ()=>{\n        try {\n            const token = await authService.getValidToken();\n            const response = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}/auth/me`, {\n                headers: {\n                    \"Authorization\": `Bearer ${token}`\n                }\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({\n                        error: \"Unknown error\"\n                    }));\n                switch(response.status){\n                    case 401:\n                        throw new AuthError(\"UNAUTHORIZED\", \"Authentication required\");\n                    case 404:\n                        throw new AuthError(\"PROFILE_NOT_FOUND\", \"User profile not found\");\n                    default:\n                        throw new AuthError(\"PROFILE_FETCH_FAILED\", errorData.error || \"Failed to fetch profile\");\n                }\n            }\n            const user = await response.json();\n            // Validate user data\n            if (!user.id || !user.email || !user.role) {\n                throw new AuthError(\"INVALID_PROFILE\", \"Invalid profile data received\");\n            }\n            return user;\n        } catch (error) {\n            console.error(\"❌ Profile fetch failed:\", error);\n            if (error instanceof AuthError) {\n                throw error;\n            }\n            throw new AuthError(\"PROFILE_FETCH_FAILED\", \"Failed to fetch user profile\");\n        }\n    },\n    // Enhanced profile update\n    updateProfile: async (profileData)=>{\n        try {\n            const token = await authService.getValidToken();\n            const currentUser = authService.getUser();\n            if (!currentUser) {\n                throw new AuthError(\"NO_USER\", \"No user data available\");\n            }\n            console.log(\"\\uD83D\\uDD04 AuthService: Updating profile for user:\", currentUser.id);\n            console.log(\"\\uD83D\\uDD04 AuthService: Profile data:\", profileData);\n            console.log(\"\\uD83D\\uDD04 AuthService: API URL:\", `${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}/users/${currentUser.id}`);\n            const response = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}/users/${currentUser.id}`, {\n                method: \"PUT\",\n                headers: {\n                    \"Authorization\": `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(profileData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({\n                        error: \"Unknown error\"\n                    }));\n                switch(response.status){\n                    case 400:\n                        throw new AuthError(\"INVALID_DATA\", errorData.error || \"Invalid profile data\");\n                    case 401:\n                        throw new AuthError(\"UNAUTHORIZED\", \"Authentication required\");\n                    case 404:\n                        throw new AuthError(\"USER_NOT_FOUND\", \"User not found\");\n                    default:\n                        throw new AuthError(\"UPDATE_FAILED\", errorData.error || \"Profile update failed\");\n                }\n            }\n            const updatedUser = await response.json();\n            console.log(\"✅ AuthService: Profile update response:\", updatedUser);\n            // Update stored user data\n            const currentToken = authService.getToken();\n            const currentRefreshToken = authService.getRefreshToken();\n            if (currentToken && currentRefreshToken) {\n                authService.setAuthData(currentToken, currentRefreshToken, updatedUser);\n            }\n            console.log(\"✅ Profile updated successfully\");\n            return updatedUser;\n        } catch (error) {\n            console.error(\"❌ Profile update failed:\", error);\n            if (error instanceof AuthError) {\n                throw error;\n            }\n            throw new AuthError(\"UPDATE_FAILED\", \"Failed to update profile\");\n        }\n    },\n    // Check if user has admin privileges\n    isAdmin: ()=>{\n        const user = authService.getUser();\n        return user?.role === \"super_admin\";\n    },\n    // Check if user is authenticated\n    isAuthenticated: ()=>{\n        const token = authService.getToken();\n        const user = authService.getUser();\n        return !!(token && user && !authService.isTokenExpired());\n    }\n};\n// Enhanced authenticated request with automatic token refresh\nconst authenticatedRequest = async (endpoint, options = {})=>{\n    try {\n        const token = await authService.getValidToken();\n        const response = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}${endpoint}`, {\n            ...options,\n            headers: {\n                \"Authorization\": `Bearer ${token}`,\n                \"Content-Type\": \"application/json\",\n                ...options.headers\n            }\n        });\n        // Handle 401 errors with token refresh\n        if (response.status === 401) {\n            try {\n                await authService.refreshToken();\n                const newToken = await authService.getValidToken();\n                // Retry the request with new token\n                const retryResponse = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL}${endpoint}`, {\n                    ...options,\n                    headers: {\n                        \"Authorization\": `Bearer ${newToken}`,\n                        \"Content-Type\": \"application/json\",\n                        ...options.headers\n                    }\n                });\n                if (!retryResponse.ok) {\n                    throw new AuthError(\"REQUEST_FAILED\", `Request failed: ${retryResponse.status}`);\n                }\n                return retryResponse;\n            } catch (refreshError) {\n                // If refresh fails, clear auth data\n                authService.clearAuthData();\n                throw new AuthError(\"SESSION_EXPIRED\", \"Session expired. Please login again.\");\n            }\n        }\n        if (!response.ok) {\n            throw new AuthError(\"REQUEST_FAILED\", `Request failed: ${response.status}`);\n        }\n        return response;\n    } catch (error) {\n        console.error(\"❌ Authenticated request failed:\", error);\n        if (error instanceof AuthError) {\n            throw error;\n        }\n        throw new AuthError(\"REQUEST_FAILED\", \"Request failed\");\n    }\n};\n// Setup automatic token refresh (legacy function - use setupAutomaticRefresh from authInterceptor instead)\nconst setupAutomaticRefreshLegacy = ()=>{\n    if (true) return undefined;\n    const checkAndRefreshToken = async ()=>{\n        try {\n            if (authService.shouldRefreshToken() && authService.getToken()) {\n                console.log(\"\\uD83D\\uDD04 Auto-refreshing token...\");\n                await authService.refreshToken();\n            }\n        } catch (error) {\n            console.error(\"❌ Auto-refresh failed:\", error);\n        }\n    };\n    // Check every minute\n    const interval = setInterval(checkAndRefreshToken, 60 * 1000);\n    // Also check when the page becomes visible\n    const handleVisibilityChange = ()=>{\n        if (!document.hidden) {\n            checkAndRefreshToken();\n        }\n    };\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    // Return cleanup function\n    return ()=>{\n        clearInterval(interval);\n        document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n};\n// Check token status (legacy function - use checkTokenStatus from authInterceptor instead)\nconst checkTokenStatusLegacy = ()=>{\n    const token = authService.getToken();\n    const expiry = authService.getTokenExpiry();\n    if (!token) {\n        return {\n            isValid: false,\n            isExpired: true,\n            timeUntilExpiry: 0\n        };\n    }\n    if (!expiry) {\n        return {\n            isValid: true,\n            isExpired: false,\n            timeUntilExpiry: null\n        };\n    }\n    const currentTime = Date.now();\n    const timeUntilExpiry = expiry - currentTime;\n    const isExpired = timeUntilExpiry <= 0;\n    return {\n        isValid: !isExpired,\n        isExpired,\n        timeUntilExpiry: Math.max(0, timeUntilExpiry)\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WWUsUUFBUSxJQUFJO2dCQUM5REYsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE1BQU1kLFlBQVlFLFlBQVk7WUFDaEM7UUFDRixFQUFFLE9BQU9YLE9BQU87WUFDZHNCLFFBQVF0QixLQUFLLENBQUMsMEJBQTBCQTtRQUMxQztJQUNGO0lBRUEscUJBQXFCO0lBQ3JCLE1BQU1zRixXQUFXQyxZQUFZRixzQkFBc0IsS0FBSztJQUV4RCwyQ0FBMkM7SUFDM0MsTUFBTUcseUJBQXlCO1FBQzdCLElBQUksQ0FBQ0MsU0FBU0MsTUFBTSxFQUFFO1lBQ3BCTDtRQUNGO0lBQ0Y7SUFFQUksU0FBU0UsZ0JBQWdCLENBQUMsb0JBQW9CSDtJQUU5QywwQkFBMEI7SUFDMUIsT0FBTztRQUNMSSxjQUFjTjtRQUNkRyxTQUFTSSxtQkFBbUIsQ0FBQyxvQkFBb0JMO0lBQ25EO0FBQ0YsRUFBRTtBQUVGLDJGQUEyRjtBQUNwRixNQUFNTSx5QkFBeUI7SUFDcEMsTUFBTXBHLFFBQVFlLFlBQVllLFFBQVE7SUFDbEMsTUFBTVMsU0FBU3hCLFlBQVlELGNBQWM7SUFFekMsSUFBSSxDQUFDZCxPQUFPO1FBQ1YsT0FBTztZQUFFcUcsU0FBUztZQUFPQyxXQUFXO1lBQU0zRCxpQkFBaUI7UUFBRTtJQUMvRDtJQUVBLElBQUksQ0FBQ0osUUFBUTtRQUNYLE9BQU87WUFBRThELFNBQVM7WUFBTUMsV0FBVztZQUFPM0QsaUJBQWlCO1FBQUs7SUFDbEU7SUFFQSxNQUFNbkMsY0FBY0csS0FBS0MsR0FBRztJQUM1QixNQUFNK0Isa0JBQWtCSixTQUFTL0I7SUFDakMsTUFBTThGLFlBQVkzRCxtQkFBbUI7SUFFckMsT0FBTztRQUNMMEQsU0FBUyxDQUFDQztRQUNWQTtRQUNBM0QsaUJBQWlCbEMsS0FBSzhGLEdBQUcsQ0FBQyxHQUFHNUQ7SUFDL0I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFzdGVyc3RyZWFtLWxlYXJuaW5nLXBsYXRmb3JtLy4vc3JjL2xpYi9hdXRoLnRzPzY2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRW5oYW5jZWQgQXV0aGVudGljYXRpb24gU2VydmljZVxuLy8gSGFuZGxlcyBsb2dpbiwgcmVnaXN0cmF0aW9uLCBhbmQgdG9rZW4gbWFuYWdlbWVudCB3aXRoIGltcHJvdmVkIGVycm9yIGhhbmRsaW5nXG5cbmltcG9ydCB7IEFQSV9CQVNFX1VSTCB9IGZyb20gJy4vbXlzcWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhVc2VyIHtcbiAgaWQ6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgZnVsbF9uYW1lOiBzdHJpbmc7XG4gIHJvbGU6ICd1c2VyJyB8ICdjb250ZW50X21hbmFnZXInIHwgJ2NvbW11bml0eV9tYW5hZ2VyJyB8ICd1c2VyX3N1cHBvcnQnIHwgJ3N1cGVyX2FkbWluJztcbiAgcGVybWlzc2lvbnM6IHN0cmluZ1tdO1xuICBhdmF0YXJfdXJsPzogc3RyaW5nO1xuICBvbmJvYXJkaW5nX2NvbXBsZXRlZDogYm9vbGVhbjtcbiAgaW5kdXN0cnk/OiBzdHJpbmc7XG4gIGV4cGVyaWVuY2VfbGV2ZWw/OiBzdHJpbmc7XG4gIGJ1c2luZXNzX3N0YWdlPzogc3RyaW5nO1xuICBjb3VudHJ5Pzogc3RyaW5nO1xuICBzdGF0ZV9wcm92aW5jZT86IHN0cmluZztcbiAgY2l0eT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dpbkNyZWRlbnRpYWxzIHtcbiAgZW1haWw6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWdpc3RlckRhdGEge1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICBmdWxsX25hbWU6IHN0cmluZztcbiAgZWR1Y2F0aW9uX2xldmVsPzogc3RyaW5nO1xuICBqb2JfdGl0bGU/OiBzdHJpbmc7XG4gIHRvcGljc19vZl9pbnRlcmVzdD86IHN0cmluZ1tdO1xuICBpbmR1c3RyeT86IHN0cmluZztcbiAgZXhwZXJpZW5jZV9sZXZlbD86IHN0cmluZztcbiAgYnVzaW5lc3Nfc3RhZ2U/OiBzdHJpbmc7XG4gIGNvdW50cnk/OiBzdHJpbmc7XG4gIHN0YXRlX3Byb3ZpbmNlPzogc3RyaW5nO1xuICBjaXR5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhSZXNwb25zZSB7XG4gIHRva2VuOiBzdHJpbmc7XG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nO1xuICB1c2VyOiBBdXRoVXNlcjtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuUmVmcmVzaFJlc3BvbnNlIHtcbiAgdG9rZW46IHN0cmluZztcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuXG5cbi8vIFRva2VuIG1hbmFnZW1lbnRcbmNvbnN0IFRPS0VOX0tFWSA9ICdmb3J3YXJkX2FmcmljYV90b2tlbic7XG5jb25zdCBSRUZSRVNIX1RPS0VOX0tFWSA9ICdmb3J3YXJkX2FmcmljYV9yZWZyZXNoX3Rva2VuJztcbmNvbnN0IFVTRVJfS0VZID0gJ2ZvcndhcmRfYWZyaWNhX3VzZXInO1xuY29uc3QgVE9LRU5fRVhQSVJZX0tFWSA9ICdmb3J3YXJkX2FmcmljYV90b2tlbl9leHBpcnknO1xuXG4vLyBUb2tlbiByZWZyZXNoIGNvbmZpZ3VyYXRpb25cbmNvbnN0IFRPS0VOX1JFRlJFU0hfVEhSRVNIT0xEID0gNSAqIDYwICogMTAwMDsgLy8gNSBtaW51dGVzIGJlZm9yZSBleHBpcnlcbmxldCByZWZyZXNoUHJvbWlzZTogUHJvbWlzZTxUb2tlblJlZnJlc2hSZXNwb25zZT4gfCBudWxsID0gbnVsbDtcblxuLy8gRW5oYW5jZWQgZXJyb3IgaGFuZGxpbmdcbmV4cG9ydCBjbGFzcyBBdXRoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBjb2RlOiBzdHJpbmcsXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIHB1YmxpYyBkZXRhaWxzPzogYW55XG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdBdXRoRXJyb3InO1xuICB9XG59XG5cbi8vIEpXVCBUb2tlbiB1dGlsaXRpZXNcbmNvbnN0IGp3dFV0aWxzID0ge1xuICAvLyBQYXJzZSBKV1QgdG9rZW4gd2l0aG91dCB2ZXJpZmljYXRpb24gKGZvciBjbGllbnQtc2lkZSBleHBpcnkgY2hlY2spXG4gIHBhcnNlVG9rZW46ICh0b2tlbjogc3RyaW5nKTogYW55ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShhdG9iKHBheWxvYWQpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignSU5WQUxJRF9UT0tFTicsICdJbnZhbGlkIHRva2VuIGZvcm1hdCcpO1xuICAgIH1cbiAgfSxcblxuICAvLyBDaGVjayBpZiB0b2tlbiBpcyBleHBpcmVkXG4gIGlzVG9rZW5FeHBpcmVkOiAodG9rZW46IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gand0VXRpbHMucGFyc2VUb2tlbih0b2tlbik7XG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgcmV0dXJuIHBheWxvYWQuZXhwIDwgY3VycmVudFRpbWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB0cnVlOyAvLyBDb25zaWRlciBpbnZhbGlkIHRva2VucyBhcyBleHBpcmVkXG4gICAgfVxuICB9LFxuXG4gIC8vIEdldCB0b2tlbiBleHBpcnkgdGltZVxuICBnZXRUb2tlbkV4cGlyeTogKHRva2VuOiBzdHJpbmcpOiBudW1iZXIgfCBudWxsID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IGp3dFV0aWxzLnBhcnNlVG9rZW4odG9rZW4pO1xuICAgICAgcmV0dXJuIHBheWxvYWQuZXhwICogMTAwMDsgLy8gQ29udmVydCB0byBtaWxsaXNlY29uZHNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXV0aFNlcnZpY2UgPSB7XG4gIC8vIFN0b3JlIHRva2VuIGFuZCB1c2VyIGRhdGEgd2l0aCBlbmhhbmNlZCBlcnJvciBoYW5kbGluZ1xuICBzZXRBdXRoRGF0YTogKHRva2VuOiBzdHJpbmcsIHJlZnJlc2hUb2tlbjogc3RyaW5nLCB1c2VyOiBBdXRoVXNlcikgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVmFsaWRhdGUgdG9rZW4gZm9ybWF0IGJlZm9yZSBzdG9yaW5nXG4gICAgICAgIGlmICghdG9rZW4gfHwgIXJlZnJlc2hUb2tlbikge1xuICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ0lOVkFMSURfVE9LRU5TJywgJ0ludmFsaWQgdG9rZW4gZGF0YSBwcm92aWRlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFyc2UgYW5kIHZhbGlkYXRlIHRva2VuXG4gICAgICAgIGNvbnN0IHRva2VuUGF5bG9hZCA9IGp3dFV0aWxzLnBhcnNlVG9rZW4odG9rZW4pO1xuICAgICAgICAvLyBDaGVjayBmb3IgYm90aCAndXNlcklkJyBhbmQgJ2lkJyBmaWVsZHMgKGJhY2tlbmQgdXNlcyBkaWZmZXJlbnQgZmllbGQgbmFtZXMpXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IHRva2VuUGF5bG9hZC51c2VySWQgfHwgdG9rZW5QYXlsb2FkLmlkO1xuICAgICAgICBpZiAoIXVzZXJJZCB8fCAhdG9rZW5QYXlsb2FkLnJvbGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdJTlZBTElEX1RPS0VOX1BBWUxPQUQnLCAnVG9rZW4gcGF5bG9hZCBpcyBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVE9LRU5fS0VZLCB0b2tlbik7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFJFRlJFU0hfVE9LRU5fS0VZLCByZWZyZXNoVG9rZW4pO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVU0VSX0tFWSwgSlNPTi5zdHJpbmdpZnkodXNlcikpO1xuXG4gICAgICAgIC8vIFN0b3JlIHRva2VuIGV4cGlyeSB0aW1lXG4gICAgICAgIGNvbnN0IGV4cGlyeVRpbWUgPSBqd3RVdGlscy5nZXRUb2tlbkV4cGlyeSh0b2tlbik7XG4gICAgICAgIGlmIChleHBpcnlUaW1lKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVE9LRU5fRVhQSVJZX0tFWSwgZXhwaXJ5VGltZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aCBkYXRhIHN0b3JlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc3RvcmUgYXV0aCBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8vIEdldCBzdG9yZWQgdG9rZW4gd2l0aCB2YWxpZGF0aW9uXG4gIGdldFRva2VuOiAoKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU5fS0VZKTtcbiAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIENoZWNrIGlmIHRva2VuIGlzIGV4cGlyZWRcbiAgICBpZiAoand0VXRpbHMuaXNUb2tlbkV4cGlyZWQodG9rZW4pKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIFRva2VuIGlzIGV4cGlyZWQsIGNsZWFyaW5nIGF1dGggZGF0YScpO1xuICAgICAgYXV0aFNlcnZpY2UuY2xlYXJBdXRoRGF0YSgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VuO1xuICB9LFxuXG4gIC8vIEdldCBzdG9yZWQgcmVmcmVzaCB0b2tlblxuICBnZXRSZWZyZXNoVG9rZW46ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShSRUZSRVNIX1RPS0VOX0tFWSk7XG4gIH0sXG5cbiAgLy8gR2V0IHN0b3JlZCB1c2VyIGRhdGEgd2l0aCB2YWxpZGF0aW9uXG4gIGdldFVzZXI6ICgpOiBBdXRoVXNlciB8IG51bGwgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVU0VSX0tFWSk7XG4gICAgICBpZiAoIXVzZXJEYXRhKSByZXR1cm4gbnVsbDtcblxuICAgICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UodXNlckRhdGEpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSB1c2VyIGRhdGEgc3RydWN0dXJlXG4gICAgICBpZiAoIXVzZXIuaWQgfHwgIXVzZXIuZW1haWwgfHwgIXVzZXIucm9sZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBJbnZhbGlkIHVzZXIgZGF0YSBzdHJ1Y3R1cmUsIGNsZWFyaW5nJyk7XG4gICAgICAgIGF1dGhTZXJ2aWNlLmNsZWFyQXV0aERhdGEoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHBhcnNlIHVzZXIgZGF0YTonLCBlcnJvcik7XG4gICAgICBhdXRoU2VydmljZS5jbGVhckF1dGhEYXRhKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sXG5cbiAgLy8gR2V0IHRva2VuIGV4cGlyeSB0aW1lXG4gIGdldFRva2VuRXhwaXJ5OiAoKTogbnVtYmVyIHwgbnVsbCA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGV4cGlyeVN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFRPS0VOX0VYUElSWV9LRVkpO1xuICAgIGlmICghZXhwaXJ5U3RyKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGV4cGlyeSA9IHBhcnNlSW50KGV4cGlyeVN0cik7XG4gICAgcmV0dXJuIGlzTmFOKGV4cGlyeSkgPyBudWxsIDogZXhwaXJ5O1xuICB9LFxuXG4gIC8vIENoZWNrIGlmIHRva2VuIGlzIGV4cGlyZWRcbiAgaXNUb2tlbkV4cGlyZWQ6ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XG4gICAgaWYgKCF0b2tlbikgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGp3dFV0aWxzLmlzVG9rZW5FeHBpcmVkKHRva2VuKTtcbiAgfSxcblxuICAvLyBDaGVjayBpZiB0b2tlbiBzaG91bGQgYmUgcmVmcmVzaGVkXG4gIHNob3VsZFJlZnJlc2hUb2tlbjogKCk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGV4cGlyeSA9IGF1dGhTZXJ2aWNlLmdldFRva2VuRXhwaXJ5KCk7XG4gICAgaWYgKCFleHBpcnkpIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVVbnRpbEV4cGlyeSA9IGV4cGlyeSAtIGN1cnJlbnRUaW1lO1xuXG4gICAgcmV0dXJuIHRpbWVVbnRpbEV4cGlyeSA8PSBUT0tFTl9SRUZSRVNIX1RIUkVTSE9MRDtcbiAgfSxcblxuICAvLyBDbGVhciBhbGwgYXV0aCBkYXRhIGFuZCB1c2VyLXNwZWNpZmljIGRhdGFcbiAgY2xlYXJBdXRoRGF0YTogKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gQ2xlYXIgYXV0aCB0b2tlbnMgYW5kIHVzZXIgZGF0YVxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVE9LRU5fS0VZKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFJFRlJFU0hfVE9LRU5fS0VZKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFVTRVJfS0VZKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFRPS0VOX0VYUElSWV9LRVkpO1xuXG4gICAgICAvLyBDbGVhciBhbGwgdXNlci1zcGVjaWZpYyBsb2NhbFN0b3JhZ2UgaXRlbXNcbiAgICAgIGNvbnN0IGtleXNUb1JlbW92ZSA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgICAgaWYgKGtleSAmJiAoXG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ3Byb2ZpbGVfcHJvbXB0XycpIHx8XG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ3VzZXJfJykgfHxcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgndXNlckxldmVsJykgfHxcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgnYWNoaWV2ZW1lbnRzJykgfHxcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgnbGVhcm5pbmdTdHJlYWsnKSB8fFxuICAgICAgICAgIGtleS5zdGFydHNXaXRoKCdjZXJ0aWZpY2F0ZXMnKSB8fFxuICAgICAgICAgIGtleS5zdGFydHNXaXRoKCdub3RpZmljYXRpb25zJykgfHxcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgndXNlckJlaGF2aW9yXycpIHx8XG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ3ZpZGVvVHJhY2tpbmdfJykgfHxcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgnYXVkaXRfbG9ncycpXG4gICAgICAgICkpIHtcbiAgICAgICAgICBrZXlzVG9SZW1vdmUucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBhbGwgdXNlci1zcGVjaWZpYyBrZXlzXG4gICAgICBrZXlzVG9SZW1vdmUuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+nuSBDbGVhcmVkIHVzZXIgZGF0YTogJHtrZXl9YCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJ/Cfp7kgQWxsIGF1dGggYW5kIHVzZXIgZGF0YSBjbGVhcmVkJyk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEVuaGFuY2VkIGxvZ2luIHdpdGggYmV0dGVyIGVycm9yIGhhbmRsaW5nXG4gIGxvZ2luOiBhc3luYyAoY3JlZGVudGlhbHM6IExvZ2luQ3JlZGVudGlhbHMpOiBQcm9taXNlPEF1dGhSZXNwb25zZT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBBdHRlbXB0aW5nIGxvZ2luLi4uJyk7XG5cbiAgICAgIC8vIFZhbGlkYXRlIGNyZWRlbnRpYWxzXG4gICAgICBpZiAoIWNyZWRlbnRpYWxzLmVtYWlsIHx8ICFjcmVkZW50aWFscy5wYXNzd29yZCkge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdNSVNTSU5HX0NSRURFTlRJQUxTJywgJ0VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjcmVkZW50aWFscy5lbWFpbC5pbmNsdWRlcygnQCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ0lOVkFMSURfRU1BSUwnLCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcycpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3JlZGVudGlhbHMucGFzc3dvcmQubGVuZ3RoIDwgNikge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdXRUFLX1BBU1NXT1JEJywgJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzIGxvbmcnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2F1dGgvbG9naW5gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbHMpLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnVW5rbm93biBlcnJvcicgfSkpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWZpYyBlcnJvciBjb2Rlc1xuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgICAgIGNhc2UgNDAwOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignSU5WQUxJRF9DUkVERU5USUFMUycsIGVycm9yRGF0YS5lcnJvciB8fCAnSW52YWxpZCBjcmVkZW50aWFscycpO1xuICAgICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignVU5BVVRIT1JJWkVEJywgZXJyb3JEYXRhLmVycm9yIHx8ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyk7XG4gICAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdBQ0NPVU5UX1NVU1BFTkRFRCcsIGVycm9yRGF0YS5lcnJvciB8fCAnQWNjb3VudCBpcyBzdXNwZW5kZWQnKTtcbiAgICAgICAgICBjYXNlIDQyOTpcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ1JBVEVfTElNSVRFRCcsIGVycm9yRGF0YS5lcnJvciB8fCAnVG9vIG1hbnkgbG9naW4gYXR0ZW1wdHMnKTtcbiAgICAgICAgICBjYXNlIDUwMDpcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ1NFUlZFUl9FUlJPUicsICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ0xPR0lOX0ZBSUxFRCcsIGVycm9yRGF0YS5lcnJvciB8fCAnTG9naW4gZmFpbGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YTogQXV0aFJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAoIWRhdGEudG9rZW4gfHwgIWRhdGEucmVmcmVzaFRva2VuIHx8ICFkYXRhLnVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignSU5WQUxJRF9SRVNQT05TRScsICdJbnZhbGlkIHJlc3BvbnNlIGZyb20gc2VydmVyJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0b3JlIGF1dGggZGF0YVxuICAgICAgYXV0aFNlcnZpY2Uuc2V0QXV0aERhdGEoZGF0YS50b2tlbiwgZGF0YS5yZWZyZXNoVG9rZW4sIGRhdGEudXNlcik7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTG9naW4gc3VjY2Vzc2Z1bCcpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBMb2dpbiBmYWlsZWQ6JywgZXJyb3IpO1xuXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBuZXR3b3JrIGVycm9yc1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2ZldGNoJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignTkVUV09SS19FUlJPUicsICdOZXR3b3JrIGVycm9yLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uLicpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdVTktOT1dOX0VSUk9SJywgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gRW5oYW5jZWQgcmVnaXN0ZXIgd2l0aCB2YWxpZGF0aW9uXG4gIHJlZ2lzdGVyOiBhc3luYyAodXNlckRhdGE6IFJlZ2lzdGVyRGF0YSk6IFByb21pc2U8QXV0aFJlc3BvbnNlPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OdIEF0dGVtcHRpbmcgcmVnaXN0cmF0aW9uLi4uJyk7XG5cbiAgICAgIC8vIFZhbGlkYXRlIHVzZXIgZGF0YVxuICAgICAgaWYgKCF1c2VyRGF0YS5lbWFpbCB8fCAhdXNlckRhdGEucGFzc3dvcmQgfHwgIXVzZXJEYXRhLmZ1bGxfbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdNSVNTSU5HX0RBVEEnLCAnRW1haWwsIHBhc3N3b3JkLCBhbmQgZnVsbCBuYW1lIGFyZSByZXF1aXJlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXVzZXJEYXRhLmVtYWlsLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignSU5WQUxJRF9FTUFJTCcsICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh1c2VyRGF0YS5wYXNzd29yZC5sZW5ndGggPCA2KSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ1dFQUtfUEFTU1dPUkQnLCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMgbG9uZycpO1xuICAgICAgfVxuXG4gICAgICBpZiAodXNlckRhdGEuZnVsbF9uYW1lLnRyaW0oKS5sZW5ndGggPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ0lOVkFMSURfTkFNRScsICdGdWxsIG5hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMgbG9uZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXV0aC9yZWdpc3RlcmAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZXJyb3I6ICdVbmtub3duIGVycm9yJyB9KSk7XG5cbiAgICAgICAgc3dpdGNoIChyZXNwb25zZS5zdGF0dXMpIHtcbiAgICAgICAgICBjYXNlIDQwMDpcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ0lOVkFMSURfREFUQScsIGVycm9yRGF0YS5lcnJvciB8fCAnSW52YWxpZCByZWdpc3RyYXRpb24gZGF0YScpO1xuICAgICAgICAgIGNhc2UgNDA5OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignRU1BSUxfRVhJU1RTJywgJ0VtYWlsIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgICAgICAgY2FzZSA1MDA6XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdTRVJWRVJfRVJST1InLCAnSW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdSRUdJU1RSQVRJT05fRkFJTEVEJywgZXJyb3JEYXRhLmVycm9yIHx8ICdSZWdpc3RyYXRpb24gZmFpbGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YTogQXV0aFJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSBhbmQgc3RvcmUgYXV0aCBkYXRhXG4gICAgICBpZiAoIWRhdGEudG9rZW4gfHwgIWRhdGEucmVmcmVzaFRva2VuIHx8ICFkYXRhLnVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignSU5WQUxJRF9SRVNQT05TRScsICdJbnZhbGlkIHJlc3BvbnNlIGZyb20gc2VydmVyJyk7XG4gICAgICB9XG5cbiAgICAgIGF1dGhTZXJ2aWNlLnNldEF1dGhEYXRhKGRhdGEudG9rZW4sIGRhdGEucmVmcmVzaFRva2VuLCBkYXRhLnVzZXIpO1xuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsJyk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFJlZ2lzdHJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ1VOS05PV05fRVJST1InLCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcpO1xuICAgIH1cbiAgfSxcblxuICAvLyBFbmhhbmNlZCBsb2dvdXRcbiAgbG9nb3V0OiBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qqIExvZ2dpbmcgb3V0Li4uJyk7XG5cbiAgICAgIGNvbnN0IHRva2VuID0gYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcblxuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIC8vIENhbGwgbG9nb3V0IGVuZHBvaW50IHRvIGludmFsaWRhdGUgcmVmcmVzaCB0b2tlblxuICAgICAgICBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2F1dGgvbG9nb3V0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIC8vIElnbm9yZSBsb2dvdXQgZW5kcG9pbnQgZXJyb3JzLCBzdGlsbCBjbGVhciBsb2NhbCBkYXRhXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTG9nb3V0IGVuZHBvaW50IGZhaWxlZCwgYnV0IGNsZWFyaW5nIGxvY2FsIGRhdGEnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIExvZ291dCBlcnJvcjonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIEFsd2F5cyBjbGVhciBsb2NhbCBkYXRhXG4gICAgICBhdXRoU2VydmljZS5jbGVhckF1dGhEYXRhKCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIExvZ291dCBjb21wbGV0ZWQnKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gRW5oYW5jZWQgdG9rZW4gcmVmcmVzaCB3aXRoIHJldHJ5IGxvZ2ljXG4gIHJlZnJlc2hUb2tlbjogYXN5bmMgKCk6IFByb21pc2U8VG9rZW5SZWZyZXNoUmVzcG9uc2U+ID0+IHtcbiAgICAvLyBJZiB0aGVyZSdzIGFscmVhZHkgYSByZWZyZXNoIGluIHByb2dyZXNzLCByZXR1cm4gdGhlIGV4aXN0aW5nIHByb21pc2VcbiAgICBpZiAocmVmcmVzaFByb21pc2UpIHtcbiAgICAgIHJldHVybiByZWZyZXNoUHJvbWlzZTtcbiAgICB9XG5cbiAgICByZWZyZXNoUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBSZWZyZXNoaW5nIHRva2VuLi4uJyk7XG5cbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gYXV0aFNlcnZpY2UuZ2V0UmVmcmVzaFRva2VuKCk7XG4gICAgICAgIGlmICghcmVmcmVzaFRva2VuKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignTk9fUkVGUkVTSF9UT0tFTicsICdObyByZWZyZXNoIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2F1dGgvcmVmcmVzaGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByZWZyZXNoVG9rZW4gfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZXJyb3I6ICdVbmtub3duIGVycm9yJyB9KSk7XG5cbiAgICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSA0MDE6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ0lOVkFMSURfUkVGUkVTSF9UT0tFTicsICdSZWZyZXNoIHRva2VuIGlzIGludmFsaWQgb3IgZXhwaXJlZCcpO1xuICAgICAgICAgICAgY2FzZSA1MDA6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ1NFUlZFUl9FUlJPUicsICdUb2tlbiByZWZyZXNoIGZhaWxlZCBkdWUgdG8gc2VydmVyIGVycm9yJyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdSRUZSRVNIX0ZBSUxFRCcsIGVycm9yRGF0YS5lcnJvciB8fCAnVG9rZW4gcmVmcmVzaCBmYWlsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhOiBUb2tlblJlZnJlc2hSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSByZXNwb25zZVxuICAgICAgICBpZiAoIWRhdGEudG9rZW4gfHwgIWRhdGEucmVmcmVzaFRva2VuKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignSU5WQUxJRF9SRUZSRVNIX1JFU1BPTlNFJywgJ0ludmFsaWQgcmVmcmVzaCByZXNwb25zZSBmcm9tIHNlcnZlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHN0b3JlZCB0b2tlbnNcbiAgICAgICAgY29uc3QgdXNlciA9IGF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICBhdXRoU2VydmljZS5zZXRBdXRoRGF0YShkYXRhLnRva2VuLCBkYXRhLnJlZnJlc2hUb2tlbiwgdXNlcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFRva2VuIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgVG9rZW4gcmVmcmVzaCBmYWlsZWQ6JywgZXJyb3IpO1xuXG4gICAgICAgIC8vIENsZWFyIGF1dGggZGF0YSBvbiByZWZyZXNoIGZhaWx1cmVcbiAgICAgICAgYXV0aFNlcnZpY2UuY2xlYXJBdXRoRGF0YSgpO1xuXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignUkVGUkVTSF9GQUlMRUQnLCAnVG9rZW4gcmVmcmVzaCBmYWlsZWQnKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIHJlZnJlc2hQcm9taXNlO1xuICB9LFxuXG4gIC8vIEdldCB2YWxpZCB0b2tlbiAocmVmcmVzaCBpZiBuZWVkZWQpXG4gIGdldFZhbGlkVG9rZW46IGFzeW5jICgpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IHRva2VuID0gYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcblxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ05PX1RPS0VOJywgJ05vIGF1dGhlbnRpY2F0aW9uIHRva2VuJyk7XG4gICAgfVxuXG4gICAgLy8gSWYgdG9rZW4gaXMgZXhwaXJlZCBvciB3aWxsIGV4cGlyZSBzb29uLCByZWZyZXNoIGl0XG4gICAgaWYgKGF1dGhTZXJ2aWNlLnNob3VsZFJlZnJlc2hUb2tlbigpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZWZyZXNoUmVzcG9uc2UgPSBhd2FpdCBhdXRoU2VydmljZS5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHJlZnJlc2hSZXNwb25zZS50b2tlbjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHJlZnJlc2ggZmFpbHMsIGNsZWFyIGF1dGggZGF0YSBhbmQgdGhyb3cgZXJyb3JcbiAgICAgICAgYXV0aFNlcnZpY2UuY2xlYXJBdXRoRGF0YSgpO1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdTRVNTSU9OX0VYUElSRUQnLCAnU2Vzc2lvbiBleHBpcmVkLiBQbGVhc2UgbG9naW4gYWdhaW4uJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VuO1xuICB9LFxuXG4gIC8vIEVuaGFuY2VkIHByb2ZpbGUgZmV0Y2hpbmdcbiAgZ2V0UHJvZmlsZTogYXN5bmMgKCk6IFByb21pc2U8QXV0aFVzZXI+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBhdXRoU2VydmljZS5nZXRWYWxpZFRva2VuKCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hdXRoL21lYCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ1Vua25vd24gZXJyb3InIH0pKTtcblxuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignVU5BVVRIT1JJWkVEJywgJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyk7XG4gICAgICAgICAgY2FzZSA0MDQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdQUk9GSUxFX05PVF9GT1VORCcsICdVc2VyIHByb2ZpbGUgbm90IGZvdW5kJyk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ1BST0ZJTEVfRkVUQ0hfRkFJTEVEJywgZXJyb3JEYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gZmV0Y2ggcHJvZmlsZScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXI6IEF1dGhVc2VyID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSB1c2VyIGRhdGFcbiAgICAgIGlmICghdXNlci5pZCB8fCAhdXNlci5lbWFpbCB8fCAhdXNlci5yb2xlKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ0lOVkFMSURfUFJPRklMRScsICdJbnZhbGlkIHByb2ZpbGUgZGF0YSByZWNlaXZlZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXNlcjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFByb2ZpbGUgZmV0Y2ggZmFpbGVkOicsIGVycm9yKTtcblxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdQUk9GSUxFX0ZFVENIX0ZBSUxFRCcsICdGYWlsZWQgdG8gZmV0Y2ggdXNlciBwcm9maWxlJyk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEVuaGFuY2VkIHByb2ZpbGUgdXBkYXRlXG4gIHVwZGF0ZVByb2ZpbGU6IGFzeW5jIChwcm9maWxlRGF0YTogUGFydGlhbDxBdXRoVXNlcj4pOiBQcm9taXNlPEF1dGhVc2VyPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgYXV0aFNlcnZpY2UuZ2V0VmFsaWRUb2tlbigpO1xuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XG5cbiAgICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignTk9fVVNFUicsICdObyB1c2VyIGRhdGEgYXZhaWxhYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEF1dGhTZXJ2aWNlOiBVcGRhdGluZyBwcm9maWxlIGZvciB1c2VyOicsIGN1cnJlbnRVc2VyLmlkKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEF1dGhTZXJ2aWNlOiBQcm9maWxlIGRhdGE6JywgcHJvZmlsZURhdGEpO1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgQXV0aFNlcnZpY2U6IEFQSSBVUkw6JywgYCR7QVBJX0JBU0VfVVJMfS91c2Vycy8ke2N1cnJlbnRVc2VyLmlkfWApO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vdXNlcnMvJHtjdXJyZW50VXNlci5pZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHByb2ZpbGVEYXRhKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ1Vua25vd24gZXJyb3InIH0pKTtcblxuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgICAgIGNhc2UgNDAwOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignSU5WQUxJRF9EQVRBJywgZXJyb3JEYXRhLmVycm9yIHx8ICdJbnZhbGlkIHByb2ZpbGUgZGF0YScpO1xuICAgICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcignVU5BVVRIT1JJWkVEJywgJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyk7XG4gICAgICAgICAgY2FzZSA0MDQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdVU0VSX05PVF9GT1VORCcsICdVc2VyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdVUERBVEVfRkFJTEVEJywgZXJyb3JEYXRhLmVycm9yIHx8ICdQcm9maWxlIHVwZGF0ZSBmYWlsZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB1cGRhdGVkVXNlcjogQXV0aFVzZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGhTZXJ2aWNlOiBQcm9maWxlIHVwZGF0ZSByZXNwb25zZTonLCB1cGRhdGVkVXNlcik7XG5cbiAgICAgIC8vIFVwZGF0ZSBzdG9yZWQgdXNlciBkYXRhXG4gICAgICBjb25zdCBjdXJyZW50VG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xuICAgICAgY29uc3QgY3VycmVudFJlZnJlc2hUb2tlbiA9IGF1dGhTZXJ2aWNlLmdldFJlZnJlc2hUb2tlbigpO1xuXG4gICAgICBpZiAoY3VycmVudFRva2VuICYmIGN1cnJlbnRSZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgYXV0aFNlcnZpY2Uuc2V0QXV0aERhdGEoY3VycmVudFRva2VuLCBjdXJyZW50UmVmcmVzaFRva2VuLCB1cGRhdGVkVXNlcik7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUHJvZmlsZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgcmV0dXJuIHVwZGF0ZWRVc2VyO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgUHJvZmlsZSB1cGRhdGUgZmFpbGVkOicsIGVycm9yKTtcblxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdVUERBVEVfRkFJTEVEJywgJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZScpO1xuICAgIH1cbiAgfSxcblxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBhZG1pbiBwcml2aWxlZ2VzXG4gIGlzQWRtaW46ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuICAgIHJldHVybiB1c2VyPy5yb2xlID09PSAnc3VwZXJfYWRtaW4nO1xuICB9LFxuXG4gIC8vIENoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICBpc0F1dGhlbnRpY2F0ZWQ6ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XG4gICAgY29uc3QgdXNlciA9IGF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICByZXR1cm4gISEodG9rZW4gJiYgdXNlciAmJiAhYXV0aFNlcnZpY2UuaXNUb2tlbkV4cGlyZWQoKSk7XG4gIH0sXG59O1xuXG4vLyBFbmhhbmNlZCBhdXRoZW50aWNhdGVkIHJlcXVlc3Qgd2l0aCBhdXRvbWF0aWMgdG9rZW4gcmVmcmVzaFxuZXhwb3J0IGNvbnN0IGF1dGhlbnRpY2F0ZWRSZXF1ZXN0ID0gYXN5bmMgKGVuZHBvaW50OiBzdHJpbmcsIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGF1dGhTZXJ2aWNlLmdldFZhbGlkVG9rZW4oKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSA0MDEgZXJyb3JzIHdpdGggdG9rZW4gcmVmcmVzaFxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXV0aFNlcnZpY2UucmVmcmVzaFRva2VuKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rva2VuID0gYXdhaXQgYXV0aFNlcnZpY2UuZ2V0VmFsaWRUb2tlbigpO1xuXG4gICAgICAgIC8vIFJldHJ5IHRoZSByZXF1ZXN0IHdpdGggbmV3IHRva2VuXG4gICAgICAgIGNvbnN0IHJldHJ5UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9JHtlbmRwb2ludH1gLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtuZXdUb2tlbn1gLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJldHJ5UmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdSRVFVRVNUX0ZBSUxFRCcsIGBSZXF1ZXN0IGZhaWxlZDogJHtyZXRyeVJlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXRyeVJlc3BvbnNlO1xuICAgICAgfSBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICAgIC8vIElmIHJlZnJlc2ggZmFpbHMsIGNsZWFyIGF1dGggZGF0YVxuICAgICAgICBhdXRoU2VydmljZS5jbGVhckF1dGhEYXRhKCk7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoJ1NFU1NJT05fRVhQSVJFRCcsICdTZXNzaW9uIGV4cGlyZWQuIFBsZWFzZSBsb2dpbiBhZ2Fpbi4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKCdSRVFVRVNUX0ZBSUxFRCcsIGBSZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoZW50aWNhdGVkIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcblxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEF1dGhFcnJvcignUkVRVUVTVF9GQUlMRUQnLCAnUmVxdWVzdCBmYWlsZWQnKTtcbiAgfVxufTtcblxuLy8gU2V0dXAgYXV0b21hdGljIHRva2VuIHJlZnJlc2ggKGxlZ2FjeSBmdW5jdGlvbiAtIHVzZSBzZXR1cEF1dG9tYXRpY1JlZnJlc2ggZnJvbSBhdXRoSW50ZXJjZXB0b3IgaW5zdGVhZClcbmV4cG9ydCBjb25zdCBzZXR1cEF1dG9tYXRpY1JlZnJlc2hMZWdhY3kgPSAoKTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIGNvbnN0IGNoZWNrQW5kUmVmcmVzaFRva2VuID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoYXV0aFNlcnZpY2Uuc2hvdWxkUmVmcmVzaFRva2VuKCkgJiYgYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBBdXRvLXJlZnJlc2hpbmcgdG9rZW4uLi4nKTtcbiAgICAgICAgYXdhaXQgYXV0aFNlcnZpY2UucmVmcmVzaFRva2VuKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRvLXJlZnJlc2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgZXZlcnkgbWludXRlXG4gIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoY2hlY2tBbmRSZWZyZXNoVG9rZW4sIDYwICogMTAwMCk7XG5cbiAgLy8gQWxzbyBjaGVjayB3aGVuIHRoZSBwYWdlIGJlY29tZXMgdmlzaWJsZVxuICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICBjaGVja0FuZFJlZnJlc2hUb2tlbigpO1xuICAgIH1cbiAgfTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG5cbiAgLy8gUmV0dXJuIGNsZWFudXAgZnVuY3Rpb25cbiAgcmV0dXJuICgpID0+IHtcbiAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH07XG59O1xuXG4vLyBDaGVjayB0b2tlbiBzdGF0dXMgKGxlZ2FjeSBmdW5jdGlvbiAtIHVzZSBjaGVja1Rva2VuU3RhdHVzIGZyb20gYXV0aEludGVyY2VwdG9yIGluc3RlYWQpXG5leHBvcnQgY29uc3QgY2hlY2tUb2tlblN0YXR1c0xlZ2FjeSA9ICgpID0+IHtcbiAgY29uc3QgdG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xuICBjb25zdCBleHBpcnkgPSBhdXRoU2VydmljZS5nZXRUb2tlbkV4cGlyeSgpO1xuXG4gIGlmICghdG9rZW4pIHtcbiAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgaXNFeHBpcmVkOiB0cnVlLCB0aW1lVW50aWxFeHBpcnk6IDAgfTtcbiAgfVxuXG4gIGlmICghZXhwaXJ5KSB7XG4gICAgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgaXNFeHBpcmVkOiBmYWxzZSwgdGltZVVudGlsRXhwaXJ5OiBudWxsIH07XG4gIH1cblxuICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gIGNvbnN0IHRpbWVVbnRpbEV4cGlyeSA9IGV4cGlyeSAtIGN1cnJlbnRUaW1lO1xuICBjb25zdCBpc0V4cGlyZWQgPSB0aW1lVW50aWxFeHBpcnkgPD0gMDtcblxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6ICFpc0V4cGlyZWQsXG4gICAgaXNFeHBpcmVkLFxuICAgIHRpbWVVbnRpbEV4cGlyeTogTWF0aC5tYXgoMCwgdGltZVVudGlsRXhwaXJ5KSxcbiAgfTtcbn07Il0sIm5hbWVzIjpbIkFQSV9CQVNFX1VSTCIsIlRPS0VOX0tFWSIsIlJFRlJFU0hfVE9LRU5fS0VZIiwiVVNFUl9LRVkiLCJUT0tFTl9FWFBJUllfS0VZIiwiVE9LRU5fUkVGUkVTSF9USFJFU0hPTEQiLCJyZWZyZXNoUHJvbWlzZSIsIkF1dGhFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJjb2RlIiwibWVzc2FnZSIsImRldGFpbHMiLCJuYW1lIiwiand0VXRpbHMiLCJwYXJzZVRva2VuIiwidG9rZW4iLCJwYXlsb2FkIiwic3BsaXQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwiZXJyb3IiLCJpc1Rva2VuRXhwaXJlZCIsImN1cnJlbnRUaW1lIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImV4cCIsImdldFRva2VuRXhwaXJ5IiwiYXV0aFNlcnZpY2UiLCJzZXRBdXRoRGF0YSIsInJlZnJlc2hUb2tlbiIsInVzZXIiLCJ0b2tlblBheWxvYWQiLCJ1c2VySWQiLCJpZCIsInJvbGUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZXhwaXJ5VGltZSIsInRvU3RyaW5nIiwiY29uc29sZSIsImxvZyIsImdldFRva2VuIiwiZ2V0SXRlbSIsImNsZWFyQXV0aERhdGEiLCJnZXRSZWZyZXNoVG9rZW4iLCJnZXRVc2VyIiwidXNlckRhdGEiLCJlbWFpbCIsIndhcm4iLCJleHBpcnlTdHIiLCJleHBpcnkiLCJwYXJzZUludCIsImlzTmFOIiwic2hvdWxkUmVmcmVzaFRva2VuIiwidGltZVVudGlsRXhwaXJ5IiwicmVtb3ZlSXRlbSIsImtleXNUb1JlbW92ZSIsImkiLCJsZW5ndGgiLCJrZXkiLCJzdGFydHNXaXRoIiwicHVzaCIsImZvckVhY2giLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwicGFzc3dvcmQiLCJpbmNsdWRlcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNhdGNoIiwic3RhdHVzIiwiZGF0YSIsIlR5cGVFcnJvciIsInJlZ2lzdGVyIiwiZnVsbF9uYW1lIiwidHJpbSIsImxvZ291dCIsImdldFZhbGlkVG9rZW4iLCJyZWZyZXNoUmVzcG9uc2UiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiY3VycmVudFVzZXIiLCJ1cGRhdGVkVXNlciIsImN1cnJlbnRUb2tlbiIsImN1cnJlbnRSZWZyZXNoVG9rZW4iLCJpc0FkbWluIiwiaXNBdXRoZW50aWNhdGVkIiwiYXV0aGVudGljYXRlZFJlcXVlc3QiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJuZXdUb2tlbiIsInJldHJ5UmVzcG9uc2UiLCJyZWZyZXNoRXJyb3IiLCJzZXR1cEF1dG9tYXRpY1JlZnJlc2hMZWdhY3kiLCJ1bmRlZmluZWQiLCJjaGVja0FuZFJlZnJlc2hUb2tlbiIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjaGVja1Rva2VuU3RhdHVzTGVnYWN5IiwiaXNWYWxpZCIsImlzRXhwaXJlZCIsIm1heCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/auth.ts\n");

/***/ }),

/***/ "./src/lib/authInterceptor.ts":
/*!************************************!*\
  !*** ./src/lib/authInterceptor.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiClient: () => (/* binding */ apiClient),\n/* harmony export */   authInterceptor: () => (/* binding */ authInterceptor),\n/* harmony export */   authenticatedRequest: () => (/* binding */ authenticatedRequest),\n/* harmony export */   checkTokenStatus: () => (/* binding */ checkTokenStatus),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   download: () => (/* binding */ download),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   setupAutomaticRefresh: () => (/* binding */ setupAutomaticRefresh),\n/* harmony export */   upload: () => (/* binding */ upload)\n/* harmony export */ });\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth */ \"./src/lib/auth.ts\");\n/* harmony import */ var _mysql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mysql */ \"./src/lib/mysql.ts\");\n// Auth Interceptor for automatic token refresh\n// Handles token refresh and request retry logic\n\n\nclass AuthInterceptor {\n    processQueue(error, token = null) {\n        this.failedQueue.forEach(({ resolve, reject })=>{\n            if (error) {\n                reject(error);\n            } else {\n                resolve(token);\n            }\n        });\n        this.failedQueue = [];\n    }\n    // Enhanced fetch with automatic token refresh\n    async fetch(endpoint, config = {}) {\n        const { skipAuth = false, retryCount = 0, ...fetchConfig } = config;\n        const maxRetries = 2;\n        try {\n            // Get valid token if authentication is required\n            let token = null;\n            if (!skipAuth) {\n                try {\n                    token = await _auth__WEBPACK_IMPORTED_MODULE_0__.authService.getValidToken();\n                } catch (error) {\n                    // If token refresh fails, redirect to login\n                    if (retryCount === 0) {\n                        _auth__WEBPACK_IMPORTED_MODULE_0__.authService.clearAuthData();\n                        // Use router for better navigation (if available)\n                        if (false) {}\n                        throw new Error(\"Session expired. Please login again.\");\n                    }\n                    throw error;\n                }\n            }\n            // Prepare headers\n            const headers = {\n                \"Content-Type\": \"application/json\",\n                ...fetchConfig.headers\n            };\n            if (token && !skipAuth) {\n                headers[\"Authorization\"] = `Bearer ${token}`;\n            }\n            // Make the request\n            const response = await fetch(`${_mysql__WEBPACK_IMPORTED_MODULE_1__.API_BASE_URL}${endpoint}`, {\n                ...fetchConfig,\n                headers\n            });\n            // Handle 401 Unauthorized responses\n            if (response.status === 401 && !skipAuth && retryCount < maxRetries) {\n                if (this.isRefreshing) {\n                    // If refresh is already in progress, queue this request\n                    return new Promise((resolve, reject)=>{\n                        this.failedQueue.push({\n                            resolve,\n                            reject\n                        });\n                    }).then(()=>{\n                        // Retry the request with new token\n                        return this.fetch(endpoint, {\n                            ...config,\n                            retryCount: retryCount + 1\n                        });\n                    });\n                }\n                this.isRefreshing = true;\n                try {\n                    // Attempt to refresh token\n                    await _auth__WEBPACK_IMPORTED_MODULE_0__.authService.refreshToken();\n                    this.processQueue(null, await _auth__WEBPACK_IMPORTED_MODULE_0__.authService.getValidToken());\n                    // Retry the original request\n                    return this.fetch(endpoint, {\n                        ...config,\n                        retryCount: retryCount + 1\n                    });\n                } catch (refreshError) {\n                    this.processQueue(refreshError, null);\n                    // Clear auth data and redirect to login\n                    _auth__WEBPACK_IMPORTED_MODULE_0__.authService.clearAuthData();\n                    // Use router for better navigation (if available)\n                    if (false) {}\n                    throw new Error(\"Session expired. Please login again.\");\n                } finally{\n                    this.isRefreshing = false;\n                }\n            }\n            // Handle other error responses\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({\n                        error: \"Request failed\"\n                    }));\n                throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);\n            }\n            // Parse response\n            const data = await response.json();\n            return {\n                data\n            };\n        } catch (error) {\n            console.error(\"API request failed:\", error);\n            // If this is a retry and it failed, don't retry again\n            if (retryCount >= maxRetries) {\n                throw error;\n            }\n            // For network errors, retry once\n            if (error instanceof TypeError && retryCount < maxRetries) {\n                console.log(`Retrying request (${retryCount + 1}/${maxRetries})...`);\n                await new Promise((resolve)=>setTimeout(resolve, 1000 * (retryCount + 1))); // Exponential backoff\n                return this.fetch(endpoint, {\n                    ...config,\n                    retryCount: retryCount + 1\n                });\n            }\n            throw error;\n        }\n    }\n    // GET request\n    async get(endpoint, config = {}) {\n        return this.fetch(endpoint, {\n            ...config,\n            method: \"GET\"\n        });\n    }\n    // POST request\n    async post(endpoint, data, config = {}) {\n        return this.fetch(endpoint, {\n            ...config,\n            method: \"POST\",\n            body: data ? JSON.stringify(data) : undefined\n        });\n    }\n    // PUT request\n    async put(endpoint, data, config = {}) {\n        return this.fetch(endpoint, {\n            ...config,\n            method: \"PUT\",\n            body: data ? JSON.stringify(data) : undefined\n        });\n    }\n    // DELETE request\n    async delete(endpoint, config = {}) {\n        return this.fetch(endpoint, {\n            ...config,\n            method: \"DELETE\"\n        });\n    }\n    // PATCH request\n    async patch(endpoint, data, config = {}) {\n        return this.fetch(endpoint, {\n            ...config,\n            method: \"PATCH\",\n            body: data ? JSON.stringify(data) : undefined\n        });\n    }\n    // Upload file with progress tracking\n    async upload(endpoint, file, onProgress, config = {}) {\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        return this.fetch(endpoint, {\n            ...config,\n            method: \"POST\",\n            body: formData,\n            headers: {\n                // Don't set Content-Type for FormData, let browser set it with boundary\n                ...config.headers\n            }\n        });\n    }\n    // Download file\n    async download(endpoint, filename, config = {}) {\n        const response = await this.fetch(endpoint, {\n            ...config,\n            method: \"GET\",\n            headers: {\n                ...config.headers,\n                \"Accept\": \"application/octet-stream\"\n            }\n        });\n        if (response.data) {\n            const blob = new Blob([\n                response.data\n            ]);\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement(\"a\");\n            a.href = url;\n            a.download = filename || \"download\";\n            document.body.appendChild(a);\n            a.click();\n            window.URL.revokeObjectURL(url);\n            document.body.removeChild(a);\n        }\n    }\n    constructor(){\n        this.isRefreshing = false;\n        this.failedQueue = [];\n    }\n}\n// Create singleton instance\nconst apiClient = new AuthInterceptor();\nconst authInterceptor = apiClient; // Alias for backward compatibility\n// Export individual methods for convenience\nconst { get, post, put, delete: del, patch, upload, download } = apiClient;\n// Enhanced authenticated request helper\nconst authenticatedRequest = async (endpoint, options = {})=>{\n    const response = await apiClient.fetch(endpoint, options);\n    return response.data;\n};\n// Token refresh status checker\nconst checkTokenStatus = ()=>{\n    const expiryTime = _auth__WEBPACK_IMPORTED_MODULE_0__.authService.getTokenExpiry();\n    const timeUntilExpiry = expiryTime ? expiryTime - Date.now() : null;\n    return {\n        isAuthenticated: _auth__WEBPACK_IMPORTED_MODULE_0__.authService.isAuthenticated(),\n        isExpired: _auth__WEBPACK_IMPORTED_MODULE_0__.authService.isTokenExpired(),\n        shouldRefresh: _auth__WEBPACK_IMPORTED_MODULE_0__.authService.shouldRefreshToken(),\n        expiryTime: expiryTime,\n        timeUntilExpiry: timeUntilExpiry\n    };\n};\n// Setup automatic token refresh\nconst setupAutomaticRefresh = ()=>{\n    if (true) return undefined;\n    // Check token status every 30 seconds\n    const interval = setInterval(async ()=>{\n        try {\n            if (_auth__WEBPACK_IMPORTED_MODULE_0__.authService.isAuthenticated() && _auth__WEBPACK_IMPORTED_MODULE_0__.authService.shouldRefreshToken()) {\n                console.log(\"\\uD83D\\uDD04 Automatic token refresh triggered...\");\n                await _auth__WEBPACK_IMPORTED_MODULE_0__.authService.refreshToken();\n                console.log(\"✅ Token refreshed automatically\");\n            }\n        } catch (error) {\n            console.error(\"❌ Automatic token refresh failed:\", error);\n        // Don't clear auth data immediately, let the user continue\n        }\n    }, 30 * 1000);\n    // Cleanup on page unload\n    const cleanup = ()=>{\n        clearInterval(interval);\n    };\n    window.addEventListener(\"beforeunload\", cleanup);\n    window.addEventListener(\"pagehide\", cleanup);\n    return cleanup;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBZ0JGO0lBQ3hDeEUsT0FBTzBFLGdCQUFnQixDQUFDLFlBQVlGO0lBRXBDLE9BQU9BO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21hc3RlcnN0cmVhbS1sZWFybmluZy1wbGF0Zm9ybS8uL3NyYy9saWIvYXV0aEludGVyY2VwdG9yLnRzP2UxNTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQXV0aCBJbnRlcmNlcHRvciBmb3IgYXV0b21hdGljIHRva2VuIHJlZnJlc2hcclxuLy8gSGFuZGxlcyB0b2tlbiByZWZyZXNoIGFuZCByZXF1ZXN0IHJldHJ5IGxvZ2ljXHJcblxyXG5pbXBvcnQgeyBhdXRoU2VydmljZSB9IGZyb20gJy4vYXV0aCc7XHJcbmltcG9ydCB7IEFQSV9CQVNFX1VSTCB9IGZyb20gJy4vbXlzcWwnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBcGlSZXNwb25zZTxUID0gYW55PiB7XHJcbiAgZGF0YT86IFQ7XHJcbiAgZXJyb3I/OiBzdHJpbmc7XHJcbiAgY29kZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0Q29uZmlnIGV4dGVuZHMgUmVxdWVzdEluaXQge1xyXG4gIHNraXBBdXRoPzogYm9vbGVhbjtcclxuICByZXRyeUNvdW50PzogbnVtYmVyO1xyXG59XHJcblxyXG5jbGFzcyBBdXRoSW50ZXJjZXB0b3Ige1xyXG4gIHByaXZhdGUgaXNSZWZyZXNoaW5nID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBmYWlsZWRRdWV1ZTogQXJyYXk8e1xyXG4gICAgcmVzb2x2ZTogKHZhbHVlOiBhbnkpID0+IHZvaWQ7XHJcbiAgICByZWplY3Q6IChlcnJvcjogYW55KSA9PiB2b2lkO1xyXG4gIH0+ID0gW107XHJcblxyXG4gIHByaXZhdGUgcHJvY2Vzc1F1ZXVlKGVycm9yOiBhbnksIHRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbCkge1xyXG4gICAgdGhpcy5mYWlsZWRRdWV1ZS5mb3JFYWNoKCh7IHJlc29sdmUsIHJlamVjdCB9KSA9PiB7XHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSh0b2tlbik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZmFpbGVkUXVldWUgPSBbXTtcclxuICB9XHJcblxyXG4gIC8vIEVuaGFuY2VkIGZldGNoIHdpdGggYXV0b21hdGljIHRva2VuIHJlZnJlc2hcclxuICBhc3luYyBmZXRjaDxUID0gYW55PihlbmRwb2ludDogc3RyaW5nLCBjb25maWc6IFJlcXVlc3RDb25maWcgPSB7fSk6IFByb21pc2U8QXBpUmVzcG9uc2U8VD4+IHtcclxuICAgIGNvbnN0IHsgc2tpcEF1dGggPSBmYWxzZSwgcmV0cnlDb3VudCA9IDAsIC4uLmZldGNoQ29uZmlnIH0gPSBjb25maWc7XHJcbiAgICBjb25zdCBtYXhSZXRyaWVzID0gMjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBHZXQgdmFsaWQgdG9rZW4gaWYgYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWRcclxuICAgICAgbGV0IHRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICAgICAgaWYgKCFza2lwQXV0aCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB0b2tlbiA9IGF3YWl0IGF1dGhTZXJ2aWNlLmdldFZhbGlkVG9rZW4oKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgLy8gSWYgdG9rZW4gcmVmcmVzaCBmYWlscywgcmVkaXJlY3QgdG8gbG9naW5cclxuICAgICAgICAgIGlmIChyZXRyeUNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmNsZWFyQXV0aERhdGEoKTtcclxuICAgICAgICAgICAgLy8gVXNlIHJvdXRlciBmb3IgYmV0dGVyIG5hdmlnYXRpb24gKGlmIGF2YWlsYWJsZSlcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZXhwaXJlZC4gUGxlYXNlIGxvZ2luIGFnYWluLicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcmVwYXJlIGhlYWRlcnNcclxuICAgICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIC4uLihmZXRjaENvbmZpZy5oZWFkZXJzIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKHRva2VuICYmICFza2lwQXV0aCkge1xyXG4gICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYWtlIHRoZSByZXF1ZXN0XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwge1xyXG4gICAgICAgIC4uLmZldGNoQ29uZmlnLFxyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gSGFuZGxlIDQwMSBVbmF1dGhvcml6ZWQgcmVzcG9uc2VzXHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSAmJiAhc2tpcEF1dGggJiYgcmV0cnlDb3VudCA8IG1heFJldHJpZXMpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1JlZnJlc2hpbmcpIHtcclxuICAgICAgICAgIC8vIElmIHJlZnJlc2ggaXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgcXVldWUgdGhpcyByZXF1ZXN0XHJcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmZhaWxlZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSk7XHJcbiAgICAgICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gUmV0cnkgdGhlIHJlcXVlc3Qgd2l0aCBuZXcgdG9rZW5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goZW5kcG9pbnQsIHsgLi4uY29uZmlnLCByZXRyeUNvdW50OiByZXRyeUNvdW50ICsgMSB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pc1JlZnJlc2hpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gQXR0ZW1wdCB0byByZWZyZXNoIHRva2VuXHJcbiAgICAgICAgICBhd2FpdCBhdXRoU2VydmljZS5yZWZyZXNoVG9rZW4oKTtcclxuICAgICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKG51bGwsIGF3YWl0IGF1dGhTZXJ2aWNlLmdldFZhbGlkVG9rZW4oKSk7XHJcblxyXG4gICAgICAgICAgLy8gUmV0cnkgdGhlIG9yaWdpbmFsIHJlcXVlc3RcclxuICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoKGVuZHBvaW50LCB7IC4uLmNvbmZpZywgcmV0cnlDb3VudDogcmV0cnlDb3VudCArIDEgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAocmVmcmVzaEVycm9yKSB7XHJcbiAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZShyZWZyZXNoRXJyb3IsIG51bGwpO1xyXG5cclxuICAgICAgICAgIC8vIENsZWFyIGF1dGggZGF0YSBhbmQgcmVkaXJlY3QgdG8gbG9naW5cclxuICAgICAgICAgIGF1dGhTZXJ2aWNlLmNsZWFyQXV0aERhdGEoKTtcclxuICAgICAgICAgIC8vIFVzZSByb3V0ZXIgZm9yIGJldHRlciBuYXZpZ2F0aW9uIChpZiBhdmFpbGFibGUpXHJcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBleHBpcmVkLiBQbGVhc2UgbG9naW4gYWdhaW4uJyk7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBIYW5kbGUgb3RoZXIgZXJyb3IgcmVzcG9uc2VzXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZXJyb3I6ICdSZXF1ZXN0IGZhaWxlZCcgfSkpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhcnNlIHJlc3BvbnNlXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHJldHVybiB7IGRhdGEgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBUEkgcmVxdWVzdCBmYWlsZWQ6JywgZXJyb3IpO1xyXG5cclxuICAgICAgLy8gSWYgdGhpcyBpcyBhIHJldHJ5IGFuZCBpdCBmYWlsZWQsIGRvbid0IHJldHJ5IGFnYWluXHJcbiAgICAgIGlmIChyZXRyeUNvdW50ID49IG1heFJldHJpZXMpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRm9yIG5ldHdvcmsgZXJyb3JzLCByZXRyeSBvbmNlXHJcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiByZXRyeUNvdW50IDwgbWF4UmV0cmllcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBSZXRyeWluZyByZXF1ZXN0ICgke3JldHJ5Q291bnQgKyAxfS8ke21heFJldHJpZXN9KS4uLmApO1xyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwICogKHJldHJ5Q291bnQgKyAxKSkpOyAvLyBFeHBvbmVudGlhbCBiYWNrb2ZmXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goZW5kcG9pbnQsIHsgLi4uY29uZmlnLCByZXRyeUNvdW50OiByZXRyeUNvdW50ICsgMSB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBHRVQgcmVxdWVzdFxyXG4gIGFzeW5jIGdldDxUID0gYW55PihlbmRwb2ludDogc3RyaW5nLCBjb25maWc6IFJlcXVlc3RDb25maWcgPSB7fSk6IFByb21pc2U8QXBpUmVzcG9uc2U8VD4+IHtcclxuICAgIHJldHVybiB0aGlzLmZldGNoPFQ+KGVuZHBvaW50LCB7IC4uLmNvbmZpZywgbWV0aG9kOiAnR0VUJyB9KTtcclxuICB9XHJcblxyXG4gIC8vIFBPU1QgcmVxdWVzdFxyXG4gIGFzeW5jIHBvc3Q8VCA9IGFueT4oZW5kcG9pbnQ6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnOiBSZXF1ZXN0Q29uZmlnID0ge30pOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiB7XHJcbiAgICByZXR1cm4gdGhpcy5mZXRjaDxUPihlbmRwb2ludCwge1xyXG4gICAgICAuLi5jb25maWcsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBib2R5OiBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiB1bmRlZmluZWQsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFBVVCByZXF1ZXN0XHJcbiAgYXN5bmMgcHV0PFQgPSBhbnk+KGVuZHBvaW50OiBzdHJpbmcsIGRhdGE/OiBhbnksIGNvbmZpZzogUmVxdWVzdENvbmZpZyA9IHt9KTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmV0Y2g8VD4oZW5kcG9pbnQsIHtcclxuICAgICAgLi4uY29uZmlnLFxyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBib2R5OiBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiB1bmRlZmluZWQsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIERFTEVURSByZXF1ZXN0XHJcbiAgYXN5bmMgZGVsZXRlPFQgPSBhbnk+KGVuZHBvaW50OiBzdHJpbmcsIGNvbmZpZzogUmVxdWVzdENvbmZpZyA9IHt9KTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmV0Y2g8VD4oZW5kcG9pbnQsIHsgLi4uY29uZmlnLCBtZXRob2Q6ICdERUxFVEUnIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gUEFUQ0ggcmVxdWVzdFxyXG4gIGFzeW5jIHBhdGNoPFQgPSBhbnk+KGVuZHBvaW50OiBzdHJpbmcsIGRhdGE/OiBhbnksIGNvbmZpZzogUmVxdWVzdENvbmZpZyA9IHt9KTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmV0Y2g8VD4oZW5kcG9pbnQsIHtcclxuICAgICAgLi4uY29uZmlnLFxyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGJvZHk6IGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IHVuZGVmaW5lZCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBsb2FkIGZpbGUgd2l0aCBwcm9ncmVzcyB0cmFja2luZ1xyXG4gIGFzeW5jIHVwbG9hZDxUID0gYW55PihcclxuICAgIGVuZHBvaW50OiBzdHJpbmcsXHJcbiAgICBmaWxlOiBGaWxlLFxyXG4gICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkLFxyXG4gICAgY29uZmlnOiBSZXF1ZXN0Q29uZmlnID0ge31cclxuICApOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZmV0Y2g8VD4oZW5kcG9pbnQsIHtcclxuICAgICAgLi4uY29uZmlnLFxyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogZm9ybURhdGEsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAvLyBEb24ndCBzZXQgQ29udGVudC1UeXBlIGZvciBGb3JtRGF0YSwgbGV0IGJyb3dzZXIgc2V0IGl0IHdpdGggYm91bmRhcnlcclxuICAgICAgICAuLi5jb25maWcuaGVhZGVycyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gRG93bmxvYWQgZmlsZVxyXG4gIGFzeW5jIGRvd25sb2FkKGVuZHBvaW50OiBzdHJpbmcsIGZpbGVuYW1lPzogc3RyaW5nLCBjb25maWc6IFJlcXVlc3RDb25maWcgPSB7fSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoKGVuZHBvaW50LCB7XHJcbiAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIC4uLmNvbmZpZy5oZWFkZXJzLFxyXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChyZXNwb25zZS5kYXRhKSB7XHJcbiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmVzcG9uc2UuZGF0YV0pO1xyXG4gICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgYS5ocmVmID0gdXJsO1xyXG4gICAgICBhLmRvd25sb2FkID0gZmlsZW5hbWUgfHwgJ2Rvd25sb2FkJztcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcclxuICAgICAgYS5jbGljaygpO1xyXG4gICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXRlIHNpbmdsZXRvbiBpbnN0YW5jZVxyXG5leHBvcnQgY29uc3QgYXBpQ2xpZW50ID0gbmV3IEF1dGhJbnRlcmNlcHRvcigpO1xyXG5leHBvcnQgY29uc3QgYXV0aEludGVyY2VwdG9yID0gYXBpQ2xpZW50OyAvLyBBbGlhcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxyXG5cclxuLy8gRXhwb3J0IGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgY29udmVuaWVuY2VcclxuZXhwb3J0IGNvbnN0IHtcclxuICBnZXQsXHJcbiAgcG9zdCxcclxuICBwdXQsXHJcbiAgZGVsZXRlOiBkZWwsXHJcbiAgcGF0Y2gsXHJcbiAgdXBsb2FkLFxyXG4gIGRvd25sb2FkLFxyXG59ID0gYXBpQ2xpZW50O1xyXG5cclxuLy8gRW5oYW5jZWQgYXV0aGVudGljYXRlZCByZXF1ZXN0IGhlbHBlclxyXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlZFJlcXVlc3QgPSBhc3luYyA8VCA9IGFueT4oXHJcbiAgZW5kcG9pbnQ6IHN0cmluZyxcclxuICBvcHRpb25zOiBSZXF1ZXN0Q29uZmlnID0ge31cclxuKTogUHJvbWlzZTxUPiA9PiB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZmV0Y2g8VD4oZW5kcG9pbnQsIG9wdGlvbnMpO1xyXG4gIHJldHVybiByZXNwb25zZS5kYXRhIGFzIFQ7XHJcbn07XHJcblxyXG4vLyBUb2tlbiByZWZyZXNoIHN0YXR1cyBjaGVja2VyXHJcbmV4cG9ydCBjb25zdCBjaGVja1Rva2VuU3RhdHVzID0gKCk6IHtcclxuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XHJcbiAgaXNFeHBpcmVkOiBib29sZWFuO1xyXG4gIHNob3VsZFJlZnJlc2g6IGJvb2xlYW47XHJcbiAgZXhwaXJ5VGltZTogbnVtYmVyIHwgbnVsbDtcclxuICB0aW1lVW50aWxFeHBpcnk6IG51bWJlciB8IG51bGw7XHJcbn0gPT4ge1xyXG4gIGNvbnN0IGV4cGlyeVRpbWUgPSBhdXRoU2VydmljZS5nZXRUb2tlbkV4cGlyeSgpO1xyXG4gIGNvbnN0IHRpbWVVbnRpbEV4cGlyeSA9IGV4cGlyeVRpbWUgPyBleHBpcnlUaW1lIC0gRGF0ZS5ub3coKSA6IG51bGw7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpLFxyXG4gICAgaXNFeHBpcmVkOiBhdXRoU2VydmljZS5pc1Rva2VuRXhwaXJlZCgpLFxyXG4gICAgc2hvdWxkUmVmcmVzaDogYXV0aFNlcnZpY2Uuc2hvdWxkUmVmcmVzaFRva2VuKCksXHJcbiAgICBleHBpcnlUaW1lOiBleHBpcnlUaW1lLFxyXG4gICAgdGltZVVudGlsRXhwaXJ5OiB0aW1lVW50aWxFeHBpcnksXHJcbiAgfTtcclxufTtcclxuXHJcbi8vIFNldHVwIGF1dG9tYXRpYyB0b2tlbiByZWZyZXNoXHJcbmV4cG9ydCBjb25zdCBzZXR1cEF1dG9tYXRpY1JlZnJlc2ggPSAoKTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkID0+IHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWQ7XHJcblxyXG4gIC8vIENoZWNrIHRva2VuIHN0YXR1cyBldmVyeSAzMCBzZWNvbmRzXHJcbiAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoYXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkgJiYgYXV0aFNlcnZpY2Uuc2hvdWxkUmVmcmVzaFRva2VuKCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBBdXRvbWF0aWMgdG9rZW4gcmVmcmVzaCB0cmlnZ2VyZWQuLi4nKTtcclxuICAgICAgICBhd2FpdCBhdXRoU2VydmljZS5yZWZyZXNoVG9rZW4oKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFRva2VuIHJlZnJlc2hlZCBhdXRvbWF0aWNhbGx5Jyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRvbWF0aWMgdG9rZW4gcmVmcmVzaCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAvLyBEb24ndCBjbGVhciBhdXRoIGRhdGEgaW1tZWRpYXRlbHksIGxldCB0aGUgdXNlciBjb250aW51ZVxyXG4gICAgfVxyXG4gIH0sIDMwICogMTAwMCk7XHJcblxyXG4gIC8vIENsZWFudXAgb24gcGFnZSB1bmxvYWRcclxuICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xyXG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgfTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGNsZWFudXApO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwYWdlaGlkZScsIGNsZWFudXApO1xyXG5cclxuICByZXR1cm4gY2xlYW51cDtcclxufTsiXSwibmFtZXMiOlsiYXV0aFNlcnZpY2UiLCJBUElfQkFTRV9VUkwiLCJBdXRoSW50ZXJjZXB0b3IiLCJwcm9jZXNzUXVldWUiLCJlcnJvciIsInRva2VuIiwiZmFpbGVkUXVldWUiLCJmb3JFYWNoIiwicmVzb2x2ZSIsInJlamVjdCIsImZldGNoIiwiZW5kcG9pbnQiLCJjb25maWciLCJza2lwQXV0aCIsInJldHJ5Q291bnQiLCJmZXRjaENvbmZpZyIsIm1heFJldHJpZXMiLCJnZXRWYWxpZFRva2VuIiwiY2xlYXJBdXRoRGF0YSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIkVycm9yIiwiaGVhZGVycyIsInJlc3BvbnNlIiwic3RhdHVzIiwiaXNSZWZyZXNoaW5nIiwiUHJvbWlzZSIsInB1c2giLCJ0aGVuIiwicmVmcmVzaFRva2VuIiwicmVmcmVzaEVycm9yIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJzdGF0dXNUZXh0IiwiZGF0YSIsImNvbnNvbGUiLCJUeXBlRXJyb3IiLCJsb2ciLCJzZXRUaW1lb3V0IiwiZ2V0IiwibWV0aG9kIiwicG9zdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidW5kZWZpbmVkIiwicHV0IiwiZGVsZXRlIiwicGF0Y2giLCJ1cGxvYWQiLCJmaWxlIiwib25Qcm9ncmVzcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJkb3dubG9hZCIsImZpbGVuYW1lIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsInJlbW92ZUNoaWxkIiwiYXBpQ2xpZW50IiwiYXV0aEludGVyY2VwdG9yIiwiZGVsIiwiYXV0aGVudGljYXRlZFJlcXVlc3QiLCJvcHRpb25zIiwiY2hlY2tUb2tlblN0YXR1cyIsImV4cGlyeVRpbWUiLCJnZXRUb2tlbkV4cGlyeSIsInRpbWVVbnRpbEV4cGlyeSIsIkRhdGUiLCJub3ciLCJpc0F1dGhlbnRpY2F0ZWQiLCJpc0V4cGlyZWQiLCJpc1Rva2VuRXhwaXJlZCIsInNob3VsZFJlZnJlc2giLCJzaG91bGRSZWZyZXNoVG9rZW4iLCJzZXR1cEF1dG9tYXRpY1JlZnJlc2giLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYW51cCIsImNsZWFySW50ZXJ2YWwiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/authInterceptor.ts\n");

/***/ }),

/***/ "./src/lib/firebase.ts":
/*!*****************************!*\
  !*** ./src/lib/firebase.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/analytics */ \"firebase/analytics\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_analytics__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_auth__WEBPACK_IMPORTED_MODULE_3__, firebase_storage__WEBPACK_IMPORTED_MODULE_4__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_analytics__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_auth__WEBPACK_IMPORTED_MODULE_3__, firebase_storage__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// Import the functions you need from the SDKs you need\n\n\n\n\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY || \"AIzaSyCh9D1Buu-Ks_Iyba7LWkiAIuod9io8zLk\",\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN || \"fowardafrica-8cf73.firebaseapp.com\",\n    databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL || \"https://fowardafrica-8cf73-default-rtdb.firebaseio.com\",\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || \"fowardafrica-8cf73\",\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET || \"fowardafrica-8cf73.appspot.com\",\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID || \"475328888787\",\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID || \"1:475328888787:web:3b2dfe1e8ebd691775b926\",\n    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID || \"G-3FYPVRN816\"\n};\n// Initialize Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0] : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n// Initialize Firebase services\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.getAuth)(app);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_4__.getStorage)(app);\n// Connect to emulators in development\nif (false) {}\n// Initialize Analytics only on client side\nlet analytics;\nif (false) {}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2ZpcmViYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVEQUF1RDtBQUNEO0FBQ0o7QUFDMEI7QUFDZjtBQUNTO0FBRXRFLHdDQUF3QztBQUN4QyxNQUFNUyxpQkFBaUI7SUFDckJDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsNEJBQTRCLElBQUk7SUFDcERDLFlBQVlILFFBQVFDLEdBQUcsQ0FBQ0csZ0NBQWdDLElBQUk7SUFDNURDLGFBQWFMLFFBQVFDLEdBQUcsQ0FBQ0ssaUNBQWlDLElBQUk7SUFDOURDLFdBQVdQLFFBQVFDLEdBQUcsQ0FBQ08sK0JBQStCLElBQUk7SUFDMURDLGVBQWVULFFBQVFDLEdBQUcsQ0FBQ1MsbUNBQW1DLElBQUk7SUFDbEVDLG1CQUFtQlgsUUFBUUMsR0FBRyxDQUFDVyx3Q0FBd0MsSUFBSTtJQUMzRUMsT0FBT2IsUUFBUUMsR0FBRyxDQUFDYSwyQkFBMkIsSUFBSTtJQUNsREMsZUFBZWYsUUFBUUMsR0FBRyxDQUFDZSxtQ0FBbUMsSUFBSTtBQUNwRTtBQUVBLHNCQUFzQjtBQUN0QixNQUFNQyxNQUFNM0IscURBQU9BLEdBQUc0QixNQUFNLEdBQUc1QixxREFBT0EsRUFBRSxDQUFDLEVBQUUsR0FBR0QsMkRBQWFBLENBQUNTO0FBRTVELCtCQUErQjtBQUMvQixNQUFNcUIsS0FBSzNCLGdFQUFZQSxDQUFDeUI7QUFDeEIsTUFBTUcsT0FBTzFCLHNEQUFPQSxDQUFDdUI7QUFDckIsTUFBTUksVUFBVXpCLDREQUFVQSxDQUFDcUI7QUFFM0Isc0NBQXNDO0FBQ3RDLElBQUlqQixLQUE0RCxFQUFhLEVBc0I1RTtBQUVELDJDQUEyQztBQUMzQyxJQUFJK0I7QUFDSixJQUFJLEtBQTZCLEVBQUUsRUFNbEM7QUFFdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXJzdHJlYW0tbGVhcm5pbmctcGxhdGZvcm0vLi9zcmMvbGliL2ZpcmViYXNlLnRzPzE1NDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0IHRoZSBmdW5jdGlvbnMgeW91IG5lZWQgZnJvbSB0aGUgU0RLcyB5b3UgbmVlZFxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcyB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcbmltcG9ydCB7IGdldEFuYWx5dGljcyB9IGZyb20gXCJmaXJlYmFzZS9hbmFseXRpY3NcIjtcbmltcG9ydCB7IGdldEZpcmVzdG9yZSwgY29ubmVjdEZpcmVzdG9yZUVtdWxhdG9yIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgZ2V0QXV0aCwgY29ubmVjdEF1dGhFbXVsYXRvciB9IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5pbXBvcnQgeyBnZXRTdG9yYWdlLCBjb25uZWN0U3RvcmFnZUVtdWxhdG9yIH0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcblxuLy8gWW91ciB3ZWIgYXBwJ3MgRmlyZWJhc2UgY29uZmlndXJhdGlvblxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSB8fCBcIkFJemFTeUNoOUQxQnV1LUtzX0l5YmE3TFdraUFJdW9kOWlvOHpMa1wiLFxuICBhdXRoRG9tYWluOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiB8fCBcImZvd2FyZGFmcmljYS04Y2Y3My5maXJlYmFzZWFwcC5jb21cIixcbiAgZGF0YWJhc2VVUkw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0RBVEFCQVNFX1VSTCB8fCBcImh0dHBzOi8vZm93YXJkYWZyaWNhLThjZjczLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbVwiLFxuICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQgfHwgXCJmb3dhcmRhZnJpY2EtOGNmNzNcIixcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQgfHwgXCJmb3dhcmRhZnJpY2EtOGNmNzMuYXBwc3BvdC5jb21cIixcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQgfHwgXCI0NzUzMjg4ODg3ODdcIixcbiAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCB8fCBcIjE6NDc1MzI4ODg4Nzg3OndlYjozYjJkZmUxZThlYmQ2OTE3NzViOTI2XCIsXG4gIG1lYXN1cmVtZW50SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FQVNVUkVNRU5UX0lEIHx8IFwiRy0zRllQVlJOODE2XCJcbn07XG5cbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcbmNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPyBnZXRBcHBzKClbMF0gOiBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBzZXJ2aWNlc1xuY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcbmNvbnN0IGF1dGggPSBnZXRBdXRoKGFwcCk7XG5jb25zdCBzdG9yYWdlID0gZ2V0U3RvcmFnZShhcHApO1xuXG4vLyBDb25uZWN0IHRvIGVtdWxhdG9ycyBpbiBkZXZlbG9wbWVudFxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIC8vIE9ubHkgY29ubmVjdCB0byBlbXVsYXRvcnMgaWYgbm90IGFscmVhZHkgY29ubmVjdGVkXG4gIHRyeSB7XG4gICAgLy8gRmlyZXN0b3JlIGVtdWxhdG9yXG4gICAgaWYgKCEoZGIgYXMgYW55KS5fZGVsZWdhdGUuX2RhdGFiYXNlSWQucHJvamVjdElkLmluY2x1ZGVzKCdkZW1vLScpKSB7XG4gICAgICBjb25uZWN0RmlyZXN0b3JlRW11bGF0b3IoZGIsICdsb2NhbGhvc3QnLCA4MDgwKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQXV0aCBlbXVsYXRvclxuICAgIGlmICghYXV0aC5jb25maWcuZW11bGF0b3IpIHtcbiAgICAgIGNvbm5lY3RBdXRoRW11bGF0b3IoYXV0aCwgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTA5OScpO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdG9yYWdlIGVtdWxhdG9yXG4gICAgaWYgKCEoc3RvcmFnZSBhcyBhbnkpLl9kZWxlZ2F0ZS5faG9zdC5pbmNsdWRlcygnbG9jYWxob3N0JykpIHtcbiAgICAgIGNvbm5lY3RTdG9yYWdlRW11bGF0b3Ioc3RvcmFnZSwgJ2xvY2FsaG9zdCcsIDkxOTkpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIENvbm5lY3RlZCB0byBGaXJlYmFzZSBlbXVsYXRvcnMnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygn4pqg77iPIEZpcmViYXNlIGVtdWxhdG9ycyBhbHJlYWR5IGNvbm5lY3RlZCBvciBub3QgYXZhaWxhYmxlJyk7XG4gIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSBBbmFseXRpY3Mgb25seSBvbiBjbGllbnQgc2lkZVxubGV0IGFuYWx5dGljcztcbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIHRyeSB7XG4gICAgYW5hbHl0aWNzID0gZ2V0QW5hbHl0aWNzKGFwcCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ+KaoO+4jyBBbmFseXRpY3Mgbm90IGF2YWlsYWJsZTonLCBlcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IHsgZGIsIGF1dGgsIHN0b3JhZ2UsIGFuYWx5dGljcyB9OyJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldEFuYWx5dGljcyIsImdldEZpcmVzdG9yZSIsImNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvciIsImdldEF1dGgiLCJjb25uZWN0QXV0aEVtdWxhdG9yIiwiZ2V0U3RvcmFnZSIsImNvbm5lY3RTdG9yYWdlRW11bGF0b3IiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZIiwiYXV0aERvbWFpbiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOIiwiZGF0YWJhc2VVUkwiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9EQVRBQkFTRV9VUkwiLCJwcm9qZWN0SWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lEIiwic3RvcmFnZUJ1Y2tldCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VUIiwibWVzc2FnaW5nU2VuZGVySWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lEIiwiYXBwSWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQiLCJtZWFzdXJlbWVudElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVBU1VSRU1FTlRfSUQiLCJhcHAiLCJsZW5ndGgiLCJkYiIsImF1dGgiLCJzdG9yYWdlIiwiX2RlbGVnYXRlIiwiX2RhdGFiYXNlSWQiLCJpbmNsdWRlcyIsImNvbmZpZyIsImVtdWxhdG9yIiwiX2hvc3QiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJhbmFseXRpY3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/firebase.ts\n");

/***/ }),

/***/ "./src/lib/firebaseAuth.ts":
/*!*********************************!*\
  !*** ./src/lib/firebaseAuth.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FirebaseAuthError: () => (/* binding */ FirebaseAuthError),\n/* harmony export */   firebaseAuthService: () => (/* binding */ firebaseAuthService)\n/* harmony export */ });\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"./src/lib/firebase.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_auth__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_auth__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// Enhanced error handling\nclass FirebaseAuthError extends Error {\n    constructor(code, message, details){\n        super(message);\n        this.code = code;\n        this.details = details;\n        this.name = \"FirebaseAuthError\";\n    }\n}\n// Convert Firebase User to our custom user format\nconst convertFirebaseUser = async (firebaseUser)=>{\n    try {\n        // Get user profile from Firestore\n        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", firebaseUser.uid));\n        if (userDoc.exists()) {\n            const userData = userDoc.data();\n            return {\n                uid: firebaseUser.uid,\n                email: firebaseUser.email,\n                displayName: firebaseUser.displayName,\n                photoURL: firebaseUser.photoURL,\n                emailVerified: firebaseUser.emailVerified,\n                role: userData.role || \"user\",\n                permissions: userData.permissions || [],\n                onboarding_completed: userData.onboarding_completed || false,\n                industry: userData.industry,\n                experience_level: userData.experience_level,\n                business_stage: userData.business_stage,\n                country: userData.country,\n                state_province: userData.state_province,\n                city: userData.city,\n                created_at: userData.created_at,\n                updated_at: userData.updated_at\n            };\n        } else {\n            // Create default user profile\n            const defaultUser = {\n                uid: firebaseUser.uid,\n                email: firebaseUser.email,\n                displayName: firebaseUser.displayName,\n                photoURL: firebaseUser.photoURL,\n                emailVerified: firebaseUser.emailVerified,\n                role: \"user\",\n                permissions: [],\n                onboarding_completed: false,\n                created_at: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                updated_at: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n            };\n            // Save to Firestore\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", firebaseUser.uid), defaultUser);\n            return defaultUser;\n        }\n    } catch (error) {\n        console.error(\"❌ Error converting Firebase user:\", error);\n        throw new FirebaseAuthError(\"USER_CONVERSION_FAILED\", \"Failed to convert user data\");\n    }\n};\nconst firebaseAuthService = {\n    // Sign in with email and password\n    signIn: async (credentials)=>{\n        try {\n            console.log(\"\\uD83D\\uDD10 Firebase Auth: Signing in...\");\n            const { user: firebaseUser } = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth, credentials.email, credentials.password);\n            const user = await convertFirebaseUser(firebaseUser);\n            console.log(\"✅ Firebase Auth: Sign in successful\");\n            return {\n                user,\n                message: \"Sign in successful\"\n            };\n        } catch (error) {\n            console.error(\"❌ Firebase Auth: Sign in failed:\", error);\n            // Handle specific Firebase error codes\n            switch(error.code){\n                case \"auth/user-not-found\":\n                    throw new FirebaseAuthError(\"USER_NOT_FOUND\", \"No user found with this email address\");\n                case \"auth/wrong-password\":\n                    throw new FirebaseAuthError(\"WRONG_PASSWORD\", \"Incorrect password\");\n                case \"auth/invalid-email\":\n                    throw new FirebaseAuthError(\"INVALID_EMAIL\", \"Invalid email address\");\n                case \"auth/user-disabled\":\n                    throw new FirebaseAuthError(\"USER_DISABLED\", \"This account has been disabled\");\n                case \"auth/too-many-requests\":\n                    throw new FirebaseAuthError(\"TOO_MANY_REQUESTS\", \"Too many failed attempts. Please try again later\");\n                default:\n                    throw new FirebaseAuthError(\"SIGN_IN_FAILED\", error.message || \"Sign in failed\");\n            }\n        }\n    },\n    // Sign up with email and password\n    signUp: async (userData)=>{\n        try {\n            console.log(\"\\uD83D\\uDCDD Firebase Auth: Signing up...\");\n            const { user: firebaseUser } = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.createUserWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth, userData.email, userData.password);\n            // Update Firebase user profile\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.updateProfile)(firebaseUser, {\n                displayName: userData.full_name\n            });\n            // Create user profile in Firestore\n            const userProfile = {\n                uid: firebaseUser.uid,\n                email: firebaseUser.email,\n                displayName: userData.full_name,\n                photoURL: null,\n                emailVerified: false,\n                role: \"user\",\n                permissions: [],\n                onboarding_completed: false,\n                industry: userData.industry,\n                experience_level: userData.experience_level,\n                business_stage: userData.business_stage,\n                country: userData.country,\n                state_province: userData.state_province,\n                city: userData.city,\n                created_at: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                updated_at: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", firebaseUser.uid), userProfile);\n            // Send email verification\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.sendEmailVerification)(firebaseUser);\n            const user = await convertFirebaseUser(firebaseUser);\n            console.log(\"✅ Firebase Auth: Sign up successful\");\n            return {\n                user,\n                message: \"Account created successfully. Please check your email for verification.\"\n            };\n        } catch (error) {\n            console.error(\"❌ Firebase Auth: Sign up failed:\", error);\n            // Handle specific Firebase error codes\n            switch(error.code){\n                case \"auth/email-already-in-use\":\n                    throw new FirebaseAuthError(\"EMAIL_EXISTS\", \"An account with this email already exists\");\n                case \"auth/invalid-email\":\n                    throw new FirebaseAuthError(\"INVALID_EMAIL\", \"Invalid email address\");\n                case \"auth/weak-password\":\n                    throw new FirebaseAuthError(\"WEAK_PASSWORD\", \"Password should be at least 6 characters\");\n                case \"auth/operation-not-allowed\":\n                    throw new FirebaseAuthError(\"OPERATION_NOT_ALLOWED\", \"Email/password accounts are not enabled\");\n                default:\n                    throw new FirebaseAuthError(\"SIGN_UP_FAILED\", error.message || \"Sign up failed\");\n            }\n        }\n    },\n    // Sign in with Google\n    signInWithGoogle: async ()=>{\n        try {\n            console.log(\"\\uD83D\\uDD10 Firebase Auth: Signing in with Google...\");\n            const provider = new firebase_auth__WEBPACK_IMPORTED_MODULE_0__.GoogleAuthProvider();\n            const { user: firebaseUser } = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithPopup)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth, provider);\n            // Check if user profile exists, create if not\n            const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", firebaseUser.uid));\n            if (!userDoc.exists()) {\n                const userProfile = {\n                    uid: firebaseUser.uid,\n                    email: firebaseUser.email,\n                    displayName: firebaseUser.displayName,\n                    photoURL: firebaseUser.photoURL,\n                    emailVerified: firebaseUser.emailVerified,\n                    role: \"user\",\n                    permissions: [],\n                    onboarding_completed: false,\n                    created_at: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updated_at: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", firebaseUser.uid), userProfile);\n            }\n            const user = await convertFirebaseUser(firebaseUser);\n            console.log(\"✅ Firebase Auth: Google sign in successful\");\n            return {\n                user,\n                message: \"Google sign in successful\"\n            };\n        } catch (error) {\n            console.error(\"❌ Firebase Auth: Google sign in failed:\", error);\n            switch(error.code){\n                case \"auth/popup-closed-by-user\":\n                    throw new FirebaseAuthError(\"POPUP_CLOSED\", \"Sign in popup was closed\");\n                case \"auth/cancelled-popup-request\":\n                    throw new FirebaseAuthError(\"POPUP_CANCELLED\", \"Sign in was cancelled\");\n                default:\n                    throw new FirebaseAuthError(\"GOOGLE_SIGN_IN_FAILED\", error.message || \"Google sign in failed\");\n            }\n        }\n    },\n    // Sign out\n    signOut: async ()=>{\n        try {\n            console.log(\"\\uD83D\\uDEAA Firebase Auth: Signing out...\");\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signOut)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth);\n            console.log(\"✅ Firebase Auth: Sign out successful\");\n        } catch (error) {\n            console.error(\"❌ Firebase Auth: Sign out failed:\", error);\n            throw new FirebaseAuthError(\"SIGN_OUT_FAILED\", error.message || \"Sign out failed\");\n        }\n    },\n    // Get current user\n    getCurrentUser: ()=>{\n        return _firebase__WEBPACK_IMPORTED_MODULE_1__.auth.currentUser;\n    },\n    // Update user profile\n    updateProfile: async (profileData)=>{\n        try {\n            const currentUser = _firebase__WEBPACK_IMPORTED_MODULE_1__.auth.currentUser;\n            if (!currentUser) {\n                throw new FirebaseAuthError(\"NO_USER\", \"No authenticated user\");\n            }\n            console.log(\"\\uD83D\\uDD04 Firebase Auth: Updating profile...\");\n            // Update Firebase Auth profile if display name or photo URL changed\n            if (profileData.displayName || profileData.photoURL) {\n                await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.updateProfile)(currentUser, {\n                    displayName: profileData.displayName || undefined,\n                    photoURL: profileData.photoURL || undefined\n                });\n            }\n            // Update Firestore profile\n            const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.uid);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(userRef, {\n                ...profileData,\n                updated_at: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n            });\n            const user = await convertFirebaseUser(currentUser);\n            console.log(\"✅ Firebase Auth: Profile updated successfully\");\n            return user;\n        } catch (error) {\n            console.error(\"❌ Firebase Auth: Profile update failed:\", error);\n            throw new FirebaseAuthError(\"PROFILE_UPDATE_FAILED\", error.message || \"Profile update failed\");\n        }\n    },\n    // Reset password\n    resetPassword: async (email)=>{\n        try {\n            console.log(\"\\uD83D\\uDD04 Firebase Auth: Sending password reset email...\");\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.sendPasswordResetEmail)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth, email);\n            console.log(\"✅ Firebase Auth: Password reset email sent\");\n        } catch (error) {\n            console.error(\"❌ Firebase Auth: Password reset failed:\", error);\n            switch(error.code){\n                case \"auth/user-not-found\":\n                    throw new FirebaseAuthError(\"USER_NOT_FOUND\", \"No user found with this email address\");\n                case \"auth/invalid-email\":\n                    throw new FirebaseAuthError(\"INVALID_EMAIL\", \"Invalid email address\");\n                default:\n                    throw new FirebaseAuthError(\"PASSWORD_RESET_FAILED\", error.message || \"Password reset failed\");\n            }\n        }\n    },\n    // Check if user is authenticated\n    isAuthenticated: ()=>{\n        return !!_firebase__WEBPACK_IMPORTED_MODULE_1__.auth.currentUser;\n    },\n    // Check if user has admin privileges\n    isAdmin: (user)=>{\n        return user?.role === \"super_admin\" || user?.role === \"content_manager\" || user?.role === \"community_manager\";\n    },\n    // Check if user is super admin\n    isSuperAdmin: (user)=>{\n        return user?.role === \"super_admin\";\n    },\n    // Auth state change listener\n    onAuthStateChanged: (callback)=>{\n        return (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.onAuthStateChanged)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth, async (firebaseUser)=>{\n            if (firebaseUser) {\n                try {\n                    const user = await convertFirebaseUser(firebaseUser);\n                    callback(user);\n                } catch (error) {\n                    console.error(\"❌ Error in auth state change:\", error);\n                    callback(null);\n                }\n            } else {\n                callback(null);\n            }\n        });\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtCLHlCQUF5QjhCLE1BQU0xQixPQUFPLElBQUk7WUFDMUU7UUFDRjtJQUNGO0lBRUEsaUNBQWlDO0lBQ2pDNkMsaUJBQWlCO1FBQ2YsT0FBTyxDQUFDLENBQUN4RCwyQ0FBSUEsQ0FBQ21ELFdBQVc7SUFDM0I7SUFFQSxxQ0FBcUM7SUFDckNNLFNBQVMsQ0FBQ2Q7UUFDUixPQUFPQSxNQUFNbEIsU0FBUyxpQkFBaUJrQixNQUFNbEIsU0FBUyxxQkFBcUJrQixNQUFNbEIsU0FBUztJQUM1RjtJQUVBLCtCQUErQjtJQUMvQmlDLGNBQWMsQ0FBQ2Y7UUFDYixPQUFPQSxNQUFNbEIsU0FBUztJQUN4QjtJQUVBLDZCQUE2QjtJQUM3QmhDLG9CQUFvQixDQUFDa0U7UUFDbkIsT0FBT2xFLGlFQUFrQkEsQ0FBQ08sMkNBQUlBLEVBQUUsT0FBT2U7WUFDckMsSUFBSUEsY0FBYztnQkFDaEIsSUFBSTtvQkFDRixNQUFNNEIsT0FBTyxNQUFNN0Isb0JBQW9CQztvQkFDdkM0QyxTQUFTaEI7Z0JBQ1gsRUFBRSxPQUFPTixPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsaUNBQWlDQTtvQkFDL0NzQixTQUFTO2dCQUNYO1lBQ0YsT0FBTztnQkFDTEEsU0FBUztZQUNYO1FBQ0Y7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXJzdHJlYW0tbGVhcm5pbmctcGxhdGZvcm0vLi9zcmMvbGliL2ZpcmViYXNlQXV0aC50cz83NTNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsXHJcbiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLFxyXG4gIHNpZ25PdXQsXHJcbiAgb25BdXRoU3RhdGVDaGFuZ2VkLFxyXG4gIFVzZXIsXHJcbiAgR29vZ2xlQXV0aFByb3ZpZGVyLFxyXG4gIHNpZ25JbldpdGhQb3B1cCxcclxuICB1cGRhdGVQcm9maWxlIGFzIGZpcmViYXNlVXBkYXRlUHJvZmlsZSxcclxuICBzZW5kRW1haWxWZXJpZmljYXRpb24sXHJcbiAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbFxyXG59IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnLi9maXJlYmFzZSc7XHJcbmltcG9ydCB7IGRvYywgc2V0RG9jLCBnZXREb2MsIHVwZGF0ZURvYywgc2VydmVyVGltZXN0YW1wIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICcuL2ZpcmViYXNlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmlyZWJhc2VVc2VyIHtcclxuICB1aWQ6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nIHwgbnVsbDtcclxuICBkaXNwbGF5TmFtZTogc3RyaW5nIHwgbnVsbDtcclxuICBwaG90b1VSTDogc3RyaW5nIHwgbnVsbDtcclxuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuO1xyXG4gIHJvbGU6ICd1c2VyJyB8ICdjb250ZW50X21hbmFnZXInIHwgJ2NvbW11bml0eV9tYW5hZ2VyJyB8ICd1c2VyX3N1cHBvcnQnIHwgJ3N1cGVyX2FkbWluJztcclxuICBwZXJtaXNzaW9uczogc3RyaW5nW107XHJcbiAgb25ib2FyZGluZ19jb21wbGV0ZWQ6IGJvb2xlYW47XHJcbiAgaW5kdXN0cnk/OiBzdHJpbmc7XHJcbiAgZXhwZXJpZW5jZV9sZXZlbD86IHN0cmluZztcclxuICBidXNpbmVzc19zdGFnZT86IHN0cmluZztcclxuICBjb3VudHJ5Pzogc3RyaW5nO1xyXG4gIHN0YXRlX3Byb3ZpbmNlPzogc3RyaW5nO1xyXG4gIGNpdHk/OiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdDogYW55O1xyXG4gIHVwZGF0ZWRfYXQ6IGFueTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2dpbkNyZWRlbnRpYWxzIHtcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHBhc3N3b3JkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVnaXN0ZXJEYXRhIHtcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgZnVsbF9uYW1lOiBzdHJpbmc7XHJcbiAgZWR1Y2F0aW9uX2xldmVsPzogc3RyaW5nO1xyXG4gIGpvYl90aXRsZT86IHN0cmluZztcclxuICB0b3BpY3Nfb2ZfaW50ZXJlc3Q/OiBzdHJpbmdbXTtcclxuICBpbmR1c3RyeT86IHN0cmluZztcclxuICBleHBlcmllbmNlX2xldmVsPzogc3RyaW5nO1xyXG4gIGJ1c2luZXNzX3N0YWdlPzogc3RyaW5nO1xyXG4gIGNvdW50cnk/OiBzdHJpbmc7XHJcbiAgc3RhdGVfcHJvdmluY2U/OiBzdHJpbmc7XHJcbiAgY2l0eT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBdXRoUmVzcG9uc2Uge1xyXG4gIHVzZXI6IEZpcmViYXNlVXNlcjtcclxuICBtZXNzYWdlOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIEVuaGFuY2VkIGVycm9yIGhhbmRsaW5nXHJcbmV4cG9ydCBjbGFzcyBGaXJlYmFzZUF1dGhFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyBjb2RlOiBzdHJpbmcsXHJcbiAgICBtZXNzYWdlOiBzdHJpbmcsXHJcbiAgICBwdWJsaWMgZGV0YWlscz86IGFueVxyXG4gICkge1xyXG4gICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICB0aGlzLm5hbWUgPSAnRmlyZWJhc2VBdXRoRXJyb3InO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQ29udmVydCBGaXJlYmFzZSBVc2VyIHRvIG91ciBjdXN0b20gdXNlciBmb3JtYXRcclxuY29uc3QgY29udmVydEZpcmViYXNlVXNlciA9IGFzeW5jIChmaXJlYmFzZVVzZXI6IFVzZXIpOiBQcm9taXNlPEZpcmViYXNlVXNlcj4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgdXNlciBwcm9maWxlIGZyb20gRmlyZXN0b3JlXHJcbiAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgZ2V0RG9jKGRvYyhkYiwgJ3VzZXJzJywgZmlyZWJhc2VVc2VyLnVpZCkpO1xyXG5cclxuICAgIGlmICh1c2VyRG9jLmV4aXN0cygpKSB7XHJcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckRvYy5kYXRhKCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdWlkOiBmaXJlYmFzZVVzZXIudWlkLFxyXG4gICAgICAgIGVtYWlsOiBmaXJlYmFzZVVzZXIuZW1haWwsXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IGZpcmViYXNlVXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgICBwaG90b1VSTDogZmlyZWJhc2VVc2VyLnBob3RvVVJMLFxyXG4gICAgICAgIGVtYWlsVmVyaWZpZWQ6IGZpcmViYXNlVXNlci5lbWFpbFZlcmlmaWVkLFxyXG4gICAgICAgIHJvbGU6IHVzZXJEYXRhLnJvbGUgfHwgJ3VzZXInLFxyXG4gICAgICAgIHBlcm1pc3Npb25zOiB1c2VyRGF0YS5wZXJtaXNzaW9ucyB8fCBbXSxcclxuICAgICAgICBvbmJvYXJkaW5nX2NvbXBsZXRlZDogdXNlckRhdGEub25ib2FyZGluZ19jb21wbGV0ZWQgfHwgZmFsc2UsXHJcbiAgICAgICAgaW5kdXN0cnk6IHVzZXJEYXRhLmluZHVzdHJ5LFxyXG4gICAgICAgIGV4cGVyaWVuY2VfbGV2ZWw6IHVzZXJEYXRhLmV4cGVyaWVuY2VfbGV2ZWwsXHJcbiAgICAgICAgYnVzaW5lc3Nfc3RhZ2U6IHVzZXJEYXRhLmJ1c2luZXNzX3N0YWdlLFxyXG4gICAgICAgIGNvdW50cnk6IHVzZXJEYXRhLmNvdW50cnksXHJcbiAgICAgICAgc3RhdGVfcHJvdmluY2U6IHVzZXJEYXRhLnN0YXRlX3Byb3ZpbmNlLFxyXG4gICAgICAgIGNpdHk6IHVzZXJEYXRhLmNpdHksXHJcbiAgICAgICAgY3JlYXRlZF9hdDogdXNlckRhdGEuY3JlYXRlZF9hdCxcclxuICAgICAgICB1cGRhdGVkX2F0OiB1c2VyRGF0YS51cGRhdGVkX2F0XHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDcmVhdGUgZGVmYXVsdCB1c2VyIHByb2ZpbGVcclxuICAgICAgY29uc3QgZGVmYXVsdFVzZXI6IEZpcmViYXNlVXNlciA9IHtcclxuICAgICAgICB1aWQ6IGZpcmViYXNlVXNlci51aWQsXHJcbiAgICAgICAgZW1haWw6IGZpcmViYXNlVXNlci5lbWFpbCxcclxuICAgICAgICBkaXNwbGF5TmFtZTogZmlyZWJhc2VVc2VyLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgIHBob3RvVVJMOiBmaXJlYmFzZVVzZXIucGhvdG9VUkwsXHJcbiAgICAgICAgZW1haWxWZXJpZmllZDogZmlyZWJhc2VVc2VyLmVtYWlsVmVyaWZpZWQsXHJcbiAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgIHBlcm1pc3Npb25zOiBbXSxcclxuICAgICAgICBvbmJvYXJkaW5nX2NvbXBsZXRlZDogZmFsc2UsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgdXBkYXRlZF9hdDogc2VydmVyVGltZXN0YW1wKClcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFNhdmUgdG8gRmlyZXN0b3JlXHJcbiAgICAgIGF3YWl0IHNldERvYyhkb2MoZGIsICd1c2VycycsIGZpcmViYXNlVXNlci51aWQpLCBkZWZhdWx0VXNlcik7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0VXNlcjtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNvbnZlcnRpbmcgRmlyZWJhc2UgdXNlcjonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRmlyZWJhc2VBdXRoRXJyb3IoJ1VTRVJfQ09OVkVSU0lPTl9GQUlMRUQnLCAnRmFpbGVkIHRvIGNvbnZlcnQgdXNlciBkYXRhJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZpcmViYXNlQXV0aFNlcnZpY2UgPSB7XHJcbiAgLy8gU2lnbiBpbiB3aXRoIGVtYWlsIGFuZCBwYXNzd29yZFxyXG4gIHNpZ25JbjogYXN5bmMgKGNyZWRlbnRpYWxzOiBMb2dpbkNyZWRlbnRpYWxzKTogUHJvbWlzZTxBdXRoUmVzcG9uc2U+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SQIEZpcmViYXNlIEF1dGg6IFNpZ25pbmcgaW4uLi4nKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgdXNlcjogZmlyZWJhc2VVc2VyIH0gPSBhd2FpdCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChcclxuICAgICAgICBhdXRoLFxyXG4gICAgICAgIGNyZWRlbnRpYWxzLmVtYWlsLFxyXG4gICAgICAgIGNyZWRlbnRpYWxzLnBhc3N3b3JkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgY29udmVydEZpcmViYXNlVXNlcihmaXJlYmFzZVVzZXIpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZSBBdXRoOiBTaWduIGluIHN1Y2Nlc3NmdWwnKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB1c2VyLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdTaWduIGluIHN1Y2Nlc3NmdWwnXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGaXJlYmFzZSBBdXRoOiBTaWduIGluIGZhaWxlZDonLCBlcnJvcik7XHJcblxyXG4gICAgICAvLyBIYW5kbGUgc3BlY2lmaWMgRmlyZWJhc2UgZXJyb3IgY29kZXNcclxuICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XHJcbiAgICAgICAgY2FzZSAnYXV0aC91c2VyLW5vdC1mb3VuZCc6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRmlyZWJhc2VBdXRoRXJyb3IoJ1VTRVJfTk9UX0ZPVU5EJywgJ05vIHVzZXIgZm91bmQgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3MnKTtcclxuICAgICAgICBjYXNlICdhdXRoL3dyb25nLXBhc3N3b3JkJzpcclxuICAgICAgICAgIHRocm93IG5ldyBGaXJlYmFzZUF1dGhFcnJvcignV1JPTkdfUEFTU1dPUkQnLCAnSW5jb3JyZWN0IHBhc3N3b3JkJyk7XHJcbiAgICAgICAgY2FzZSAnYXV0aC9pbnZhbGlkLWVtYWlsJzpcclxuICAgICAgICAgIHRocm93IG5ldyBGaXJlYmFzZUF1dGhFcnJvcignSU5WQUxJRF9FTUFJTCcsICdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnKTtcclxuICAgICAgICBjYXNlICdhdXRoL3VzZXItZGlzYWJsZWQnOlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdVU0VSX0RJU0FCTEVEJywgJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiBkaXNhYmxlZCcpO1xyXG4gICAgICAgIGNhc2UgJ2F1dGgvdG9vLW1hbnktcmVxdWVzdHMnOlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdUT09fTUFOWV9SRVFVRVNUUycsICdUb28gbWFueSBmYWlsZWQgYXR0ZW1wdHMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInKTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdTSUdOX0lOX0ZBSUxFRCcsIGVycm9yLm1lc3NhZ2UgfHwgJ1NpZ24gaW4gZmFpbGVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTaWduIHVwIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXHJcbiAgc2lnblVwOiBhc3luYyAodXNlckRhdGE6IFJlZ2lzdGVyRGF0YSk6IFByb21pc2U8QXV0aFJlc3BvbnNlPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TnSBGaXJlYmFzZSBBdXRoOiBTaWduaW5nIHVwLi4uJyk7XHJcblxyXG4gICAgICBjb25zdCB7IHVzZXI6IGZpcmViYXNlVXNlciB9ID0gYXdhaXQgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKFxyXG4gICAgICAgIGF1dGgsXHJcbiAgICAgICAgdXNlckRhdGEuZW1haWwsXHJcbiAgICAgICAgdXNlckRhdGEucGFzc3dvcmRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSBGaXJlYmFzZSB1c2VyIHByb2ZpbGVcclxuICAgICAgYXdhaXQgZmlyZWJhc2VVcGRhdGVQcm9maWxlKGZpcmViYXNlVXNlciwge1xyXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyRGF0YS5mdWxsX25hbWVcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdXNlciBwcm9maWxlIGluIEZpcmVzdG9yZVxyXG4gICAgICBjb25zdCB1c2VyUHJvZmlsZTogRmlyZWJhc2VVc2VyID0ge1xyXG4gICAgICAgIHVpZDogZmlyZWJhc2VVc2VyLnVpZCxcclxuICAgICAgICBlbWFpbDogZmlyZWJhc2VVc2VyLmVtYWlsLFxyXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyRGF0YS5mdWxsX25hbWUsXHJcbiAgICAgICAgcGhvdG9VUkw6IG51bGwsXHJcbiAgICAgICAgZW1haWxWZXJpZmllZDogZmFsc2UsXHJcbiAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgIHBlcm1pc3Npb25zOiBbXSxcclxuICAgICAgICBvbmJvYXJkaW5nX2NvbXBsZXRlZDogZmFsc2UsXHJcbiAgICAgICAgaW5kdXN0cnk6IHVzZXJEYXRhLmluZHVzdHJ5LFxyXG4gICAgICAgIGV4cGVyaWVuY2VfbGV2ZWw6IHVzZXJEYXRhLmV4cGVyaWVuY2VfbGV2ZWwsXHJcbiAgICAgICAgYnVzaW5lc3Nfc3RhZ2U6IHVzZXJEYXRhLmJ1c2luZXNzX3N0YWdlLFxyXG4gICAgICAgIGNvdW50cnk6IHVzZXJEYXRhLmNvdW50cnksXHJcbiAgICAgICAgc3RhdGVfcHJvdmluY2U6IHVzZXJEYXRhLnN0YXRlX3Byb3ZpbmNlLFxyXG4gICAgICAgIGNpdHk6IHVzZXJEYXRhLmNpdHksXHJcbiAgICAgICAgY3JlYXRlZF9hdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgdXBkYXRlZF9hdDogc2VydmVyVGltZXN0YW1wKClcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IHNldERvYyhkb2MoZGIsICd1c2VycycsIGZpcmViYXNlVXNlci51aWQpLCB1c2VyUHJvZmlsZSk7XHJcblxyXG4gICAgICAvLyBTZW5kIGVtYWlsIHZlcmlmaWNhdGlvblxyXG4gICAgICBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24oZmlyZWJhc2VVc2VyKTtcclxuXHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjb252ZXJ0RmlyZWJhc2VVc2VyKGZpcmViYXNlVXNlcik7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEZpcmViYXNlIEF1dGg6IFNpZ24gdXAgc3VjY2Vzc2Z1bCcpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHVzZXIsXHJcbiAgICAgICAgbWVzc2FnZTogJ0FjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24uJ1xyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2UgQXV0aDogU2lnbiB1cCBmYWlsZWQ6JywgZXJyb3IpO1xyXG5cclxuICAgICAgLy8gSGFuZGxlIHNwZWNpZmljIEZpcmViYXNlIGVycm9yIGNvZGVzXHJcbiAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xyXG4gICAgICAgIGNhc2UgJ2F1dGgvZW1haWwtYWxyZWFkeS1pbi11c2UnOlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdFTUFJTF9FWElTVFMnLCAnQW4gYWNjb3VudCB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICBjYXNlICdhdXRoL2ludmFsaWQtZW1haWwnOlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdJTlZBTElEX0VNQUlMJywgJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpO1xyXG4gICAgICAgIGNhc2UgJ2F1dGgvd2Vhay1wYXNzd29yZCc6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRmlyZWJhc2VBdXRoRXJyb3IoJ1dFQUtfUEFTU1dPUkQnLCAnUGFzc3dvcmQgc2hvdWxkIGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycycpO1xyXG4gICAgICAgIGNhc2UgJ2F1dGgvb3BlcmF0aW9uLW5vdC1hbGxvd2VkJzpcclxuICAgICAgICAgIHRocm93IG5ldyBGaXJlYmFzZUF1dGhFcnJvcignT1BFUkFUSU9OX05PVF9BTExPV0VEJywgJ0VtYWlsL3Bhc3N3b3JkIGFjY291bnRzIGFyZSBub3QgZW5hYmxlZCcpO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRmlyZWJhc2VBdXRoRXJyb3IoJ1NJR05fVVBfRkFJTEVEJywgZXJyb3IubWVzc2FnZSB8fCAnU2lnbiB1cCBmYWlsZWQnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFNpZ24gaW4gd2l0aCBHb29nbGVcclxuICBzaWduSW5XaXRoR29vZ2xlOiBhc3luYyAoKTogUHJvbWlzZTxBdXRoUmVzcG9uc2U+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SQIEZpcmViYXNlIEF1dGg6IFNpZ25pbmcgaW4gd2l0aCBHb29nbGUuLi4nKTtcclxuXHJcbiAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IEdvb2dsZUF1dGhQcm92aWRlcigpO1xyXG4gICAgICBjb25zdCB7IHVzZXI6IGZpcmViYXNlVXNlciB9ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgcHJvZmlsZSBleGlzdHMsIGNyZWF0ZSBpZiBub3RcclxuICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGdldERvYyhkb2MoZGIsICd1c2VycycsIGZpcmViYXNlVXNlci51aWQpKTtcclxuXHJcbiAgICAgIGlmICghdXNlckRvYy5leGlzdHMoKSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJQcm9maWxlOiBGaXJlYmFzZVVzZXIgPSB7XHJcbiAgICAgICAgICB1aWQ6IGZpcmViYXNlVXNlci51aWQsXHJcbiAgICAgICAgICBlbWFpbDogZmlyZWJhc2VVc2VyLmVtYWlsLFxyXG4gICAgICAgICAgZGlzcGxheU5hbWU6IGZpcmViYXNlVXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgIHBob3RvVVJMOiBmaXJlYmFzZVVzZXIucGhvdG9VUkwsXHJcbiAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBmaXJlYmFzZVVzZXIuZW1haWxWZXJpZmllZCxcclxuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcclxuICAgICAgICAgIHBlcm1pc3Npb25zOiBbXSxcclxuICAgICAgICAgIG9uYm9hcmRpbmdfY29tcGxldGVkOiBmYWxzZSxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICAgICAgdXBkYXRlZF9hdDogc2VydmVyVGltZXN0YW1wKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAndXNlcnMnLCBmaXJlYmFzZVVzZXIudWlkKSwgdXNlclByb2ZpbGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgY29udmVydEZpcmViYXNlVXNlcihmaXJlYmFzZVVzZXIpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZSBBdXRoOiBHb29nbGUgc2lnbiBpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlcixcclxuICAgICAgICBtZXNzYWdlOiAnR29vZ2xlIHNpZ24gaW4gc3VjY2Vzc2Z1bCdcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZpcmViYXNlIEF1dGg6IEdvb2dsZSBzaWduIGluIGZhaWxlZDonLCBlcnJvcik7XHJcblxyXG4gICAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcclxuICAgICAgICBjYXNlICdhdXRoL3BvcHVwLWNsb3NlZC1ieS11c2VyJzpcclxuICAgICAgICAgIHRocm93IG5ldyBGaXJlYmFzZUF1dGhFcnJvcignUE9QVVBfQ0xPU0VEJywgJ1NpZ24gaW4gcG9wdXAgd2FzIGNsb3NlZCcpO1xyXG4gICAgICAgIGNhc2UgJ2F1dGgvY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3QnOlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdQT1BVUF9DQU5DRUxMRUQnLCAnU2lnbiBpbiB3YXMgY2FuY2VsbGVkJyk7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRocm93IG5ldyBGaXJlYmFzZUF1dGhFcnJvcignR09PR0xFX1NJR05fSU5fRkFJTEVEJywgZXJyb3IubWVzc2FnZSB8fCAnR29vZ2xlIHNpZ24gaW4gZmFpbGVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTaWduIG91dFxyXG4gIHNpZ25PdXQ6IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qqIEZpcmViYXNlIEF1dGg6IFNpZ25pbmcgb3V0Li4uJyk7XHJcbiAgICAgIGF3YWl0IHNpZ25PdXQoYXV0aCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlyZWJhc2UgQXV0aDogU2lnbiBvdXQgc3VjY2Vzc2Z1bCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2UgQXV0aDogU2lnbiBvdXQgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdTSUdOX09VVF9GQUlMRUQnLCBlcnJvci5tZXNzYWdlIHx8ICdTaWduIG91dCBmYWlsZWQnKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBHZXQgY3VycmVudCB1c2VyXHJcbiAgZ2V0Q3VycmVudFVzZXI6ICgpOiBVc2VyIHwgbnVsbCA9PiB7XHJcbiAgICByZXR1cm4gYXV0aC5jdXJyZW50VXNlcjtcclxuICB9LFxyXG5cclxuICAvLyBVcGRhdGUgdXNlciBwcm9maWxlXHJcbiAgdXBkYXRlUHJvZmlsZTogYXN5bmMgKHByb2ZpbGVEYXRhOiBQYXJ0aWFsPEZpcmViYXNlVXNlcj4pOiBQcm9taXNlPEZpcmViYXNlVXNlcj4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xyXG4gICAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdOT19VU0VSJywgJ05vIGF1dGhlbnRpY2F0ZWQgdXNlcicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBGaXJlYmFzZSBBdXRoOiBVcGRhdGluZyBwcm9maWxlLi4uJyk7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgRmlyZWJhc2UgQXV0aCBwcm9maWxlIGlmIGRpc3BsYXkgbmFtZSBvciBwaG90byBVUkwgY2hhbmdlZFxyXG4gICAgICBpZiAocHJvZmlsZURhdGEuZGlzcGxheU5hbWUgfHwgcHJvZmlsZURhdGEucGhvdG9VUkwpIHtcclxuICAgICAgICBhd2FpdCBmaXJlYmFzZVVwZGF0ZVByb2ZpbGUoY3VycmVudFVzZXIsIHtcclxuICAgICAgICAgIGRpc3BsYXlOYW1lOiBwcm9maWxlRGF0YS5kaXNwbGF5TmFtZSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICBwaG90b1VSTDogcHJvZmlsZURhdGEucGhvdG9VUkwgfHwgdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSBGaXJlc3RvcmUgcHJvZmlsZVxyXG4gICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCBjdXJyZW50VXNlci51aWQpO1xyXG4gICAgICBhd2FpdCB1cGRhdGVEb2ModXNlclJlZiwge1xyXG4gICAgICAgIC4uLnByb2ZpbGVEYXRhLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNvbnZlcnRGaXJlYmFzZVVzZXIoY3VycmVudFVzZXIpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZSBBdXRoOiBQcm9maWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2UgQXV0aDogUHJvZmlsZSB1cGRhdGUgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEZpcmViYXNlQXV0aEVycm9yKCdQUk9GSUxFX1VQREFURV9GQUlMRUQnLCBlcnJvci5tZXNzYWdlIHx8ICdQcm9maWxlIHVwZGF0ZSBmYWlsZWQnKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBSZXNldCBwYXNzd29yZFxyXG4gIHJlc2V0UGFzc3dvcmQ6IGFzeW5jIChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBGaXJlYmFzZSBBdXRoOiBTZW5kaW5nIHBhc3N3b3JkIHJlc2V0IGVtYWlsLi4uJyk7XHJcbiAgICAgIGF3YWl0IHNlbmRQYXNzd29yZFJlc2V0RW1haWwoYXV0aCwgZW1haWwpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEZpcmViYXNlIEF1dGg6IFBhc3N3b3JkIHJlc2V0IGVtYWlsIHNlbnQnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZpcmViYXNlIEF1dGg6IFBhc3N3b3JkIHJlc2V0IGZhaWxlZDonLCBlcnJvcik7XHJcblxyXG4gICAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcclxuICAgICAgICBjYXNlICdhdXRoL3VzZXItbm90LWZvdW5kJzpcclxuICAgICAgICAgIHRocm93IG5ldyBGaXJlYmFzZUF1dGhFcnJvcignVVNFUl9OT1RfRk9VTkQnLCAnTm8gdXNlciBmb3VuZCB3aXRoIHRoaXMgZW1haWwgYWRkcmVzcycpO1xyXG4gICAgICAgIGNhc2UgJ2F1dGgvaW52YWxpZC1lbWFpbCc6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRmlyZWJhc2VBdXRoRXJyb3IoJ0lOVkFMSURfRU1BSUwnLCAnSW52YWxpZCBlbWFpbCBhZGRyZXNzJyk7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRocm93IG5ldyBGaXJlYmFzZUF1dGhFcnJvcignUEFTU1dPUkRfUkVTRVRfRkFJTEVEJywgZXJyb3IubWVzc2FnZSB8fCAnUGFzc3dvcmQgcmVzZXQgZmFpbGVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcclxuICBpc0F1dGhlbnRpY2F0ZWQ6ICgpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiAhIWF1dGguY3VycmVudFVzZXI7XHJcbiAgfSxcclxuXHJcbiAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgYWRtaW4gcHJpdmlsZWdlc1xyXG4gIGlzQWRtaW46ICh1c2VyOiBGaXJlYmFzZVVzZXIgfCBudWxsKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gdXNlcj8ucm9sZSA9PT0gJ3N1cGVyX2FkbWluJyB8fCB1c2VyPy5yb2xlID09PSAnY29udGVudF9tYW5hZ2VyJyB8fCB1c2VyPy5yb2xlID09PSAnY29tbXVuaXR5X21hbmFnZXInO1xyXG4gIH0sXHJcblxyXG4gIC8vIENoZWNrIGlmIHVzZXIgaXMgc3VwZXIgYWRtaW5cclxuICBpc1N1cGVyQWRtaW46ICh1c2VyOiBGaXJlYmFzZVVzZXIgfCBudWxsKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gdXNlcj8ucm9sZSA9PT0gJ3N1cGVyX2FkbWluJztcclxuICB9LFxyXG5cclxuICAvLyBBdXRoIHN0YXRlIGNoYW5nZSBsaXN0ZW5lclxyXG4gIG9uQXV0aFN0YXRlQ2hhbmdlZDogKGNhbGxiYWNrOiAodXNlcjogRmlyZWJhc2VVc2VyIHwgbnVsbCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgcmV0dXJuIG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAoZmlyZWJhc2VVc2VyKSA9PiB7XHJcbiAgICAgIGlmIChmaXJlYmFzZVVzZXIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNvbnZlcnRGaXJlYmFzZVVzZXIoZmlyZWJhc2VVc2VyKTtcclxuICAgICAgICAgIGNhbGxiYWNrKHVzZXIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gYXV0aCBzdGF0ZSBjaGFuZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgY2FsbGJhY2sobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCIsImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsInNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJzaWduSW5XaXRoUG9wdXAiLCJ1cGRhdGVQcm9maWxlIiwiZmlyZWJhc2VVcGRhdGVQcm9maWxlIiwic2VuZEVtYWlsVmVyaWZpY2F0aW9uIiwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbCIsImF1dGgiLCJkb2MiLCJzZXREb2MiLCJnZXREb2MiLCJ1cGRhdGVEb2MiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJkYiIsIkZpcmViYXNlQXV0aEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsImNvZGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsIm5hbWUiLCJjb252ZXJ0RmlyZWJhc2VVc2VyIiwiZmlyZWJhc2VVc2VyIiwidXNlckRvYyIsInVpZCIsImV4aXN0cyIsInVzZXJEYXRhIiwiZGF0YSIsImVtYWlsIiwiZGlzcGxheU5hbWUiLCJwaG90b1VSTCIsImVtYWlsVmVyaWZpZWQiLCJyb2xlIiwicGVybWlzc2lvbnMiLCJvbmJvYXJkaW5nX2NvbXBsZXRlZCIsImluZHVzdHJ5IiwiZXhwZXJpZW5jZV9sZXZlbCIsImJ1c2luZXNzX3N0YWdlIiwiY291bnRyeSIsInN0YXRlX3Byb3ZpbmNlIiwiY2l0eSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiZGVmYXVsdFVzZXIiLCJlcnJvciIsImNvbnNvbGUiLCJmaXJlYmFzZUF1dGhTZXJ2aWNlIiwic2lnbkluIiwiY3JlZGVudGlhbHMiLCJsb2ciLCJ1c2VyIiwicGFzc3dvcmQiLCJzaWduVXAiLCJmdWxsX25hbWUiLCJ1c2VyUHJvZmlsZSIsInNpZ25JbldpdGhHb29nbGUiLCJwcm92aWRlciIsImdldEN1cnJlbnRVc2VyIiwiY3VycmVudFVzZXIiLCJwcm9maWxlRGF0YSIsInVuZGVmaW5lZCIsInVzZXJSZWYiLCJyZXNldFBhc3N3b3JkIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNBZG1pbiIsImlzU3VwZXJBZG1pbiIsImNhbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/firebaseAuth.ts\n");

/***/ }),

/***/ "./src/lib/mysql.ts":
/*!**************************!*\
  !*** ./src/lib/mysql.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_BASE_URL: () => (/* binding */ API_BASE_URL),\n/* harmony export */   dbConfig: () => (/* binding */ dbConfig),\n/* harmony export */   getConnectionString: () => (/* binding */ getConnectionString),\n/* harmony export */   getEnvConfig: () => (/* binding */ getEnvConfig)\n/* harmony export */ });\n// MySQL Database Configuration\n// Note: In a production React app, you would typically use a backend API\n// This is for demonstration purposes - you'll need a backend server\nconst dbConfig = {\n    host: \"localhost\",\n    port: 3306,\n    user: \"root\",\n    password: \"\",\n    database: \"forward_africa_db\"\n};\n// API Base URL for backend communication\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3002/api\";\n// Database connection string (for reference)\nconst getConnectionString = ()=>{\n    return `mysql://${dbConfig.user}:${dbConfig.password}@${dbConfig.host}:${dbConfig.port}/${dbConfig.database}`;\n};\n// Environment variables (create a .env.local file in your project root)\n// NEXT_PUBLIC_API_URL=http://localhost:3002/api\n// NEXT_PUBLIC_APP_URL=http://localhost:3000\n// NEXT_PUBLIC_DB_HOST=localhost\n// NEXT_PUBLIC_DB_PORT=3306\n// NEXT_PUBLIC_DB_NAME=forward_africa_db\nconst getEnvConfig = ()=>{\n    return {\n        host: process.env.NEXT_PUBLIC_DB_HOST || \"localhost\",\n        port: parseInt(process.env.NEXT_PUBLIC_DB_PORT || \"3306\"),\n        user: \"root\",\n        password: \"\",\n        database: process.env.NEXT_PUBLIC_DB_NAME || \"forward_africa_db\",\n        apiUrl: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3002/api\"\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL215c3FsLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSwrQkFBK0I7QUFDL0IseUVBQXlFO0FBQ3pFLG9FQUFvRTtBQVU3RCxNQUFNQSxXQUEyQjtJQUN0Q0MsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsVUFBVTtJQUNWQyxVQUFVO0FBQ1osRUFBRTtBQUVGLHlDQUF5QztBQUNsQyxNQUFNQyxlQUFlQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJLDRCQUE0QjtBQUUzRiw2Q0FBNkM7QUFDdEMsTUFBTUMsc0JBQXNCO0lBQ2pDLE9BQU8sQ0FBQyxRQUFRLEVBQUVWLFNBQVNHLElBQUksQ0FBQyxDQUFDLEVBQUVILFNBQVNJLFFBQVEsQ0FBQyxDQUFDLEVBQUVKLFNBQVNDLElBQUksQ0FBQyxDQUFDLEVBQUVELFNBQVNFLElBQUksQ0FBQyxDQUFDLEVBQUVGLFNBQVNLLFFBQVEsQ0FBQyxDQUFDO0FBQy9HLEVBQUU7QUFFRix3RUFBd0U7QUFDeEUsZ0RBQWdEO0FBQ2hELDRDQUE0QztBQUM1QyxnQ0FBZ0M7QUFDaEMsMkJBQTJCO0FBQzNCLHdDQUF3QztBQUVqQyxNQUFNTSxlQUFlO0lBQzFCLE9BQU87UUFDTFYsTUFBTU0sUUFBUUMsR0FBRyxDQUFDSSxtQkFBbUIsSUFBSTtRQUN6Q1YsTUFBTVcsU0FBU04sUUFBUUMsR0FBRyxDQUFDTSxtQkFBbUIsSUFBSTtRQUNsRFgsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLFVBQVVFLFFBQVFDLEdBQUcsQ0FBQ08sbUJBQW1CLElBQUk7UUFDN0NDLFFBQVFULFFBQVFDLEdBQUcsQ0FBQ0MsbUJBQW1CLElBQUk7SUFDN0M7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFzdGVyc3RyZWFtLWxlYXJuaW5nLXBsYXRmb3JtLy4vc3JjL2xpYi9teXNxbC50cz8xZjk0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIE15U1FMIERhdGFiYXNlIENvbmZpZ3VyYXRpb25cclxuLy8gTm90ZTogSW4gYSBwcm9kdWN0aW9uIFJlYWN0IGFwcCwgeW91IHdvdWxkIHR5cGljYWxseSB1c2UgYSBiYWNrZW5kIEFQSVxyXG4vLyBUaGlzIGlzIGZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzIC0geW91J2xsIG5lZWQgYSBiYWNrZW5kIHNlcnZlclxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEYXRhYmFzZUNvbmZpZyB7XHJcbiAgaG9zdDogc3RyaW5nO1xyXG4gIHBvcnQ6IG51bWJlcjtcclxuICB1c2VyOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxuICBkYXRhYmFzZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGJDb25maWc6IERhdGFiYXNlQ29uZmlnID0ge1xyXG4gIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gIHBvcnQ6IDMzMDYsXHJcbiAgdXNlcjogJ3Jvb3QnLCAvLyBDaGFuZ2UgdGhpcyB0byB5b3VyIE15U1FMIHVzZXJuYW1lXHJcbiAgcGFzc3dvcmQ6ICcnLCAvLyBDaGFuZ2UgdGhpcyB0byB5b3VyIE15U1FMIHBhc3N3b3JkXHJcbiAgZGF0YWJhc2U6ICdmb3J3YXJkX2FmcmljYV9kYidcclxufTtcclxuXHJcbi8vIEFQSSBCYXNlIFVSTCBmb3IgYmFja2VuZCBjb21tdW5pY2F0aW9uXHJcbmV4cG9ydCBjb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpJztcclxuXHJcbi8vIERhdGFiYXNlIGNvbm5lY3Rpb24gc3RyaW5nIChmb3IgcmVmZXJlbmNlKVxyXG5leHBvcnQgY29uc3QgZ2V0Q29ubmVjdGlvblN0cmluZyA9ICgpID0+IHtcclxuICByZXR1cm4gYG15c3FsOi8vJHtkYkNvbmZpZy51c2VyfToke2RiQ29uZmlnLnBhc3N3b3JkfUAke2RiQ29uZmlnLmhvc3R9OiR7ZGJDb25maWcucG9ydH0vJHtkYkNvbmZpZy5kYXRhYmFzZX1gO1xyXG59O1xyXG5cclxuLy8gRW52aXJvbm1lbnQgdmFyaWFibGVzIChjcmVhdGUgYSAuZW52LmxvY2FsIGZpbGUgaW4geW91ciBwcm9qZWN0IHJvb3QpXHJcbi8vIE5FWFRfUFVCTElDX0FQSV9VUkw9aHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaVxyXG4vLyBORVhUX1BVQkxJQ19BUFBfVVJMPWh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFxyXG4vLyBORVhUX1BVQkxJQ19EQl9IT1NUPWxvY2FsaG9zdFxyXG4vLyBORVhUX1BVQkxJQ19EQl9QT1JUPTMzMDZcclxuLy8gTkVYVF9QVUJMSUNfREJfTkFNRT1mb3J3YXJkX2FmcmljYV9kYlxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEVudkNvbmZpZyA9ICgpID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgaG9zdDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfREJfSE9TVCB8fCAnbG9jYWxob3N0JyxcclxuICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0RCX1BPUlQgfHwgJzMzMDYnKSxcclxuICAgIHVzZXI6ICdyb290JywgLy8gRGF0YWJhc2UgdXNlciBzaG91bGQgbm90IGJlIGV4cG9zZWQgdG8gZnJvbnRlbmRcclxuICAgIHBhc3N3b3JkOiAnJywgLy8gRGF0YWJhc2UgcGFzc3dvcmQgc2hvdWxkIG5vdCBiZSBleHBvc2VkIHRvIGZyb250ZW5kXHJcbiAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfREJfTkFNRSB8fCAnZm9yd2FyZF9hZnJpY2FfZGInLFxyXG4gICAgYXBpVXJsOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpJ1xyXG4gIH07XHJcbn07Il0sIm5hbWVzIjpbImRiQ29uZmlnIiwiaG9zdCIsInBvcnQiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZ2V0Q29ubmVjdGlvblN0cmluZyIsImdldEVudkNvbmZpZyIsIk5FWFRfUFVCTElDX0RCX0hPU1QiLCJwYXJzZUludCIsIk5FWFRfUFVCTElDX0RCX1BPUlQiLCJORVhUX1BVQkxJQ19EQl9OQU1FIiwiYXBpVXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/mysql.ts\n");

/***/ }),

/***/ "./src/types/index.ts":
/*!****************************!*\
  !*** ./src/types/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ROLE_HIERARCHY: () => (/* binding */ ROLE_HIERARCHY),\n/* harmony export */   ROLE_PERMISSIONS: () => (/* binding */ ROLE_PERMISSIONS),\n/* harmony export */   canManageRole: () => (/* binding */ canManageRole),\n/* harmony export */   hasAllPermissions: () => (/* binding */ hasAllPermissions),\n/* harmony export */   hasAnyPermission: () => (/* binding */ hasAnyPermission),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission)\n/* harmony export */ });\n/**\n * Core type definitions for the application\n */ // User and Authentication Types\n// Role Permission Matrix\nconst ROLE_PERMISSIONS = {\n    super_admin: [\n        // Full system access\n        \"system:full_access\",\n        \"system:configuration\",\n        \"system:maintenance\",\n        \"system:backup\",\n        // All user management\n        \"users:view\",\n        \"users:create\",\n        \"users:edit\",\n        \"users:delete\",\n        \"users:assign_roles\",\n        \"users:suspend\",\n        \"users:activate\",\n        // All content management\n        \"content:upload\",\n        \"content:edit\",\n        \"content:delete\",\n        \"content:publish\",\n        \"content:review\",\n        \"content:workflow\",\n        // All course management\n        \"courses:view\",\n        \"courses:create\",\n        \"courses:edit\",\n        \"courses:delete\",\n        \"courses:publish\",\n        \"courses:assign_instructors\",\n        // All instructor management\n        \"instructors:view\",\n        \"instructors:create\",\n        \"instructors:edit\",\n        \"instructors:delete\",\n        \"instructors:approve\",\n        // All community management\n        \"community:moderate\",\n        \"community:ban_users\",\n        \"community:delete_posts\",\n        \"community:pin_posts\",\n        \"community:analytics\",\n        // All support management\n        \"support:view_tickets\",\n        \"support:respond_tickets\",\n        \"support:escalate_tickets\",\n        \"support:close_tickets\",\n        // All analytics and financial\n        \"analytics:view\",\n        \"analytics:export\",\n        \"financial:view\",\n        \"financial:export\",\n        \"financial:refund\",\n        // All communication\n        \"communication:send_announcements\",\n        \"communication:send_emails\",\n        \"communication:send_notifications\",\n        // All audit and security\n        \"audit:view_logs\",\n        \"audit:export_logs\",\n        \"security:view_sessions\",\n        \"security:terminate_sessions\"\n    ],\n    content_manager: [\n        // Content management\n        \"content:upload\",\n        \"content:edit\",\n        \"content:delete\",\n        \"content:publish\",\n        \"content:review\",\n        \"content:workflow\",\n        // Course management\n        \"courses:view\",\n        \"courses:create\",\n        \"courses:edit\",\n        \"courses:delete\",\n        \"courses:publish\",\n        \"courses:assign_instructors\",\n        // Instructor management\n        \"instructors:view\",\n        \"instructors:create\",\n        \"instructors:edit\",\n        \"instructors:approve\",\n        // Limited user management\n        \"users:view\",\n        \"users:edit\",\n        // Basic analytics\n        \"analytics:view\",\n        // Communication\n        \"communication:send_announcements\",\n        \"communication:send_notifications\"\n    ],\n    community_manager: [\n        // Community management\n        \"community:moderate\",\n        \"community:ban_users\",\n        \"community:delete_posts\",\n        \"community:pin_posts\",\n        \"community:analytics\",\n        // Support management\n        \"support:view_tickets\",\n        \"support:respond_tickets\",\n        \"support:close_tickets\",\n        // Limited user management\n        \"users:view\",\n        \"users:suspend\",\n        \"users:activate\",\n        // Communication\n        \"communication:send_announcements\",\n        \"communication:send_notifications\",\n        // Basic analytics\n        \"analytics:view\"\n    ],\n    user_support: [\n        // Support management\n        \"support:view_tickets\",\n        \"support:respond_tickets\",\n        \"support:escalate_tickets\",\n        \"support:close_tickets\",\n        // Limited user management\n        \"users:view\",\n        \"users:edit\",\n        // Basic communication\n        \"communication:send_notifications\",\n        // Limited analytics\n        \"analytics:view\"\n    ],\n    user: [\n        // Basic permissions for regular users\n        \"courses:view\"\n    ]\n};\n// Permission Check Helper\nconst hasPermission = (userPermissions, requiredPermission)=>{\n    return userPermissions.includes(requiredPermission) || userPermissions.includes(\"system:full_access\");\n};\nconst hasAnyPermission = (userPermissions, requiredPermissions)=>{\n    return requiredPermissions.some((permission)=>hasPermission(userPermissions, permission));\n};\nconst hasAllPermissions = (userPermissions, requiredPermissions)=>{\n    return requiredPermissions.every((permission)=>hasPermission(userPermissions, permission));\n};\n// Role Hierarchy\nconst ROLE_HIERARCHY = {\n    super_admin: 5,\n    content_manager: 4,\n    community_manager: 3,\n    user_support: 2,\n    user: 1\n};\nconst canManageRole = (currentUserRole, targetRole)=>{\n    return ROLE_HIERARCHY[currentUserRole] > ROLE_HIERARCHY[targetRole];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0NBRUMsR0FFRCxnQ0FBZ0M7QUFxSGhDLHlCQUF5QjtBQUNsQixNQUFNQSxtQkFBbUQ7SUFDOURDLGFBQWE7UUFDWCxxQkFBcUI7UUFDckI7UUFDQTtRQUNBO1FBQ0E7UUFFQSxzQkFBc0I7UUFDdEI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFFQSx5QkFBeUI7UUFDekI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBRUEsd0JBQXdCO1FBQ3hCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUVBLDRCQUE0QjtRQUM1QjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBRUEsMkJBQTJCO1FBQzNCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFFQSx5QkFBeUI7UUFDekI7UUFDQTtRQUNBO1FBQ0E7UUFFQSw4QkFBOEI7UUFDOUI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUVBLG9CQUFvQjtRQUNwQjtRQUNBO1FBQ0E7UUFFQSx5QkFBeUI7UUFDekI7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVEQyxpQkFBaUI7UUFDZixxQkFBcUI7UUFDckI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBRUEsb0JBQW9CO1FBQ3BCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUVBLHdCQUF3QjtRQUN4QjtRQUNBO1FBQ0E7UUFDQTtRQUVBLDBCQUEwQjtRQUMxQjtRQUNBO1FBRUEsa0JBQWtCO1FBQ2xCO1FBRUEsZ0JBQWdCO1FBQ2hCO1FBQ0E7S0FDRDtJQUVEQyxtQkFBbUI7UUFDakIsdUJBQXVCO1FBQ3ZCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFFQSxxQkFBcUI7UUFDckI7UUFDQTtRQUNBO1FBRUEsMEJBQTBCO1FBQzFCO1FBQ0E7UUFDQTtRQUVBLGdCQUFnQjtRQUNoQjtRQUNBO1FBRUEsa0JBQWtCO1FBQ2xCO0tBQ0Q7SUFFREMsY0FBYztRQUNaLHFCQUFxQjtRQUNyQjtRQUNBO1FBQ0E7UUFDQTtRQUVBLDBCQUEwQjtRQUMxQjtRQUNBO1FBRUEsc0JBQXNCO1FBQ3RCO1FBRUEsb0JBQW9CO1FBQ3BCO0tBQ0Q7SUFFREMsTUFBTTtRQUNKLHNDQUFzQztRQUN0QztLQUNEO0FBQ0gsRUFBRTtBQTZCRiwwQkFBMEI7QUFDbkIsTUFBTUMsZ0JBQWdCLENBQUNDLGlCQUErQkM7SUFDM0QsT0FBT0QsZ0JBQWdCRSxRQUFRLENBQUNELHVCQUF1QkQsZ0JBQWdCRSxRQUFRLENBQUM7QUFDbEYsRUFBRTtBQUVLLE1BQU1DLG1CQUFtQixDQUFDSCxpQkFBK0JJO0lBQzlELE9BQU9BLG9CQUFvQkMsSUFBSSxDQUFDQyxDQUFBQSxhQUFjUCxjQUFjQyxpQkFBaUJNO0FBQy9FLEVBQUU7QUFFSyxNQUFNQyxvQkFBb0IsQ0FBQ1AsaUJBQStCSTtJQUMvRCxPQUFPQSxvQkFBb0JJLEtBQUssQ0FBQ0YsQ0FBQUEsYUFBY1AsY0FBY0MsaUJBQWlCTTtBQUNoRixFQUFFO0FBRUYsaUJBQWlCO0FBQ1YsTUFBTUcsaUJBQTJDO0lBQ3REZixhQUFhO0lBQ2JDLGlCQUFpQjtJQUNqQkMsbUJBQW1CO0lBQ25CQyxjQUFjO0lBQ2RDLE1BQU07QUFDUixFQUFFO0FBRUssTUFBTVksZ0JBQWdCLENBQUNDLGlCQUEyQkM7SUFDdkQsT0FBT0gsY0FBYyxDQUFDRSxnQkFBZ0IsR0FBR0YsY0FBYyxDQUFDRyxXQUFXO0FBQ3JFLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXJzdHJlYW0tbGVhcm5pbmctcGxhdGZvcm0vLi9zcmMvdHlwZXMvaW5kZXgudHM/NDQxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcmUgdHlwZSBkZWZpbml0aW9ucyBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gKi9cblxuLy8gVXNlciBhbmQgQXV0aGVudGljYXRpb24gVHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGZ1bGxfbmFtZTogc3RyaW5nO1xuICBhdmF0YXJfdXJsPzogc3RyaW5nO1xuICByb2xlOiBVc2VyUm9sZTtcbiAgcGVybWlzc2lvbnM6IFBlcm1pc3Npb25bXTtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIGxhc3RfbG9naW4/OiBzdHJpbmc7XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbiAgb25ib2FyZGluZ19jb21wbGV0ZWQ6IGJvb2xlYW47XG59XG5cbi8vIFJvbGUgRGVmaW5pdGlvbnNcbmV4cG9ydCB0eXBlIFVzZXJSb2xlID0gJ3N1cGVyX2FkbWluJyB8ICdjb250ZW50X21hbmFnZXInIHwgJ2NvbW11bml0eV9tYW5hZ2VyJyB8ICd1c2VyX3N1cHBvcnQnIHwgJ3VzZXInO1xuXG4vLyBXb3JrZmxvdyBUeXBlc1xuZXhwb3J0IHR5cGUgV29ya2Zsb3dTdGF0dXMgPSAnZHJhZnQnIHwgJ3JldmlldycgfCAnYXBwcm92ZWQnIHwgJ3B1Ymxpc2hlZCcgfCAnYXJjaGl2ZWQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtmbG93IHtcbiAgaWQ6IHN0cmluZztcbiAgY29udGVudF9pZDogc3RyaW5nO1xuICBjb250ZW50X3R5cGU6ICdjb3Vyc2UnIHwgJ2xlc3NvbicgfCAndmlkZW8nO1xuICBzdGF0dXM6IFdvcmtmbG93U3RhdHVzO1xuICBjdXJyZW50X3Jldmlld2VyX2lkOiBzdHJpbmc7XG4gIHJldmlld19ub3Rlczogc3RyaW5nO1xuICByZXZpZXdfZGVhZGxpbmU6IHN0cmluZztcbiAgcHVibGlzaGVkX2F0OiBzdHJpbmc7XG4gIGFyY2hpdmVkX2F0OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtmbG93SGlzdG9yeSB7XG4gIGlkOiBzdHJpbmc7XG4gIHdvcmtmbG93X2lkOiBzdHJpbmc7XG4gIGZyb21fc3RhdHVzPzogV29ya2Zsb3dTdGF0dXM7XG4gIHRvX3N0YXR1czogV29ya2Zsb3dTdGF0dXM7XG4gIGNoYW5nZWRfYnk6IHN0cmluZztcbiAgY2hhbmdlZF9ieV9uYW1lPzogc3RyaW5nO1xuICBub3Rlcz86IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG4vLyBQZXJtaXNzaW9uIFR5cGVzXG5leHBvcnQgdHlwZSBQZXJtaXNzaW9uID1cbiAgLy8gU3lzdGVtIE1hbmFnZW1lbnRcbiAgfCAnc3lzdGVtOmZ1bGxfYWNjZXNzJ1xuICB8ICdzeXN0ZW06Y29uZmlndXJhdGlvbidcbiAgfCAnc3lzdGVtOm1haW50ZW5hbmNlJ1xuICB8ICdzeXN0ZW06YmFja3VwJ1xuXG4gIC8vIFVzZXIgTWFuYWdlbWVudFxuICB8ICd1c2Vyczp2aWV3J1xuICB8ICd1c2VyczpjcmVhdGUnXG4gIHwgJ3VzZXJzOmVkaXQnXG4gIHwgJ3VzZXJzOmRlbGV0ZSdcbiAgfCAndXNlcnM6YXNzaWduX3JvbGVzJ1xuICB8ICd1c2VyczpzdXNwZW5kJ1xuICB8ICd1c2VyczphY3RpdmF0ZSdcblxuICAvLyBDb250ZW50IE1hbmFnZW1lbnRcbiAgfCAnY29udGVudDp1cGxvYWQnXG4gIHwgJ2NvbnRlbnQ6ZWRpdCdcbiAgfCAnY29udGVudDpkZWxldGUnXG4gIHwgJ2NvbnRlbnQ6cHVibGlzaCdcbiAgfCAnY29udGVudDpyZXZpZXcnXG4gIHwgJ2NvbnRlbnQ6d29ya2Zsb3cnXG5cbiAgLy8gQ291cnNlIE1hbmFnZW1lbnRcbiAgfCAnY291cnNlczp2aWV3J1xuICB8ICdjb3Vyc2VzOmNyZWF0ZSdcbiAgfCAnY291cnNlczplZGl0J1xuICB8ICdjb3Vyc2VzOmRlbGV0ZSdcbiAgfCAnY291cnNlczpwdWJsaXNoJ1xuICB8ICdjb3Vyc2VzOmFzc2lnbl9pbnN0cnVjdG9ycydcblxuICAvLyBJbnN0cnVjdG9yIE1hbmFnZW1lbnRcbiAgfCAnaW5zdHJ1Y3RvcnM6dmlldydcbiAgfCAnaW5zdHJ1Y3RvcnM6Y3JlYXRlJ1xuICB8ICdpbnN0cnVjdG9yczplZGl0J1xuICB8ICdpbnN0cnVjdG9yczpkZWxldGUnXG4gIHwgJ2luc3RydWN0b3JzOmFwcHJvdmUnXG5cbiAgLy8gQ29tbXVuaXR5IE1hbmFnZW1lbnRcbiAgfCAnY29tbXVuaXR5Om1vZGVyYXRlJ1xuICB8ICdjb21tdW5pdHk6YmFuX3VzZXJzJ1xuICB8ICdjb21tdW5pdHk6ZGVsZXRlX3Bvc3RzJ1xuICB8ICdjb21tdW5pdHk6cGluX3Bvc3RzJ1xuICB8ICdjb21tdW5pdHk6YW5hbHl0aWNzJ1xuXG4gIC8vIFN1cHBvcnQgTWFuYWdlbWVudFxuICB8ICdzdXBwb3J0OnZpZXdfdGlja2V0cydcbiAgfCAnc3VwcG9ydDpyZXNwb25kX3RpY2tldHMnXG4gIHwgJ3N1cHBvcnQ6ZXNjYWxhdGVfdGlja2V0cydcbiAgfCAnc3VwcG9ydDpjbG9zZV90aWNrZXRzJ1xuXG4gIC8vIEZpbmFuY2lhbCAmIEFuYWx5dGljc1xuICB8ICdhbmFseXRpY3M6dmlldydcbiAgfCAnYW5hbHl0aWNzOmV4cG9ydCdcbiAgfCAnZmluYW5jaWFsOnZpZXcnXG4gIHwgJ2ZpbmFuY2lhbDpleHBvcnQnXG4gIHwgJ2ZpbmFuY2lhbDpyZWZ1bmQnXG5cbiAgLy8gQ29tbXVuaWNhdGlvblxuICB8ICdjb21tdW5pY2F0aW9uOnNlbmRfYW5ub3VuY2VtZW50cydcbiAgfCAnY29tbXVuaWNhdGlvbjpzZW5kX2VtYWlscydcbiAgfCAnY29tbXVuaWNhdGlvbjpzZW5kX25vdGlmaWNhdGlvbnMnXG5cbiAgLy8gQXVkaXQgJiBTZWN1cml0eVxuICB8ICdhdWRpdDp2aWV3X2xvZ3MnXG4gIHwgJ2F1ZGl0OmV4cG9ydF9sb2dzJ1xuICB8ICdzZWN1cml0eTp2aWV3X3Nlc3Npb25zJ1xuICB8ICdzZWN1cml0eTp0ZXJtaW5hdGVfc2Vzc2lvbnMnO1xuXG4vLyBSb2xlIFBlcm1pc3Npb24gTWF0cml4XG5leHBvcnQgY29uc3QgUk9MRV9QRVJNSVNTSU9OUzogUmVjb3JkPFVzZXJSb2xlLCBQZXJtaXNzaW9uW10+ID0ge1xuICBzdXBlcl9hZG1pbjogW1xuICAgIC8vIEZ1bGwgc3lzdGVtIGFjY2Vzc1xuICAgICdzeXN0ZW06ZnVsbF9hY2Nlc3MnLFxuICAgICdzeXN0ZW06Y29uZmlndXJhdGlvbicsXG4gICAgJ3N5c3RlbTptYWludGVuYW5jZScsXG4gICAgJ3N5c3RlbTpiYWNrdXAnLFxuXG4gICAgLy8gQWxsIHVzZXIgbWFuYWdlbWVudFxuICAgICd1c2Vyczp2aWV3JyxcbiAgICAndXNlcnM6Y3JlYXRlJyxcbiAgICAndXNlcnM6ZWRpdCcsXG4gICAgJ3VzZXJzOmRlbGV0ZScsXG4gICAgJ3VzZXJzOmFzc2lnbl9yb2xlcycsXG4gICAgJ3VzZXJzOnN1c3BlbmQnLFxuICAgICd1c2VyczphY3RpdmF0ZScsXG5cbiAgICAvLyBBbGwgY29udGVudCBtYW5hZ2VtZW50XG4gICAgJ2NvbnRlbnQ6dXBsb2FkJyxcbiAgICAnY29udGVudDplZGl0JyxcbiAgICAnY29udGVudDpkZWxldGUnLFxuICAgICdjb250ZW50OnB1Ymxpc2gnLFxuICAgICdjb250ZW50OnJldmlldycsXG4gICAgJ2NvbnRlbnQ6d29ya2Zsb3cnLFxuXG4gICAgLy8gQWxsIGNvdXJzZSBtYW5hZ2VtZW50XG4gICAgJ2NvdXJzZXM6dmlldycsXG4gICAgJ2NvdXJzZXM6Y3JlYXRlJyxcbiAgICAnY291cnNlczplZGl0JyxcbiAgICAnY291cnNlczpkZWxldGUnLFxuICAgICdjb3Vyc2VzOnB1Ymxpc2gnLFxuICAgICdjb3Vyc2VzOmFzc2lnbl9pbnN0cnVjdG9ycycsXG5cbiAgICAvLyBBbGwgaW5zdHJ1Y3RvciBtYW5hZ2VtZW50XG4gICAgJ2luc3RydWN0b3JzOnZpZXcnLFxuICAgICdpbnN0cnVjdG9yczpjcmVhdGUnLFxuICAgICdpbnN0cnVjdG9yczplZGl0JyxcbiAgICAnaW5zdHJ1Y3RvcnM6ZGVsZXRlJyxcbiAgICAnaW5zdHJ1Y3RvcnM6YXBwcm92ZScsXG5cbiAgICAvLyBBbGwgY29tbXVuaXR5IG1hbmFnZW1lbnRcbiAgICAnY29tbXVuaXR5Om1vZGVyYXRlJyxcbiAgICAnY29tbXVuaXR5OmJhbl91c2VycycsXG4gICAgJ2NvbW11bml0eTpkZWxldGVfcG9zdHMnLFxuICAgICdjb21tdW5pdHk6cGluX3Bvc3RzJyxcbiAgICAnY29tbXVuaXR5OmFuYWx5dGljcycsXG5cbiAgICAvLyBBbGwgc3VwcG9ydCBtYW5hZ2VtZW50XG4gICAgJ3N1cHBvcnQ6dmlld190aWNrZXRzJyxcbiAgICAnc3VwcG9ydDpyZXNwb25kX3RpY2tldHMnLFxuICAgICdzdXBwb3J0OmVzY2FsYXRlX3RpY2tldHMnLFxuICAgICdzdXBwb3J0OmNsb3NlX3RpY2tldHMnLFxuXG4gICAgLy8gQWxsIGFuYWx5dGljcyBhbmQgZmluYW5jaWFsXG4gICAgJ2FuYWx5dGljczp2aWV3JyxcbiAgICAnYW5hbHl0aWNzOmV4cG9ydCcsXG4gICAgJ2ZpbmFuY2lhbDp2aWV3JyxcbiAgICAnZmluYW5jaWFsOmV4cG9ydCcsXG4gICAgJ2ZpbmFuY2lhbDpyZWZ1bmQnLFxuXG4gICAgLy8gQWxsIGNvbW11bmljYXRpb25cbiAgICAnY29tbXVuaWNhdGlvbjpzZW5kX2Fubm91bmNlbWVudHMnLFxuICAgICdjb21tdW5pY2F0aW9uOnNlbmRfZW1haWxzJyxcbiAgICAnY29tbXVuaWNhdGlvbjpzZW5kX25vdGlmaWNhdGlvbnMnLFxuXG4gICAgLy8gQWxsIGF1ZGl0IGFuZCBzZWN1cml0eVxuICAgICdhdWRpdDp2aWV3X2xvZ3MnLFxuICAgICdhdWRpdDpleHBvcnRfbG9ncycsXG4gICAgJ3NlY3VyaXR5OnZpZXdfc2Vzc2lvbnMnLFxuICAgICdzZWN1cml0eTp0ZXJtaW5hdGVfc2Vzc2lvbnMnXG4gIF0sXG5cbiAgY29udGVudF9tYW5hZ2VyOiBbXG4gICAgLy8gQ29udGVudCBtYW5hZ2VtZW50XG4gICAgJ2NvbnRlbnQ6dXBsb2FkJyxcbiAgICAnY29udGVudDplZGl0JyxcbiAgICAnY29udGVudDpkZWxldGUnLFxuICAgICdjb250ZW50OnB1Ymxpc2gnLFxuICAgICdjb250ZW50OnJldmlldycsXG4gICAgJ2NvbnRlbnQ6d29ya2Zsb3cnLFxuXG4gICAgLy8gQ291cnNlIG1hbmFnZW1lbnRcbiAgICAnY291cnNlczp2aWV3JyxcbiAgICAnY291cnNlczpjcmVhdGUnLFxuICAgICdjb3Vyc2VzOmVkaXQnLFxuICAgICdjb3Vyc2VzOmRlbGV0ZScsXG4gICAgJ2NvdXJzZXM6cHVibGlzaCcsXG4gICAgJ2NvdXJzZXM6YXNzaWduX2luc3RydWN0b3JzJyxcblxuICAgIC8vIEluc3RydWN0b3IgbWFuYWdlbWVudFxuICAgICdpbnN0cnVjdG9yczp2aWV3JyxcbiAgICAnaW5zdHJ1Y3RvcnM6Y3JlYXRlJyxcbiAgICAnaW5zdHJ1Y3RvcnM6ZWRpdCcsXG4gICAgJ2luc3RydWN0b3JzOmFwcHJvdmUnLFxuXG4gICAgLy8gTGltaXRlZCB1c2VyIG1hbmFnZW1lbnRcbiAgICAndXNlcnM6dmlldycsXG4gICAgJ3VzZXJzOmVkaXQnLFxuXG4gICAgLy8gQmFzaWMgYW5hbHl0aWNzXG4gICAgJ2FuYWx5dGljczp2aWV3JyxcblxuICAgIC8vIENvbW11bmljYXRpb25cbiAgICAnY29tbXVuaWNhdGlvbjpzZW5kX2Fubm91bmNlbWVudHMnLFxuICAgICdjb21tdW5pY2F0aW9uOnNlbmRfbm90aWZpY2F0aW9ucydcbiAgXSxcblxuICBjb21tdW5pdHlfbWFuYWdlcjogW1xuICAgIC8vIENvbW11bml0eSBtYW5hZ2VtZW50XG4gICAgJ2NvbW11bml0eTptb2RlcmF0ZScsXG4gICAgJ2NvbW11bml0eTpiYW5fdXNlcnMnLFxuICAgICdjb21tdW5pdHk6ZGVsZXRlX3Bvc3RzJyxcbiAgICAnY29tbXVuaXR5OnBpbl9wb3N0cycsXG4gICAgJ2NvbW11bml0eTphbmFseXRpY3MnLFxuXG4gICAgLy8gU3VwcG9ydCBtYW5hZ2VtZW50XG4gICAgJ3N1cHBvcnQ6dmlld190aWNrZXRzJyxcbiAgICAnc3VwcG9ydDpyZXNwb25kX3RpY2tldHMnLFxuICAgICdzdXBwb3J0OmNsb3NlX3RpY2tldHMnLFxuXG4gICAgLy8gTGltaXRlZCB1c2VyIG1hbmFnZW1lbnRcbiAgICAndXNlcnM6dmlldycsXG4gICAgJ3VzZXJzOnN1c3BlbmQnLFxuICAgICd1c2VyczphY3RpdmF0ZScsXG5cbiAgICAvLyBDb21tdW5pY2F0aW9uXG4gICAgJ2NvbW11bmljYXRpb246c2VuZF9hbm5vdW5jZW1lbnRzJyxcbiAgICAnY29tbXVuaWNhdGlvbjpzZW5kX25vdGlmaWNhdGlvbnMnLFxuXG4gICAgLy8gQmFzaWMgYW5hbHl0aWNzXG4gICAgJ2FuYWx5dGljczp2aWV3J1xuICBdLFxuXG4gIHVzZXJfc3VwcG9ydDogW1xuICAgIC8vIFN1cHBvcnQgbWFuYWdlbWVudFxuICAgICdzdXBwb3J0OnZpZXdfdGlja2V0cycsXG4gICAgJ3N1cHBvcnQ6cmVzcG9uZF90aWNrZXRzJyxcbiAgICAnc3VwcG9ydDplc2NhbGF0ZV90aWNrZXRzJyxcbiAgICAnc3VwcG9ydDpjbG9zZV90aWNrZXRzJyxcblxuICAgIC8vIExpbWl0ZWQgdXNlciBtYW5hZ2VtZW50XG4gICAgJ3VzZXJzOnZpZXcnLFxuICAgICd1c2VyczplZGl0JyxcblxuICAgIC8vIEJhc2ljIGNvbW11bmljYXRpb25cbiAgICAnY29tbXVuaWNhdGlvbjpzZW5kX25vdGlmaWNhdGlvbnMnLFxuXG4gICAgLy8gTGltaXRlZCBhbmFseXRpY3NcbiAgICAnYW5hbHl0aWNzOnZpZXcnXG4gIF0sXG5cbiAgdXNlcjogW1xuICAgIC8vIEJhc2ljIHBlcm1pc3Npb25zIGZvciByZWd1bGFyIHVzZXJzXG4gICAgJ2NvdXJzZXM6dmlldydcbiAgXVxufTtcblxuLy8gQXVkaXQgTG9nIFR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0TG9nIHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcl9pZDogc3RyaW5nO1xuICB1c2VyX2VtYWlsOiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xuICByZXNvdXJjZV90eXBlOiBzdHJpbmc7XG4gIHJlc291cmNlX2lkPzogc3RyaW5nO1xuICBkZXRhaWxzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBpcF9hZGRyZXNzOiBzdHJpbmc7XG4gIHVzZXJfYWdlbnQ6IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG4vLyBTZXNzaW9uIE1hbmFnZW1lbnRcbmV4cG9ydCBpbnRlcmZhY2UgVXNlclNlc3Npb24ge1xuICBpZDogc3RyaW5nO1xuICB1c2VyX2lkOiBzdHJpbmc7XG4gIHRva2VuOiBzdHJpbmc7XG4gIGlwX2FkZHJlc3M6IHN0cmluZztcbiAgdXNlcl9hZ2VudDogc3RyaW5nO1xuICBpc19hY3RpdmU6IGJvb2xlYW47XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgbGFzdF9hY3Rpdml0eTogc3RyaW5nO1xuICBleHBpcmVzX2F0OiBzdHJpbmc7XG59XG5cbi8vIFBlcm1pc3Npb24gQ2hlY2sgSGVscGVyXG5leHBvcnQgY29uc3QgaGFzUGVybWlzc2lvbiA9ICh1c2VyUGVybWlzc2lvbnM6IFBlcm1pc3Npb25bXSwgcmVxdWlyZWRQZXJtaXNzaW9uOiBQZXJtaXNzaW9uKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiB1c2VyUGVybWlzc2lvbnMuaW5jbHVkZXMocmVxdWlyZWRQZXJtaXNzaW9uKSB8fCB1c2VyUGVybWlzc2lvbnMuaW5jbHVkZXMoJ3N5c3RlbTpmdWxsX2FjY2VzcycpO1xufTtcblxuZXhwb3J0IGNvbnN0IGhhc0FueVBlcm1pc3Npb24gPSAodXNlclBlcm1pc3Npb25zOiBQZXJtaXNzaW9uW10sIHJlcXVpcmVkUGVybWlzc2lvbnM6IFBlcm1pc3Npb25bXSk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gcmVxdWlyZWRQZXJtaXNzaW9ucy5zb21lKHBlcm1pc3Npb24gPT4gaGFzUGVybWlzc2lvbih1c2VyUGVybWlzc2lvbnMsIHBlcm1pc3Npb24pKTtcbn07XG5cbmV4cG9ydCBjb25zdCBoYXNBbGxQZXJtaXNzaW9ucyA9ICh1c2VyUGVybWlzc2lvbnM6IFBlcm1pc3Npb25bXSwgcmVxdWlyZWRQZXJtaXNzaW9uczogUGVybWlzc2lvbltdKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiByZXF1aXJlZFBlcm1pc3Npb25zLmV2ZXJ5KHBlcm1pc3Npb24gPT4gaGFzUGVybWlzc2lvbih1c2VyUGVybWlzc2lvbnMsIHBlcm1pc3Npb24pKTtcbn07XG5cbi8vIFJvbGUgSGllcmFyY2h5XG5leHBvcnQgY29uc3QgUk9MRV9ISUVSQVJDSFk6IFJlY29yZDxVc2VyUm9sZSwgbnVtYmVyPiA9IHtcbiAgc3VwZXJfYWRtaW46IDUsXG4gIGNvbnRlbnRfbWFuYWdlcjogNCxcbiAgY29tbXVuaXR5X21hbmFnZXI6IDMsXG4gIHVzZXJfc3VwcG9ydDogMixcbiAgdXNlcjogMVxufTtcblxuZXhwb3J0IGNvbnN0IGNhbk1hbmFnZVJvbGUgPSAoY3VycmVudFVzZXJSb2xlOiBVc2VyUm9sZSwgdGFyZ2V0Um9sZTogVXNlclJvbGUpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIFJPTEVfSElFUkFSQ0hZW2N1cnJlbnRVc2VyUm9sZV0gPiBST0xFX0hJRVJBUkNIWVt0YXJnZXRSb2xlXTtcbn07XG5cbi8qKlxuICogSW5zdHJ1Y3RvciBQcm9maWxlXG4gKiBSZXByZXNlbnRzIGEgY291cnNlIGluc3RydWN0b3Igd2l0aCB0aGVpciBwZXJzb25hbCBhbmQgcHJvZmVzc2lvbmFsIGluZm9ybWF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5zdHJ1Y3RvciB7XG4gIC8qKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGluc3RydWN0b3IgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqIEZ1bGwgbmFtZSBvZiB0aGUgaW5zdHJ1Y3RvciAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBQcm9mZXNzaW9uYWwgdGl0bGUgb3Igcm9sZSAqL1xuICB0aXRsZTogc3RyaW5nO1xuICAvKiogVVJMIHRvIGluc3RydWN0b3IncyBwcm9maWxlIGltYWdlICovXG4gIGltYWdlOiBzdHJpbmc7XG4gIC8qKiBQcm9mZXNzaW9uYWwgYmlvZ3JhcGh5ICovXG4gIGJpbzogc3RyaW5nO1xuICAvKiogRW1haWwgYWRkcmVzcyAqL1xuICBlbWFpbDogc3RyaW5nO1xuICAvKiogUGhvbmUgbnVtYmVyICovXG4gIHBob25lPzogc3RyaW5nO1xuICAvKiogQXJlYXMgb2YgZXhwZXJ0aXNlICovXG4gIGV4cGVydGlzZTogc3RyaW5nW107XG4gIC8qKiBZZWFycyBvZiBleHBlcmllbmNlICovXG4gIGV4cGVyaWVuY2U6IG51bWJlcjtcbiAgLyoqIFNvY2lhbCBtZWRpYSBsaW5rcyAqL1xuICBzb2NpYWxMaW5rcz86IHtcbiAgICBsaW5rZWRpbj86IHN0cmluZztcbiAgICB0d2l0dGVyPzogc3RyaW5nO1xuICAgIHdlYnNpdGU/OiBzdHJpbmc7XG4gIH07XG4gIC8qKiBEYXRlIHdoZW4gaW5zdHJ1Y3RvciB3YXMgYWRkZWQgKi9cbiAgY3JlYXRlZEF0OiBEYXRlO1xufVxuXG4vKipcbiAqIENvdXJzZSBMZXNzb25cbiAqIEluZGl2aWR1YWwgdmlkZW8gbGVzc29uIHdpdGhpbiBhIGNvdXJzZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExlc3NvbiB7XG4gIC8qKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGxlc3NvbiAqL1xuICBpZDogc3RyaW5nO1xuICAvKiogTGVzc29uIHRpdGxlICovXG4gIHRpdGxlOiBzdHJpbmc7XG4gIC8qKiBEdXJhdGlvbiBpbiBmb3JtYXQgXCJNTTpTU1wiICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKiBVUkwgdG8gbGVzc29uIHRodW1ibmFpbCBpbWFnZSAqL1xuICB0aHVtYm5haWw6IHN0cmluZztcbiAgLyoqIFVSTCB0byB2aWRlbyBjb250ZW50ICovXG4gIHZpZGVvVXJsOiBzdHJpbmc7XG4gIC8qKiBEZXRhaWxlZCBsZXNzb24gZGVzY3JpcHRpb24gKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqIFhQIHBvaW50cyBlYXJuZWQgZm9yIGNvbXBsZXRpbmcgdGhlIGxlc3NvbiAqL1xuICB4cFBvaW50czogbnVtYmVyO1xufVxuXG4vKipcbiAqIENvdXJzZVxuICogQ29tcGxldGUgY291cnNlIGluZm9ybWF0aW9uIGluY2x1ZGluZyBpbnN0cnVjdG9yIGFuZCBsZXNzb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ291cnNlIHtcbiAgLyoqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY291cnNlICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKiBDb3Vyc2UgdGl0bGUgKi9cbiAgdGl0bGU6IHN0cmluZztcbiAgLyoqIENvdXJzZSBpbnN0cnVjdG9yIGRldGFpbHMgKi9cbiAgaW5zdHJ1Y3RvcjogSW5zdHJ1Y3RvcjtcbiAgLyoqIEluc3RydWN0b3IgSUQgcmVmZXJlbmNlICovXG4gIGluc3RydWN0b3JJZD86IHN0cmluZztcbiAgLyoqIENhdGVnb3J5IGlkZW50aWZpZXIgKi9cbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgLyoqIFVSTCB0byBjb3Vyc2UgdGh1bWJuYWlsIGltYWdlICovXG4gIHRodW1ibmFpbDogc3RyaW5nO1xuICAvKiogVVJMIHRvIGNvdXJzZSBiYW5uZXIgaW1hZ2UgKi9cbiAgYmFubmVyOiBzdHJpbmc7XG4gIC8qKiBVUkwgdG8gY291cnNlIHZpZGVvIChmb3IgaGVybyBiYW5uZXIpICovXG4gIHZpZGVvVXJsPzogc3RyaW5nO1xuICAvKiogQ291cnNlIGRlc2NyaXB0aW9uICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIC8qKiBBcnJheSBvZiBjb3Vyc2UgbGVzc29ucyAqL1xuICBsZXNzb25zOiBMZXNzb25bXTtcbiAgLyoqIFdoZXRoZXIgdGhlIGNvdXJzZSBpcyBmZWF0dXJlZCAqL1xuICBmZWF0dXJlZD86IGJvb2xlYW47XG4gIC8qKiBUb3RhbCBYUCBwb2ludHMgYXZhaWxhYmxlIGZvciB0aGUgY291cnNlICovXG4gIHRvdGFsWFA6IG51bWJlcjtcbiAgLyoqIFdoZXRoZXIgdGhlIGNvdXJzZSBpcyBjb21pbmcgc29vbiAqL1xuICBjb21pbmdTb29uPzogYm9vbGVhbjtcbiAgLyoqIEV4cGVjdGVkIHJlbGVhc2UgZGF0ZSBmb3IgY29taW5nIHNvb24gY291cnNlcyAqL1xuICByZWxlYXNlRGF0ZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBDb3Vyc2UgQ2F0ZWdvcnlcbiAqIENvdXJzZSBjbGFzc2lmaWNhdGlvbiBhbmQgZ3JvdXBpbmdcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeSB7XG4gIC8qKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNhdGVnb3J5ICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKiBDYXRlZ29yeSBuYW1lICovXG4gIG5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBBY2hpZXZlbWVudFxuICogUmVwcmVzZW50cyBhIHVzZXIgYWNoaWV2ZW1lbnQgb3IgYmFkZ2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY2hpZXZlbWVudCB7XG4gIC8qKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGFjaGlldmVtZW50ICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKiBBY2hpZXZlbWVudCB0aXRsZSAqL1xuICB0aXRsZTogc3RyaW5nO1xuICAvKiogQWNoaWV2ZW1lbnQgZGVzY3JpcHRpb24gKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqIEljb24gbmFtZSBmb3IgdGhlIGFjaGlldmVtZW50ICovXG4gIGljb246IHN0cmluZztcbiAgLyoqIFhQIHBvaW50cyBhd2FyZGVkIGZvciBlYXJuaW5nIHRoZSBhY2hpZXZlbWVudCAqL1xuICB4cFBvaW50czogbnVtYmVyO1xuICAvKiogRGF0ZSB3aGVuIHRoZSBhY2hpZXZlbWVudCB3YXMgZWFybmVkICovXG4gIGVhcm5lZERhdGU/OiBEYXRlO1xuICAvKiogUHJvZ3Jlc3MgdG93YXJkcyBlYXJuaW5nIHRoZSBhY2hpZXZlbWVudCAoMC0xMDApICovXG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIC8qKiBUeXBlIG9mIGFjaGlldmVtZW50ICovXG4gIHR5cGU6ICdjb3Vyc2UnIHwgJ3N0cmVhaycgfCAnc29jaWFsJyB8ICdtaWxlc3RvbmUnO1xufVxuXG4vKipcbiAqIExlYXJuaW5nIFN0cmVha1xuICogVHJhY2tzIGRhaWx5IGxlYXJuaW5nIGNvbnNpc3RlbmN5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGVhcm5pbmdTdHJlYWsge1xuICAvKiogQ3VycmVudCBzdHJlYWsgY291bnQgKGRheXMpICovXG4gIGN1cnJlbnQ6IG51bWJlcjtcbiAgLyoqIExvbmdlc3Qgc3RyZWFrIGFjaGlldmVkICovXG4gIGxvbmdlc3Q6IG51bWJlcjtcbiAgLyoqIExhc3QgbGVhcm5pbmcgYWN0aXZpdHkgZGF0ZSAqL1xuICBsYXN0QWN0aXZpdHlEYXRlOiBEYXRlO1xuICAvKiogU3RyZWFrIGhpc3RvcnkgKGxhc3QgMzAgZGF5cykgKi9cbiAgaGlzdG9yeToge1xuICAgIGRhdGU6IERhdGU7XG4gICAgY29tcGxldGVkOiBib29sZWFuO1xuICB9W107XG59XG5cbi8qKlxuICogVXNlciBMZXZlbFxuICogUmVwcmVzZW50cyB1c2VyIHByb2dyZXNzaW9uIGxldmVsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckxldmVsIHtcbiAgLyoqIEN1cnJlbnQgbGV2ZWwgbnVtYmVyICovXG4gIGN1cnJlbnQ6IG51bWJlcjtcbiAgLyoqIFhQIHBvaW50cyBpbiBjdXJyZW50IGxldmVsICovXG4gIGN1cnJlbnRYUDogbnVtYmVyO1xuICAvKiogWFAgcG9pbnRzIG5lZWRlZCBmb3IgbmV4dCBsZXZlbCAqL1xuICBuZXh0TGV2ZWxYUDogbnVtYmVyO1xuICAvKiogVG90YWwgWFAgcG9pbnRzIGVhcm5lZCAqL1xuICB0b3RhbFhQOiBudW1iZXI7XG59XG5cbi8qKlxuICogQ2VydGlmaWNhdGVcbiAqIFJlcHJlc2VudHMgYSBjb3Vyc2UgY29tcGxldGlvbiBjZXJ0aWZpY2F0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENlcnRpZmljYXRlIHtcbiAgLyoqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2VydGlmaWNhdGUgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqIENvdXJzZSB0aGUgY2VydGlmaWNhdGUgaXMgZm9yICovXG4gIGNvdXJzZUlkOiBzdHJpbmc7XG4gIC8qKiBDb3Vyc2UgdGl0bGUgKi9cbiAgY291cnNlVGl0bGU6IHN0cmluZztcbiAgLyoqIERhdGUgY2VydGlmaWNhdGUgd2FzIGVhcm5lZCAqL1xuICBlYXJuZWREYXRlOiBEYXRlO1xuICAvKiogU3R1ZGVudCBuYW1lIG9uIGNlcnRpZmljYXRlICovXG4gIHN0dWRlbnROYW1lOiBzdHJpbmc7XG4gIC8qKiBJbnN0cnVjdG9yIHdobyBzaWduZWQgdGhlIGNlcnRpZmljYXRlICovXG4gIGluc3RydWN0b3I6IHN0cmluZztcbiAgLyoqIENlcnRpZmljYXRlIHZlcmlmaWNhdGlvbiBjb2RlICovXG4gIHZlcmlmaWNhdGlvbkNvZGU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBVc2VyIFByb2dyZXNzXG4gKiBUcmFja3MgYSB1c2VyJ3MgcHJvZ3Jlc3MgdGhyb3VnaCBhIGNvdXJzZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJQcm9ncmVzcyB7XG4gIC8qKiBDb3Vyc2UgaWRlbnRpZmllciAqL1xuICBjb3Vyc2VJZDogc3RyaW5nO1xuICAvKiogQ3VycmVudCBsZXNzb24gaWRlbnRpZmllciAqL1xuICBsZXNzb25JZDogc3RyaW5nO1xuICAvKiogV2hldGhlciB0aGUgY291cnNlIGlzIGNvbXBsZXRlZCAqL1xuICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gIC8qKiBQcm9ncmVzcyBwZXJjZW50YWdlICgwLTEwMCkgKi9cbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgLyoqIElTTyBkYXRlIHN0cmluZyBvZiBsYXN0IHdhdGNoZWQgdGltZXN0YW1wICovXG4gIGxhc3RXYXRjaGVkOiBzdHJpbmc7XG4gIC8qKiBDZXJ0aWZpY2F0ZSBlYXJuZWQgdXBvbiBjb21wbGV0aW9uICovXG4gIGNlcnRpZmljYXRlPzogQ2VydGlmaWNhdGU7XG4gIC8qKiBYUCBwb2ludHMgZWFybmVkIGluIHRoaXMgY291cnNlICovXG4gIHhwRWFybmVkOiBudW1iZXI7XG4gIC8qKiBDb21wbGV0ZWQgbGVzc29uIElEcyAqL1xuICBjb21wbGV0ZWRMZXNzb25zOiBzdHJpbmdbXTtcbn1cblxuLyoqXG4gKiBDb3Vyc2UgUHJvZ3Jlc3NcbiAqIEV4dGVuZHMgQ291cnNlIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcgaW5mb3JtYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb3Vyc2VQcm9ncmVzcyBleHRlbmRzIENvdXJzZSB7XG4gIC8qKiBQcm9ncmVzcyBwZXJjZW50YWdlICgwLTEwMCkgKi9cbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgLyoqIEN1cnJlbnQgbGVzc29uIGJlaW5nIHdhdGNoZWQgKi9cbiAgY3VycmVudExlc3NvbjogTGVzc29uO1xuICAvKiogSVNPIGRhdGUgc3RyaW5nIG9mIGxhc3Qgd2F0Y2hlZCB0aW1lc3RhbXAgKi9cbiAgbGFzdFdhdGNoZWQ6IHN0cmluZztcbiAgLyoqIENlcnRpZmljYXRlIGVhcm5lZCB1cG9uIGNvbXBsZXRpb24gKi9cbiAgY2VydGlmaWNhdGU/OiBDZXJ0aWZpY2F0ZTtcbiAgLyoqIFhQIHBvaW50cyBlYXJuZWQgaW4gdGhpcyBjb3Vyc2UgKi9cbiAgeHBFYXJuZWQ6IG51bWJlcjtcbiAgLyoqIENvbXBsZXRlZCBsZXNzb24gSURzICovXG4gIGNvbXBsZXRlZExlc3NvbnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB0eXBlOiAnaW5mbycgfCAnc3VjY2VzcycgfCAnd2FybmluZycgfCAnZXJyb3InO1xuICBpc19yZWFkOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVmlkZW8gUHJvZ3Jlc3MgVHJhY2tpbmdcbiAqIEVuaGFuY2VkIHRyYWNraW5nIGZvciB2aWRlbyBwbGF5YmFjayB3aXRoIGdyYW51bGFyIGludGVydmFsc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvUHJvZ3Jlc3Mge1xuICAvKiogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcHJvZ3Jlc3Mgc2Vzc2lvbiAqL1xuICBpZDogc3RyaW5nO1xuICAvKiogVXNlciBpZGVudGlmaWVyICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKiogQ291cnNlIGlkZW50aWZpZXIgKi9cbiAgY291cnNlSWQ6IHN0cmluZztcbiAgLyoqIExlc3NvbiBpZGVudGlmaWVyICovXG4gIGxlc3NvbklkOiBzdHJpbmc7XG4gIC8qKiBDdXJyZW50IHBsYXliYWNrIHRpbWUgaW4gc2Vjb25kcyAqL1xuICBjdXJyZW50VGltZTogbnVtYmVyO1xuICAvKiogVG90YWwgZHVyYXRpb24gaW4gc2Vjb25kcyAqL1xuICBkdXJhdGlvbjogbnVtYmVyO1xuICAvKiogUHJvZ3Jlc3MgcGVyY2VudGFnZSAoMC0xMDApICovXG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIC8qKiBXaGV0aGVyIHRoZSB2aWRlbyBpcyBjdXJyZW50bHkgcGxheWluZyAqL1xuICBpc1BsYXlpbmc6IGJvb2xlYW47XG4gIC8qKiBXaGV0aGVyIHRoZSB2aWRlbyBpcyBtdXRlZCAqL1xuICBpc011dGVkOiBib29sZWFuO1xuICAvKiogQ3VycmVudCBwbGF5YmFjayByYXRlICovXG4gIHBsYXliYWNrUmF0ZTogbnVtYmVyO1xuICAvKiogVGltZXN0YW1wIG9mIGxhc3QgdXBkYXRlICovXG4gIGxhc3RVcGRhdGVkOiBzdHJpbmc7XG4gIC8qKiBEZXZpY2UgaWRlbnRpZmllciBmb3IgY3Jvc3MtZGV2aWNlIHN5bmMgKi9cbiAgZGV2aWNlSWQ6IHN0cmluZztcbiAgLyoqIFNlc3Npb24gaWRlbnRpZmllciBmb3IgdGhpcyB2aWV3aW5nIHNlc3Npb24gKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIHRoaXMgaXMgdGhlIHByaW1hcnkgZGV2aWNlICovXG4gIGlzUHJpbWFyeURldmljZTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBHcmFudWxhciBWaWRlbyBUcmFja2luZyBEYXRhXG4gKiAzMC1zZWNvbmQgaW50ZXJ2YWwgdHJhY2tpbmcgZm9yIGRldGFpbGVkIGFuYWx5dGljc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEdyYW51bGFyVHJhY2tpbmdEYXRhIHtcbiAgLyoqIEludGVydmFsIHN0YXJ0IHRpbWUgaW4gc2Vjb25kcyAqL1xuICBzdGFydFRpbWU6IG51bWJlcjtcbiAgLyoqIEludGVydmFsIGVuZCB0aW1lIGluIHNlY29uZHMgKi9cbiAgZW5kVGltZTogbnVtYmVyO1xuICAvKiogVGltZSBzcGVudCBpbiB0aGlzIGludGVydmFsICovXG4gIHRpbWVTcGVudDogbnVtYmVyO1xuICAvKiogV2hldGhlciB1c2VyIHdhcyBhY3RpdmVseSB3YXRjaGluZyAqL1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgLyoqIFVzZXIgaW50ZXJhY3Rpb25zIGR1cmluZyB0aGlzIGludGVydmFsICovXG4gIGludGVyYWN0aW9uczogVmlkZW9JbnRlcmFjdGlvbltdO1xuICAvKiogVGltZXN0YW1wIG9mIGludGVydmFsICovXG4gIHRpbWVzdGFtcDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFZpZGVvIEludGVyYWN0aW9uXG4gKiBUcmFja3MgdXNlciBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgdmlkZW8gcGxheWVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9JbnRlcmFjdGlvbiB7XG4gIC8qKiBUeXBlIG9mIGludGVyYWN0aW9uICovXG4gIHR5cGU6ICdwbGF5JyB8ICdwYXVzZScgfCAnc2VlaycgfCAndm9sdW1lX2NoYW5nZScgfCAnZnVsbHNjcmVlbicgfCAnc3BlZWRfY2hhbmdlJyB8ICd2aWRlb19jb21wbGV0ZWQnO1xuICAvKiogVGltZSB3aGVuIGludGVyYWN0aW9uIG9jY3VycmVkICovXG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICAvKiogQWRkaXRpb25hbCBkYXRhIGZvciB0aGUgaW50ZXJhY3Rpb24gKi9cbiAgZGF0YT86IHtcbiAgICBzZWVrVG8/OiBudW1iZXI7XG4gICAgdm9sdW1lPzogbnVtYmVyO1xuICAgIHBsYXliYWNrUmF0ZT86IG51bWJlcjtcbiAgICBpc0Z1bGxzY3JlZW4/OiBib29sZWFuO1xuICAgIGxlc3NvbklkPzogc3RyaW5nO1xuICAgIGNvdXJzZUlkPzogc3RyaW5nO1xuICAgIGNvbXBsZXRpb25UaW1lPzogbnVtYmVyO1xuICAgIHRvdGFsRHVyYXRpb24/OiBudW1iZXI7XG4gICAgY29tcGxldGlvblBlcmNlbnRhZ2U/OiBudW1iZXI7XG4gIH07XG59XG5cbi8qKlxuICogU21hcnQgUmVzdW1lIERhdGFcbiAqIFN0b3JlcyByZXN1bWUgcG9pbnRzIHdpdGggYnVmZmVyIGluZm9ybWF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU21hcnRSZXN1bWVEYXRhIHtcbiAgLyoqIFJlc3VtZSB0aW1lIGluIHNlY29uZHMgKi9cbiAgcmVzdW1lVGltZTogbnVtYmVyO1xuICAvKiogQnVmZmVyIHRpbWUgaW4gc2Vjb25kcyAoZGVmYXVsdCAxMCBzZWNvbmRzKSAqL1xuICBidWZmZXJUaW1lOiBudW1iZXI7XG4gIC8qKiBFZmZlY3RpdmUgcmVzdW1lIHRpbWUgKHJlc3VtZVRpbWUgLSBidWZmZXJUaW1lKSAqL1xuICBlZmZlY3RpdmVSZXN1bWVUaW1lOiBudW1iZXI7XG4gIC8qKiBUaW1lc3RhbXAgd2hlbiByZXN1bWUgZGF0YSB3YXMgY3JlYXRlZCAqL1xuICB0aW1lc3RhbXA6IHN0cmluZztcbiAgLyoqIERldmljZSBpZGVudGlmaWVyICovXG4gIGRldmljZUlkOiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIHRoaXMgaXMgdGhlIG1vc3QgcmVjZW50IHJlc3VtZSBwb2ludCAqL1xuICBpc0xhdGVzdDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDcm9zcy1EZXZpY2UgU3luYyBNZXNzYWdlXG4gKiBXZWJTb2NrZXQgbWVzc2FnZSBmb3Igc3luY2hyb25pemluZyB2aWRlbyBwcm9ncmVzcyBhY3Jvc3MgZGV2aWNlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENyb3NzRGV2aWNlU3luY01lc3NhZ2Uge1xuICAvKiogTWVzc2FnZSB0eXBlICovXG4gIHR5cGU6ICdwcm9ncmVzc191cGRhdGUnIHwgJ3BsYXlfc3RhdGUnIHwgJ3Jlc3VtZV9wb2ludCcgfCAnZGV2aWNlX2Nvbm5lY3RlZCcgfCAnZGV2aWNlX2Rpc2Nvbm5lY3RlZCc7XG4gIC8qKiBVc2VyIGlkZW50aWZpZXIgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKiBEZXZpY2UgaWRlbnRpZmllciAqL1xuICBkZXZpY2VJZDogc3RyaW5nO1xuICAvKiogU2Vzc2lvbiBpZGVudGlmaWVyICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKiogTWVzc2FnZSBwYXlsb2FkICovXG4gIHBheWxvYWQ6IHtcbiAgICBjb3Vyc2VJZD86IHN0cmluZztcbiAgICBsZXNzb25JZD86IHN0cmluZztcbiAgICBjdXJyZW50VGltZT86IG51bWJlcjtcbiAgICBpc1BsYXlpbmc/OiBib29sZWFuO1xuICAgIHJlc3VtZVRpbWU/OiBudW1iZXI7XG4gICAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIH07XG59XG5cbi8qKlxuICogUmVhbC10aW1lIFByb2dyZXNzIFZpc3VhbGl6YXRpb24gRGF0YVxuICogRGF0YSBzdHJ1Y3R1cmUgZm9yIHJlYWwtdGltZSBwcm9ncmVzcyBkaXNwbGF5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhbFRpbWVQcm9ncmVzc0RhdGEge1xuICAvKiogQ3VycmVudCBwcm9ncmVzcyBwZXJjZW50YWdlICovXG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIC8qKiBUaW1lIHdhdGNoZWQgaW4gY3VycmVudCBzZXNzaW9uICovXG4gIHNlc3Npb25UaW1lV2F0Y2hlZDogbnVtYmVyO1xuICAvKiogVG90YWwgdGltZSB3YXRjaGVkIGFjcm9zcyBhbGwgc2Vzc2lvbnMgKi9cbiAgdG90YWxUaW1lV2F0Y2hlZDogbnVtYmVyO1xuICAvKiogRXN0aW1hdGVkIHRpbWUgcmVtYWluaW5nICovXG4gIHRpbWVSZW1haW5pbmc6IG51bWJlcjtcbiAgLyoqIEN1cnJlbnQgcGxheWJhY2sgc3BlZWQgKi9cbiAgcGxheWJhY2tTcGVlZDogbnVtYmVyO1xuICAvKiogV2hldGhlciB1c2VyIGlzIGFjdGl2ZWx5IHdhdGNoaW5nICovXG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICAvKiogTGFzdCBhY3Rpdml0eSB0aW1lc3RhbXAgKi9cbiAgbGFzdEFjdGl2aXR5OiBzdHJpbmc7XG4gIC8qKiBEZXZpY2UgaW5mb3JtYXRpb24gKi9cbiAgZGV2aWNlSW5mbzoge1xuICAgIGRldmljZUlkOiBzdHJpbmc7XG4gICAgZGV2aWNlVHlwZTogJ2Rlc2t0b3AnIHwgJ21vYmlsZScgfCAndGFibGV0JztcbiAgICBicm93c2VyOiBzdHJpbmc7XG4gICAgaXNQcmltYXJ5OiBib29sZWFuO1xuICB9O1xufVxuXG4vKipcbiAqIFZpZGVvIEFuYWx5dGljcyBTdW1tYXJ5XG4gKiBBZ2dyZWdhdGVkIGFuYWx5dGljcyBkYXRhIGZvciB2aWRlbyB2aWV3aW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9BbmFseXRpY3NTdW1tYXJ5IHtcbiAgLyoqIFRvdGFsIHZpZXdzIG9mIHRoaXMgdmlkZW8gKi9cbiAgdG90YWxWaWV3czogbnVtYmVyO1xuICAvKiogQXZlcmFnZSBjb21wbGV0aW9uIHJhdGUgKi9cbiAgYXZlcmFnZUNvbXBsZXRpb25SYXRlOiBudW1iZXI7XG4gIC8qKiBBdmVyYWdlIHdhdGNoIHRpbWUgaW4gc2Vjb25kcyAqL1xuICBhdmVyYWdlV2F0Y2hUaW1lOiBudW1iZXI7XG4gIC8qKiBNb3N0IGNvbW1vbiBkcm9wLW9mZiBwb2ludHMgKi9cbiAgZHJvcE9mZlBvaW50czogbnVtYmVyW107XG4gIC8qKiBFbmdhZ2VtZW50IGhlYXRtYXAgZGF0YSAqL1xuICBlbmdhZ2VtZW50SGVhdG1hcDoge1xuICAgIHRpbWU6IG51bWJlcjtcbiAgICBlbmdhZ2VtZW50OiBudW1iZXI7XG4gIH1bXTtcbiAgLyoqIERldmljZSB1c2FnZSBzdGF0aXN0aWNzICovXG4gIGRldmljZVVzYWdlOiB7XG4gICAgZGVza3RvcDogbnVtYmVyO1xuICAgIG1vYmlsZTogbnVtYmVyO1xuICAgIHRhYmxldDogbnVtYmVyO1xuICB9O1xuICAvKiogQ3Jvc3MtZGV2aWNlIHVzYWdlIHN0YXRpc3RpY3MgKi9cbiAgY3Jvc3NEZXZpY2VVc2FnZToge1xuICAgIHNpbmdsZURldmljZTogbnVtYmVyO1xuICAgIG11bHRpcGxlRGV2aWNlczogbnVtYmVyO1xuICAgIGF2ZXJhZ2VEZXZpY2VzUGVyVXNlcjogbnVtYmVyO1xuICB9O1xufVxuXG4vKipcbiAqIFZpZGVvIEFuYWx5dGljc1xuICogSW5kaXZpZHVhbCBsZXNzb24gYW5hbHl0aWNzIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb0FuYWx5dGljcyB7XG4gIC8qKiBUb3RhbCBudW1iZXIgb2Ygdmlld2luZyBzZXNzaW9ucyAqL1xuICB0b3RhbFNlc3Npb25zOiBudW1iZXI7XG4gIC8qKiBUb3RhbCB3YXRjaCB0aW1lIGluIHNlY29uZHMgKi9cbiAgdG90YWxXYXRjaFRpbWU6IG51bWJlcjtcbiAgLyoqIEF2ZXJhZ2Ugc2Vzc2lvbiBkdXJhdGlvbiBpbiBzZWNvbmRzICovXG4gIGF2ZXJhZ2VTZXNzaW9uRHVyYXRpb246IG51bWJlcjtcbiAgLyoqIENvbXBsZXRpb24gcmF0ZSBwZXJjZW50YWdlICgwLTEwMCkgKi9cbiAgY29tcGxldGlvblJhdGU6IG51bWJlcjtcbiAgLyoqIEVuZ2FnZW1lbnQgc2NvcmUgcGVyY2VudGFnZSAoMC0xMDApICovXG4gIGVuZ2FnZW1lbnRTY29yZTogbnVtYmVyO1xufSJdLCJuYW1lcyI6WyJST0xFX1BFUk1JU1NJT05TIiwic3VwZXJfYWRtaW4iLCJjb250ZW50X21hbmFnZXIiLCJjb21tdW5pdHlfbWFuYWdlciIsInVzZXJfc3VwcG9ydCIsInVzZXIiLCJoYXNQZXJtaXNzaW9uIiwidXNlclBlcm1pc3Npb25zIiwicmVxdWlyZWRQZXJtaXNzaW9uIiwiaW5jbHVkZXMiLCJoYXNBbnlQZXJtaXNzaW9uIiwicmVxdWlyZWRQZXJtaXNzaW9ucyIsInNvbWUiLCJwZXJtaXNzaW9uIiwiaGFzQWxsUGVybWlzc2lvbnMiLCJldmVyeSIsIlJPTEVfSElFUkFSQ0hZIiwiY2FuTWFuYWdlUm9sZSIsImN1cnJlbnRVc2VyUm9sZSIsInRhcmdldFJvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/types/index.ts\n");

/***/ }),

/***/ "./src/utils/consoleStorage.ts":
/*!*************************************!*\
  !*** ./src/utils/consoleStorage.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearStorage: () => (/* binding */ clearStorage),\n/* harmony export */   clearStorageByPattern: () => (/* binding */ clearStorageByPattern),\n/* harmony export */   exportStorage: () => (/* binding */ exportStorage),\n/* harmony export */   initConsoleStorage: () => (/* binding */ initConsoleStorage),\n/* harmony export */   showStorage: () => (/* binding */ showStorage),\n/* harmony export */   storageInfo: () => (/* binding */ storageInfo)\n/* harmony export */ });\n/**\r\n * Console Storage Management Utilities\r\n * These functions can be run directly in the browser console\r\n */ // Make functions available globally for console access\n/**\r\n * Clear all local storage\r\n */ const clearStorage = ()=>{\n    try {\n        const itemCount = localStorage.length;\n        localStorage.clear();\n        console.log(`🧹 Cleared ${itemCount} items from local storage`);\n        console.log(\"✅ Local storage cleared successfully!\");\n        return true;\n    } catch (error) {\n        console.error(\"❌ Error clearing local storage:\", error);\n        return false;\n    }\n};\n/**\r\n * Show all local storage items\r\n */ const showStorage = ()=>{\n    try {\n        const items = [];\n        for(let i = 0; i < localStorage.length; i++){\n            const key = localStorage.key(i);\n            if (key) {\n                const value = localStorage.getItem(key);\n                items.push({\n                    key,\n                    value: value ? JSON.parse(value) : null,\n                    size: value ? value.length : 0\n                });\n            }\n        }\n        console.table(items);\n        console.log(`📊 Total items: ${items.length}`);\n        return items;\n    } catch (error) {\n        console.error(\"❌ Error showing storage:\", error);\n        return null;\n    }\n};\n/**\r\n * Export local storage as JSON\r\n */ const exportStorage = ()=>{\n    try {\n        const items = [];\n        for(let i = 0; i < localStorage.length; i++){\n            const key = localStorage.key(i);\n            if (key) {\n                const value = localStorage.getItem(key);\n                items.push({\n                    key,\n                    value: value ? JSON.parse(value) : null,\n                    timestamp: Date.now()\n                });\n            }\n        }\n        const data = {\n            timestamp: Date.now(),\n            items\n        };\n        const jsonString = JSON.stringify(data, null, 2);\n        const blob = new Blob([\n            jsonString\n        ], {\n            type: \"application/json\"\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = `local-storage-backup-${new Date().toISOString().split(\"T\")[0]}.json`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n        console.log(\"\\uD83D\\uDCE4 Storage exported successfully!\");\n        return true;\n    } catch (error) {\n        console.error(\"❌ Error exporting storage:\", error);\n        return false;\n    }\n};\n/**\r\n * Show storage information\r\n */ const storageInfo = ()=>{\n    try {\n        const items = showStorage();\n        if (!items) return null;\n        const totalSize = items.reduce((sum, item)=>sum + (item.size || 0), 0);\n        const totalSizeKB = (totalSize / 1024).toFixed(2);\n        const info = {\n            itemCount: items.length,\n            totalSize: totalSize,\n            totalSizeKB: totalSizeKB,\n            keys: items.map((item)=>item.key)\n        };\n        console.log(\"\\uD83D\\uDCCA Storage Information:\", info);\n        return info;\n    } catch (error) {\n        console.error(\"❌ Error getting storage info:\", error);\n        return null;\n    }\n};\n/**\r\n * Clear specific storage items by key pattern\r\n */ const clearStorageByPattern = (pattern)=>{\n    try {\n        const keysToRemove = [];\n        for(let i = 0; i < localStorage.length; i++){\n            const key = localStorage.key(i);\n            if (key && key.includes(pattern)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach((key)=>localStorage.removeItem(key));\n        console.log(`🧹 Cleared ${keysToRemove.length} items matching pattern \"${pattern}\"`);\n        console.log(\"Removed keys:\", keysToRemove);\n        return keysToRemove;\n    } catch (error) {\n        console.error(\"❌ Error clearing storage by pattern:\", error);\n        return [];\n    }\n};\n/**\r\n * Initialize console utilities\r\n */ const initConsoleStorage = ()=>{\n    // Make functions available globally\n    window.clearStorage = clearStorage;\n    window.showStorage = showStorage;\n    window.exportStorage = exportStorage;\n    window.storageInfo = storageInfo;\n    console.log(\"\\uD83D\\uDD27 Storage utilities initialized!\");\n    console.log(\"Available commands:\");\n    console.log(\"- clearStorage() - Clear all local storage\");\n    console.log(\"- showStorage() - Show all storage items\");\n    console.log(\"- exportStorage() - Export storage as JSON\");\n    console.log(\"- storageInfo() - Show storage information\");\n    console.log(\"- clearStorageByPattern(pattern) - Clear items by pattern\");\n};\n// Auto-initialize when this module is loaded\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTXFELHFCQUFxQjtJQUNoQyxvQ0FBb0M7SUFDcENDLE9BQU83RCxZQUFZLEdBQUdBO0lBQ3RCNkQsT0FBT3JELFdBQVcsR0FBR0E7SUFDckJxRCxPQUFPMUMsYUFBYSxHQUFHQTtJQUN2QjBDLE9BQU9qQixXQUFXLEdBQUdBO0lBRXJCdkMsUUFBUUMsR0FBRyxDQUFDO0lBQ1pELFFBQVFDLEdBQUcsQ0FBQztJQUNaRCxRQUFRQyxHQUFHLENBQUM7SUFDWkQsUUFBUUMsR0FBRyxDQUFDO0lBQ1pELFFBQVFDLEdBQUcsQ0FBQztJQUNaRCxRQUFRQyxHQUFHLENBQUM7SUFDWkQsUUFBUUMsR0FBRyxDQUFDO0FBQ2QsRUFBRTtBQUVGLDZDQUE2QztBQUM3QyxJQUFJLEtBQWtCLEVBQWEsRUFFbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXJzdHJlYW0tbGVhcm5pbmctcGxhdGZvcm0vLi9zcmMvdXRpbHMvY29uc29sZVN0b3JhZ2UudHM/ZjY0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29uc29sZSBTdG9yYWdlIE1hbmFnZW1lbnQgVXRpbGl0aWVzXHJcbiAqIFRoZXNlIGZ1bmN0aW9ucyBjYW4gYmUgcnVuIGRpcmVjdGx5IGluIHRoZSBicm93c2VyIGNvbnNvbGVcclxuICovXHJcblxyXG4vLyBNYWtlIGZ1bmN0aW9ucyBhdmFpbGFibGUgZ2xvYmFsbHkgZm9yIGNvbnNvbGUgYWNjZXNzXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgIGNsZWFyU3RvcmFnZTogKCkgPT4gdm9pZDtcclxuICAgIHNob3dTdG9yYWdlOiAoKSA9PiB2b2lkO1xyXG4gICAgZXhwb3J0U3RvcmFnZTogKCkgPT4gdm9pZDtcclxuICAgIHN0b3JhZ2VJbmZvOiAoKSA9PiB2b2lkO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENsZWFyIGFsbCBsb2NhbCBzdG9yYWdlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2xlYXJTdG9yYWdlID0gKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBpdGVtQ291bnQgPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xyXG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+nuSBDbGVhcmVkICR7aXRlbUNvdW50fSBpdGVtcyBmcm9tIGxvY2FsIHN0b3JhZ2VgKTtcclxuICAgIGNvbnNvbGUubG9nKCfinIUgTG9jYWwgc3RvcmFnZSBjbGVhcmVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY2xlYXJpbmcgbG9jYWwgc3RvcmFnZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNob3cgYWxsIGxvY2FsIHN0b3JhZ2UgaXRlbXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBzaG93U3RvcmFnZSA9ICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaXRlbXM6IGFueVtdID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xyXG4gICAgICBpZiAoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAga2V5LFxyXG4gICAgICAgICAgdmFsdWU6IHZhbHVlID8gSlNPTi5wYXJzZSh2YWx1ZSkgOiBudWxsLFxyXG4gICAgICAgICAgc2l6ZTogdmFsdWUgPyB2YWx1ZS5sZW5ndGggOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLnRhYmxlKGl0ZW1zKTtcclxuICAgIGNvbnNvbGUubG9nKGDwn5OKIFRvdGFsIGl0ZW1zOiAke2l0ZW1zLmxlbmd0aH1gKTtcclxuICAgIHJldHVybiBpdGVtcztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHNob3dpbmcgc3RvcmFnZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogRXhwb3J0IGxvY2FsIHN0b3JhZ2UgYXMgSlNPTlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGV4cG9ydFN0b3JhZ2UgPSAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGl0ZW1zOiBhbnlbXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcclxuICAgICAgaWYgKGtleSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgIGtleSxcclxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSA/IEpTT04ucGFyc2UodmFsdWUpIDogbnVsbCxcclxuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICBpdGVtc1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XHJcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2pzb25TdHJpbmddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcclxuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgYS5ocmVmID0gdXJsO1xyXG4gICAgYS5kb3dubG9hZCA9IGBsb2NhbC1zdG9yYWdlLWJhY2t1cC0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5qc29uYDtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xyXG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCfwn5OkIFN0b3JhZ2UgZXhwb3J0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBleHBvcnRpbmcgc3RvcmFnZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNob3cgc3RvcmFnZSBpbmZvcm1hdGlvblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHN0b3JhZ2VJbmZvID0gKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IHNob3dTdG9yYWdlKCk7XHJcbiAgICBpZiAoIWl0ZW1zKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBjb25zdCB0b3RhbFNpemUgPSBpdGVtcy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgKGl0ZW0uc2l6ZSB8fCAwKSwgMCk7XHJcbiAgICBjb25zdCB0b3RhbFNpemVLQiA9ICh0b3RhbFNpemUgLyAxMDI0KS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGNvbnN0IGluZm8gPSB7XHJcbiAgICAgIGl0ZW1Db3VudDogaXRlbXMubGVuZ3RoLFxyXG4gICAgICB0b3RhbFNpemU6IHRvdGFsU2l6ZSxcclxuICAgICAgdG90YWxTaXplS0I6IHRvdGFsU2l6ZUtCLFxyXG4gICAgICBrZXlzOiBpdGVtcy5tYXAoaXRlbSA9PiBpdGVtLmtleSlcclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5sb2coJ/Cfk4ogU3RvcmFnZSBJbmZvcm1hdGlvbjonLCBpbmZvKTtcclxuICAgIHJldHVybiBpbmZvO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZ2V0dGluZyBzdG9yYWdlIGluZm86JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENsZWFyIHNwZWNpZmljIHN0b3JhZ2UgaXRlbXMgYnkga2V5IHBhdHRlcm5cclxuICovXHJcbmV4cG9ydCBjb25zdCBjbGVhclN0b3JhZ2VCeVBhdHRlcm4gPSAocGF0dGVybjogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGtleXNUb1JlbW92ZTogc3RyaW5nW10gPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XHJcbiAgICAgIGlmIChrZXkgJiYga2V5LmluY2x1ZGVzKHBhdHRlcm4pKSB7XHJcbiAgICAgICAga2V5c1RvUmVtb3ZlLnB1c2goa2V5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGtleXNUb1JlbW92ZS5mb3JFYWNoKGtleSA9PiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpKTtcclxuICAgIGNvbnNvbGUubG9nKGDwn6e5IENsZWFyZWQgJHtrZXlzVG9SZW1vdmUubGVuZ3RofSBpdGVtcyBtYXRjaGluZyBwYXR0ZXJuIFwiJHtwYXR0ZXJufVwiYCk7XHJcbiAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCBrZXlzOicsIGtleXNUb1JlbW92ZSk7XHJcbiAgICByZXR1cm4ga2V5c1RvUmVtb3ZlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY2xlYXJpbmcgc3RvcmFnZSBieSBwYXR0ZXJuOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBjb25zb2xlIHV0aWxpdGllc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGluaXRDb25zb2xlU3RvcmFnZSA9ICgpID0+IHtcclxuICAvLyBNYWtlIGZ1bmN0aW9ucyBhdmFpbGFibGUgZ2xvYmFsbHlcclxuICB3aW5kb3cuY2xlYXJTdG9yYWdlID0gY2xlYXJTdG9yYWdlO1xyXG4gIHdpbmRvdy5zaG93U3RvcmFnZSA9IHNob3dTdG9yYWdlO1xyXG4gIHdpbmRvdy5leHBvcnRTdG9yYWdlID0gZXhwb3J0U3RvcmFnZTtcclxuICB3aW5kb3cuc3RvcmFnZUluZm8gPSBzdG9yYWdlSW5mbztcclxuXHJcbiAgY29uc29sZS5sb2coJ/CflKcgU3RvcmFnZSB1dGlsaXRpZXMgaW5pdGlhbGl6ZWQhJyk7XHJcbiAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBjb21tYW5kczonKTtcclxuICBjb25zb2xlLmxvZygnLSBjbGVhclN0b3JhZ2UoKSAtIENsZWFyIGFsbCBsb2NhbCBzdG9yYWdlJyk7XHJcbiAgY29uc29sZS5sb2coJy0gc2hvd1N0b3JhZ2UoKSAtIFNob3cgYWxsIHN0b3JhZ2UgaXRlbXMnKTtcclxuICBjb25zb2xlLmxvZygnLSBleHBvcnRTdG9yYWdlKCkgLSBFeHBvcnQgc3RvcmFnZSBhcyBKU09OJyk7XHJcbiAgY29uc29sZS5sb2coJy0gc3RvcmFnZUluZm8oKSAtIFNob3cgc3RvcmFnZSBpbmZvcm1hdGlvbicpO1xyXG4gIGNvbnNvbGUubG9nKCctIGNsZWFyU3RvcmFnZUJ5UGF0dGVybihwYXR0ZXJuKSAtIENsZWFyIGl0ZW1zIGJ5IHBhdHRlcm4nKTtcclxufTtcclxuXHJcbi8vIEF1dG8taW5pdGlhbGl6ZSB3aGVuIHRoaXMgbW9kdWxlIGlzIGxvYWRlZFxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICBpbml0Q29uc29sZVN0b3JhZ2UoKTtcclxufSJdLCJuYW1lcyI6WyJjbGVhclN0b3JhZ2UiLCJpdGVtQ291bnQiLCJsb2NhbFN0b3JhZ2UiLCJsZW5ndGgiLCJjbGVhciIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInNob3dTdG9yYWdlIiwiaXRlbXMiLCJpIiwia2V5IiwidmFsdWUiLCJnZXRJdGVtIiwicHVzaCIsIkpTT04iLCJwYXJzZSIsInNpemUiLCJ0YWJsZSIsImV4cG9ydFN0b3JhZ2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiZGF0YSIsImpzb25TdHJpbmciLCJzdHJpbmdpZnkiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJzdG9yYWdlSW5mbyIsInRvdGFsU2l6ZSIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJ0b3RhbFNpemVLQiIsInRvRml4ZWQiLCJpbmZvIiwia2V5cyIsIm1hcCIsImNsZWFyU3RvcmFnZUJ5UGF0dGVybiIsInBhdHRlcm4iLCJrZXlzVG9SZW1vdmUiLCJpbmNsdWRlcyIsImZvckVhY2giLCJyZW1vdmVJdGVtIiwiaW5pdENvbnNvbGVTdG9yYWdlIiwid2luZG93Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/consoleStorage.ts\n");

/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "firebase/analytics":
/*!*************************************!*\
  !*** external "firebase/analytics" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/analytics");;

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/storage":
/*!***********************************!*\
  !*** external "firebase/storage" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/storage");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/lucide-react","vendor-chunks/@swc"], () => (__webpack_exec__("./pages/_app.tsx")));
module.exports = __webpack_exports__;

})();